"use strict";(self.webpackChunkstudent_typescript=self.webpackChunkstudent_typescript||[]).push([[157],{56157:(e,t,i)=>{i.r(t),i.d(t,{default:()=>te});var o=i(80950),n=i(96446),l=i(68903),r=i(85865),a=i(11906),s=i(59135),d=i(60295),c=i(65043),u=i(73216),p=i(88911),x=i(60587),v=i(77739),h=i(29378),m=i(8064),g=i(99329),f=i(55797),y=i(3329),j=i(64625),A=i(18924),S=i(21834),w=i(59454),b=i(75456),F=i(61807),z=i(84201),C=i(51866),I=i(70579);const N=e=>{const t=t=>{var i,o,s,d,u,z,N,T,O,D,k,J,L,R,P,E;const _=t.data,M=Object.fromEntries(Object.entries(A.yZ).map((e=>{let[t,i]=e;return[i,t]}))),U=(0,h.GV)((e=>e.userAuthStatus)),W=(0,h.GV)((e=>e.shortlistedcourses)),B=(0,h.jL)(),[H,Y]=(0,c.useState)({}),Z=()=>{var e;const t=(new Date).getMonth(),i=null===_||void 0===_||null===(e=_.startDate)||void 0===e?void 0:e.some((e=>{const{deadlineMonth:i}=e,o=i-t;return o>=0&&o<=2}));return(0,I.jsx)(p.A,{spacing:2,sx:{marginTop:"0px !important"},children:i&&(0,I.jsx)(n.A,{children:(0,I.jsx)(a.A,{sx:{color:"#C50000",background:"#FFBEBE",borderRadius:"0.8rem",fontSize:"10px",p:0,width:"4.5rem",textTransform:"none","&:hover":{color:"#C50000",background:"#FFBEBE"}},children:"Apply Soon"})})})},V=async e=>{var t,i;switch(e.name){case"applynow":var o,n;if(null!==U&&void 0!==U&&null!==(t=U.data)&&void 0!==t&&t.isAuthorized&&null!==U&&void 0!==U&&null!==(i=U.data)&&void 0!==i&&i.isAuthorized)B((0,m.DE)({show:!0,data:{container:{name:"applynow",data:{_id:null===(o=_.course)||void 0===o?void 0:o._id,startDate:null===(n=_.course)||void 0===n?void 0:n.startDate,university:_.university},dimensions:{width:"350px",show:"none"}},type:"custom"}}));else B((0,m.DE)({show:!0,data:{container:{name:"login",dimensions:{width:"800px",height:"70%",show:"none"}},type:"custom"}}));break;case"shortlist":try{var l,r;if(null!==U&&void 0!==U&&null!==(l=U.data)&&void 0!==l&&l.isAuthorized&&null!==U&&void 0!==U&&null!==(r=U.data)&&void 0!==r&&r.isAuthorized){var a;Y((t=>({...t,[e.data._id]:!0})));const t={action:"push",courseId:null===(a=e.data)||void 0===a?void 0:a._id},i=await(0,f.ZK)(t);i.data.success?(B((0,y.u$)(i.data.data)),Y((t=>({...t,[e.data._id]:!1})))):Y((t=>({...t,[e.data._id]:!1})))}else B((0,m.DE)({show:!0,data:{container:{name:"login",dimensions:{width:"800px",height:"70%",show:"none"}},type:"custom"}}))}catch(d){console.error("An error occurred while shortlisting:",d),Y((t=>({...t,[e.data._id]:!1})))}break;case"delete":try{var s;Y((t=>({...t,[e.data._id]:!0})));const t={action:"pull",courseId:null===(s=e.data)||void 0===s?void 0:s._id},i=await(0,f.ZK)(t);i.data.success&&(Y((t=>({...t,[e.data._id]:!1}))),B((0,y.u$)(i.data.data)))}catch(d){Y((t=>({...t,[e.data.course._id]:!1}))),console.error("An error occurred while unshortlisting:",d)}}};return(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)(n.A,{sx:{background:"#F7FAFB",padding:"1rem",borderRadius:"10px",position:"relative"},children:[_.featured&&(0,I.jsx)(r.A,{sx:F.U1.featured,children:"Featured"}),(0,I.jsxs)(l.Ay,{container:!0,children:[(0,I.jsxs)(l.Ay,{item:!0,xs:12,md:5,sx:{display:"flex",gap:"0.5rem"},children:[(0,I.jsxs)("div",{style:{display:"flex",gap:"10px",alignItems:"center",width:"360px",cursor:"pointer"},onClick:e=>{e.preventDefault(),e.stopPropagation();const t=window.scrollY;console.log("=== COURSE CLICK DEBUG ==="),console.log("Current scroll position:",t),t>0?(localStorage.setItem("exploreScrollPosition",t.toString()),console.log("Stored scroll position:",t)):console.log("Already at top, no need to store scroll position"),B((0,m.DE)({show:!0,data:{container:{name:"mainPopup",data:_,dimensions:{width:"80%"}},type:"custom"}}))},children:[(0,I.jsx)(n.A,{sx:{display:"flex",flexDirection:"column"},children:(0,I.jsx)(x.A,{src:null===_||void 0===_||null===(i=_.university)||void 0===i?void 0:i.logoSrc,alt:"logo",style:{height:"2rem",width:"2rem",borderRadius:"50%"}})}),(0,I.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,I.jsx)(r.A,{sx:{fontSize:{xs:"14px",lg:"16px"}},children:null===_||void 0===_?void 0:_.name}),(0,I.jsxs)(r.A,{sx:{color:"#6A6A6A",mt:.5,fontSize:{xs:"13px",lg:"14px"}},children:[" ",null===_||void 0===_||null===(o=_.university)||void 0===o?void 0:o.name]}),(0,I.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[null!==_&&void 0!==_&&null!==(s=_.stemDetails)&&void 0!==s&&s.stem?(0,I.jsx)(a.A,{sx:{color:"#000",background:"#72D4D1",borderRadius:"1rem",fontSize:"10px",p:0,minWidth:"3rem",width:"2.9rem",mt:.5,"&:hover":{color:"#000",background:"#72D4D1"}},children:"STEM"}):"",(0,I.jsx)(Z,{})]})]})]}),(0,I.jsx)(n.A,{sx:{display:{xs:"block",md:"none"}},children:H[_._id]?(0,I.jsx)(n.A,{component:"img",src:g.A.standardLoader,alt:"standardLoader",sx:{width:"1rem",height:"1rem"}}):W.data.some((e=>e._id===_._id))?(0,I.jsx)(S.A,{sx:{color:"#e35858",fontSize:"1.4rem"},onClick:()=>V({name:"delete",data:_})}):(0,I.jsx)(w.A,{sx:{color:"#e35858",fontSize:"1.4rem"},onClick:()=>V({name:"shortlist",data:_})})})]}),(0,I.jsx)(l.Ay,{item:!0,xs:12,md:7,sx:{padding:{xs:"1rem 3rem",md:0}},children:(0,I.jsxs)(l.Ay,{container:!0,spacing:2,children:[(0,I.jsxs)(l.Ay,{item:!0,xs:6,md:2,sx:{display:{xs:"none",md:"block"}},children:[(0,I.jsx)(r.A,{fontSize:"13px",color:"#6A6A6A",children:"Country"}),(0,I.jsx)(r.A,{fontSize:"14px",children:M[null===_||void 0===_||null===(d=_.university)||void 0===d||null===(u=d.location)||void 0===u?void 0:u.country]||"Unknown"})]}),(0,I.jsxs)(l.Ay,{item:!0,xs:6,md:2,children:[(0,I.jsx)(r.A,{fontSize:"13px",color:"#6A6A6A",children:"Degree"}),(0,I.jsx)(r.A,{fontSize:"14px",children:_.studyLevel})]}),(0,I.jsxs)(l.Ay,{item:!0,xs:6,md:2,children:[(0,I.jsx)(r.A,{fontSize:"13px",color:"#6A6A6A",children:"Duration"}),(null===_||void 0===_||null===(z=_.duration)||void 0===z?void 0:z.length)>0?null===_||void 0===_||null===(N=_.duration)||void 0===N?void 0:N.map((e=>(0,I.jsxs)(r.A,{fontSize:"14px",sx:{display:"flex",alignItems:"center"},children:[" ",(null===e||void 0===e?void 0:e.duration)+" Months",(0,I.jsx)(v.A,{slotProps:{tooltip:{sx:{color:"#fff",boxShadow:1,backgroundColor:"#3B3F76","&.MuiTooltip-tooltip":{marginTop:"-5px !important"}}}},title:null===e||void 0===e?void 0:e.durationType,placement:"bottom",children:(0,I.jsx)(b.A,{sx:{fontSize:"small",cursor:"pointer",color:"#a7a1a1"}})})]}))):"N/A"]}),(0,I.jsxs)(l.Ay,{item:!0,xs:6,md:2.5,children:[(0,I.jsxs)(r.A,{fontSize:"13px",color:"#6A6A6A",sx:{display:"flex",alignItems:"center"},children:["Tuition Fee",(0,I.jsx)(v.A,{slotProps:{tooltip:{sx:{color:"#fff",backgroundColor:"#3B3F76",boxShadow:1,"&.MuiTooltip-tooltip":{marginTop:"-5px !important"}}}},title:"Approximate",placement:"bottom",children:(0,I.jsx)(b.A,{sx:{fontSize:"small",cursor:"pointer",color:"#a7a1a1"}})})]}),(0,I.jsxs)(r.A,{fontSize:"0.85rem",sx:{display:"flex",alignItems:"center"},children:[(0,I.jsxs)(r.A,{sx:{fontSize:"14px",position:"relative",cursor:"pointer","&:hover .cancel-icon":{display:"block !important"}},children:[" ",null!==_&&void 0!==_&&null!==(T=_.tuitionFee)&&void 0!==T&&T.tuitionFee?null===_||void 0===_?void 0:_.currency.symbol:"",(0,I.jsxs)("span",{className:"cancel-icon",style:{display:"none",color:"#000",position:"absolute",border:"1px solid #3B3F76",width:"100px",zIndex:1,background:"#fff",textAlign:"center",fontSize:"11px"},children:["Currency :",null===_||void 0===_?void 0:_.currency.code]})]}),null!==_&&void 0!==_&&null!==(O=_.tuitionFee)&&void 0!==O&&O.tuitionFee||(null===_||void 0===_||null===(D=_.tuitionFee)||void 0===D?void 0:D.tuitionFee)>0?(0,C.N)(Math.round(100*(null===_||void 0===_||null===(k=_.tuitionFee)||void 0===k?void 0:k.tuitionFee))/100,(null===_||void 0===_||null===(J=_.currency)||void 0===J?void 0:J.code)||"INR"):"N/A",(0,I.jsx)(r.A,{component:"sub",sx:{fontSize:"9px",marginLeft:"3px",marginTop:"-3px"},children:null!==_&&void 0!==_&&null!==(L=_.tuitionFee)&&void 0!==L&&L.tuitionFee?null===_||void 0===_||null===(R=_.tuitionFee)||void 0===R?void 0:R.tuitionFeeType:""})]})]}),(0,I.jsxs)(l.Ay,{item:!0,xs:6,md:2.5,children:[(0,I.jsx)(r.A,{fontSize:"13px",color:"#6A6A6A",children:"Course Starts"}),(0,I.jsx)(r.A,{fontSize:"14px",children:null===_||void 0===_||null===(P=_.startDate)||void 0===P?void 0:P.map((e=>j.US[e.courseStartingMonth])).join(" | ")})]}),(0,I.jsx)(l.Ay,{item:!0,md:.5,sx:{display:{xs:"none",md:"block"},marginTop:2},children:H[_._id]?(0,I.jsx)(n.A,{component:"img",src:g.A.standardLoader,alt:"standardLoader",sx:{width:"1rem",height:"1rem"}}):W.data.some((e=>e._id===_._id))?(0,I.jsx)(S.A,{sx:{color:"#e35858",fontSize:"1.4rem"},onClick:()=>V({name:"delete",data:_})}):(0,I.jsx)(w.A,{sx:{color:"#e35858",fontSize:"1.4rem",ml:1},onClick:()=>V({name:"shortlist",data:_})})})]})})]}),(null===(E=_.applicationDetails)||void 0===E?void 0:E.applicationFeeWaiver)&&(0,I.jsx)(r.A,{sx:F.U1.noCost,children:"No cost apply"})]},e.key)})},i=()=>{var i,o;return(0,I.jsx)("div",{children:(0,I.jsx)(n.A,{sx:{minHeight:"600px",maxHeight:"650px",height:"100%",overflowY:"scroll"},children:(0,I.jsx)(l.Ay,{container:!0,spacing:2,sx:{"&.MuiGrid-root":{marginTop:"0px !important"}},children:(null===e||void 0===e||null===(i=e.list)||void 0===i?void 0:i.length)>0?null===e||void 0===e||null===(o=e.list)||void 0===o?void 0:o.map(((e,i)=>(0,I.jsx)(l.Ay,{item:!0,xs:12,children:(0,I.jsx)(t,{data:e},e._id)}))):(0,I.jsx)(l.Ay,{item:!0,xs:12,children:(0,I.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px",flexDirection:"column"},children:[(0,I.jsx)("img",{src:g.A.noData,alt:"noData",style:{width:"70px",height:"70px"}}),(0,I.jsx)("br",{}),"No courses found"]})})})})})};return(0,I.jsx)(n.A,{sx:{px:"1rem"},children:e.loading?(0,I.jsxs)(n.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",flexDirection:"column"},children:[(0,I.jsx)(z.A,{color:"#3b3f76"}),(0,I.jsx)(r.A,{children:"Please wait , while we fetch courses!!"})]}):(0,I.jsx)(i,{})})};var T=i(81637),O=i(74354);const D=e=>{const t=(0,u.Zp)(),i=(0,h.jL)(),o=e=>{var o,a,s,d,c,u,h,f,y,j;const S=e.data,w=Object.fromEntries(Object.entries(A.yZ).map((e=>{let[t,i]=e;return[i,t]})));return(0,I.jsx)("div",{children:(0,I.jsx)(n.A,{sx:{background:"#f5f5f5c7",padding:"1rem",borderRadius:"10px"},children:(0,I.jsxs)(l.Ay,{container:!0,children:[(0,I.jsx)(l.Ay,{item:!0,xs:12,md:5,children:(0,I.jsx)(n.A,{sx:{cursor:"pointer"},onClick:e=>{e.preventDefault(),e.stopPropagation();const t=window.scrollY;console.log("Current scroll position (university):",t),t>0?(localStorage.setItem("exploreScrollPosition",t.toString()),console.log("Stored scroll position (university):",t)):console.log("Already at top, no need to store scroll position (university)"),i((0,m.DE)({show:!0,data:{container:{name:"universityPopup",data:S._id,dimensions:{width:"80%"}},type:"custom"}}))},children:(0,I.jsxs)(n.A,{sx:{display:"flex",gap:"10px",width:"100%",alignItems:"center"},children:[(0,I.jsx)(x.A,{src:null===S||void 0===S?void 0:S.logoSrc,alt:"logo",style:{width:"2rem",height:"2rem",marginRight:"5px",borderRadius:"50%"}}),(0,I.jsx)(p.A,{sx:{},spacing:1,children:(0,I.jsx)(r.A,{sx:{fontSize:{xs:"14px",lg:"15px"}},children:null===S||void 0===S?void 0:S.name})})]})})}),(0,I.jsx)(l.Ay,{item:!0,xs:12,md:7,sx:{padding:{xs:"1rem 3rem",md:0}},children:(0,I.jsxs)(l.Ay,{container:!0,spacing:3,children:[(0,I.jsxs)(l.Ay,{item:!0,xs:4,lg:2,children:[(0,I.jsx)(r.A,{fontSize:"13px",color:"#6A6A6A",children:"Country"}),(0,I.jsx)(r.A,{fontSize:"0.8rem",children:w[null===S||void 0===S||null===(o=S.location)||void 0===o?void 0:o.country]})]}),(0,I.jsxs)(l.Ay,{item:!0,xs:4,lg:2.5,children:[(0,I.jsx)(r.A,{fontSize:"13px",color:"#6A6A6A",children:"State"}),(0,I.jsx)(r.A,{fontSize:"14px",children:null===S||void 0===S||null===(a=S.location)||void 0===a?void 0:a.state})]}),(0,I.jsxs)(l.Ay,{item:!0,xs:4,lg:2,children:[(0,I.jsx)(r.A,{fontSize:"13px",color:"#6A6A6A",children:"Type"}),(0,I.jsx)(r.A,{fontSize:"14px",children:(0,O.r0)(null===S||void 0===S?void 0:S.type)})]}),(0,I.jsxs)(l.Ay,{item:!0,xs:8,lg:3.5,children:[(0,I.jsxs)(r.A,{fontSize:"13px",color:"#6A6A6A",sx:{display:"flex",alignItems:"center"},children:["Cost of Living",(0,I.jsx)(v.A,{slotProps:{tooltip:{sx:{color:"#fff",boxShadow:1,"&.MuiTooltip-tooltip":{marginTop:"-5px !important"}}}},title:"Approximate",placement:"bottom",children:(0,I.jsx)(b.A,{sx:{fontSize:"small",cursor:"pointer",color:"#75ECE5"}})})]}),(0,I.jsx)(r.A,{fontSize:"14px",children:null!==(s=S.cost)&&void 0!==s&&s.find((e=>"Living Cost"===e.name))?"".concat((null===(d=S.currency)||void 0===d?void 0:d.symbol)||"").concat(null!==(c=S.cost.find((e=>"Living Cost"===e.name)))&&void 0!==c&&c.lowerLimit?(0,C.N)(null===(u=S.cost.find((e=>"Living Cost"===e.name)))||void 0===u?void 0:u.lowerLimit,(null===(h=S.currency)||void 0===h?void 0:h.code)||"INR"):"0"," - ").concat((null===(f=S.currency)||void 0===f?void 0:f.symbol)||"").concat((0,C.N)(null===(y=S.cost.find((e=>"Living Cost"===e.name)))||void 0===y?void 0:y.upperLimit,(null===(j=S.currency)||void 0===j?void 0:j.code)||"INR")):"Not available"})]}),(0,I.jsxs)(l.Ay,{item:!0,xs:4,lg:2,children:[(0,I.jsx)(r.A,{fontSize:"13px",color:"#6A6A6A",children:"Programs "}),(0,I.jsxs)(r.A,{fontSize:"14px",sx:{display:"flex",alignItems:"center"},children:[null===S||void 0===S?void 0:S.courses,(0,I.jsx)("img",{src:g.A.arrow,alt:"arrrow",style:{width:"16px",height:"16px",marginLeft:"10px",cursor:"pointer"},onClick:()=>{const e="activeTab=".concat(JSON.stringify("courses"),"&FilterData=").concat(JSON.stringify([{type:"universityId",data:[{name:null===S||void 0===S?void 0:S.name,value:null===S||void 0===S?void 0:S._id}]}]),"&page=").concat(JSON.stringify(1),"&search=").concat(JSON.stringify("")),i=window.btoa(e);t("/explore?".concat(i))}})]})]})]})})]})})})},a=()=>{var t,i;return(0,I.jsx)("div",{children:(0,I.jsx)(n.A,{sx:{minHeight:"600px",maxHeight:"650px",height:"100%",overflowY:"scroll"},children:(0,I.jsx)(l.Ay,{container:!0,spacing:2,sx:{"&.MuiGrid-root":{marginTop:"0px !important"}},children:(null===e||void 0===e||null===(t=e.list)||void 0===t?void 0:t.length)>0?null===e||void 0===e||null===(i=e.list)||void 0===i?void 0:i.map(((e,t)=>(0,I.jsx)(l.Ay,{item:!0,xs:12,children:(0,I.jsx)(o,{data:e},e._id)}))):(0,I.jsx)(l.Ay,{item:!0,xs:12,children:(0,I.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px",flexDirection:"column"},children:[(0,I.jsx)("img",{src:g.A.noData,alt:"noData",style:{width:"70px",height:"70px"}}),(0,I.jsx)("br",{}),"No universities found"]})})})})})};return(0,I.jsx)(n.A,{sx:{px:"1rem"},children:e.loading?(0,I.jsx)(n.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px"},children:(0,I.jsx)(T.A,{})}):(0,I.jsx)(a,{})})};var k=i(53193),J=i(72221),L=i(90469),R=i(67784),P=i(51787),E=i(32143),_=i(21337),M=i(74802),U=i(66360),W=i(19778),B=i(43917);const H=e=>{var t;return(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(Y,{appliedFilter:null===e||void 0===e?void 0:e.appliedFilter,data:null===e||void 0===e?void 0:e.data,initialValue:null!==e&&void 0!==e&&e.initialValue?null===e||void 0===e?void 0:e.initialValue:{type:null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.type,data:[]},onSelection:null===e||void 0===e?void 0:e.onSelection,normalizeType:null===e||void 0===e?void 0:e.normalizeType})})},Y=e=>{var t;const i=(0,u.Zp)(),[o,l]=(0,c.useState)(""),a=(0,c.useMemo)((()=>{var t,i;return null===e||void 0===e||null===(t=e.data)||void 0===t||null===(i=t.options)||void 0===i?void 0:i.filter((e=>null===e||void 0===e?void 0:e.name))}),[o]);return(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(k.A,{fullWidth:!0,children:(0,I.jsxs)(J.A,{value:"",onChange:t=>{var o;return(t=>{let o=(0,O.vT)({data:t,filterInfo:e.data,filter:e.appliedFilter});const n=location.search.slice(1);let l="";try{l=window.atob(n)}catch(s){console.error("Error decoding URL",s),l=""}let r=new URLSearchParams(l).get("FilterData"),a=(0,O.Wi)(o,r?JSON.parse(r):[]);i((0,O.Xe)("filterData",a))})(null===t||void 0===t||null===(o=t.target)||void 0===o?void 0:o.value)},onClose:()=>l(""),renderValue:t=>0===t.length?(0,I.jsxs)(r.A,{sx:{textTransform:"capitalize",fontSize:"14px",display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:"500"},children:[(0,I.jsx)("img",{src:e.data.icon,alt:"icon",style:{width:"15px"}}),e.normalizeType(e.data.label)]}):t.join(","),size:"small",fullWidth:!0,displayEmpty:!0,sx:{"&.MuiInputBase-root":{borderRadius:"0px !important"},"& .MuiOutlinedInput-notchedOutline":{borderBottom:"1px solid #00000033 !important",border:0}},defaultValue:"",MenuProps:{PaperProps:{sx:{maxHeight:300,maxWidth:300,"&.MuiPaper-root":{boxShadow:3,borderRadius:"15px !important"}}},autoFocus:!1},IconComponent:_.A,children:[null!==(t=e.data)&&void 0!==t&&t.searchbox?(0,I.jsx)(L.A,{children:(0,I.jsx)(R.A,{size:"small",autoFocus:!0,placeholder:"Type to search...",fullWidth:!0,InputProps:{startAdornment:(0,I.jsx)(P.A,{position:"start",children:(0,I.jsx)(U.A,{})})},onChange:e=>{var t;return l(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)},onKeyDown:e=>{"Escape"!==e.key&&e.stopPropagation()}})}):null,null===a||void 0===a?void 0:a.map(((t,i)=>{var o;return(0,I.jsx)(E.A,{value:t,sx:{"& .MuiSvgIcon-root ":{fontSize:"0.9rem"},whiteSpace:"normal"},children:(0,I.jsxs)(n.A,{sx:{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center"},children:[(0,I.jsxs)(r.A,{fontWeight:"300",fontSize:"14px",children:[" ",null===t||void 0===t?void 0:t.name]}),null!==(o=e.appliedFilter)&&void 0!==o&&o.data.find((e=>(null===e||void 0===e?void 0:e.value)===(null===t||void 0===t?void 0:t.value)))?(0,I.jsxs)("div",{style:{display:"flex"},children:[(0,I.jsx)(r.A,{sx:{fontSize:"12px !important"},children:null===t||void 0===t?void 0:t.count}),(0,I.jsx)(W.A,{fontSize:"small"})]}):(0,I.jsx)(r.A,{sx:{fontSize:"12px !important"},children:null===t||void 0===t?void 0:t.count})]})},i)}))]})})})},Z=e=>{var t;let{setAppliedFilter:i,appliedFilters:o,open:s,setOpen:d}=e;const p=(0,u.Zp)(),[x,v]=(0,c.useState)(!1),[h,m]=(0,c.useState)(null),y=(0,u.zy)(),A=(0,c.useRef)({type:"courses",page:0,filterData:[],currency:"INR",search:"",totalItems:0,totalPages:1,appliedFilters:[]}),S=(0,c.useRef)([]),w=(0,c.useRef)("");(0,c.useEffect)((()=>{const e=y.search.slice(1),t=window.atob(e),i=new URLSearchParams(t);let o=i.get("FilterData"),n=i.get("activeTab");S.current=void 0!==o&&null!==o?JSON.parse(o):[],w.current=n?JSON.parse(n):"courses",A.current.appliedFilters=S.current,A.current.type=w.current,(async e=>{console.log("Filters",e);try{v(!0),m(null);const t=e.map((e=>({type:e.type,data:e.data.map((e=>e.value))}))),i=await(0,f.XF)(w.current,{filterData:t,project:[]});i&&i.data&&(m(i.data[0]),v(!1))}catch(t){console.error("Error fetching filter options:",t),v(!1)}})(A.current.appliedFilters)}),[y]);return(0,I.jsx)("div",{children:(0,I.jsxs)(n.A,{sx:{minHeight:"380px","& .MuiSelect-select":{fontSize:"14px"}},children:[(0,I.jsxs)(l.Ay,{container:!0,sx:{},children:[(0,I.jsxs)(l.Ay,{item:!0,xs:12,sx:{background:"#F5F5F5",p:2,display:"flex",alignItems:"center",justifyContent:"space-between",mb:1},children:[(0,I.jsx)("img",{src:g.A.filterIcon,alt:"icon",style:{width:"20px"}}),(null===o||void 0===o?void 0:o.length)>0&&!o.every((e=>"name"===(null===e||void 0===e?void 0:e.type)))?(0,I.jsx)(r.A,{sx:{color:"#495052",cursor:"pointer",textTransform:"capitalize",fontSize:"14px",fontWeight:500},onClick:()=>{p((0,O.Xe)("filterData",[]))},children:"Clear all"}):null]}),(0,I.jsx)(l.Ay,{item:!0,xs:12,sx:{minHeight:"0px",overflowY:"scroll",maxHeight:"130px",color:"#495052"},children:null===o||void 0===o?void 0:o.map((e=>{var t;return null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.map(((t,i)=>(0,I.jsxs)(a.A,{sx:null===F.dY||void 0===F.dY?void 0:F.dY.filteredList,children:[null===t||void 0===t?void 0:t.name,(0,I.jsx)(M.A,{sx:{marginLeft:1,fontSize:"1rem",color:"red"},onClick:()=>((e,t)=>{var i;const o=y.search.slice(1);let n="";try{n=window.atob(o)}catch(a){console.error("Error decoding URL",a),n=""}let l=new URLSearchParams(n).get("FilterData"),r=(0,O.Wi)({...e,data:null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.filter((e=>(null===e||void 0===e?void 0:e.name)!=(null===t||void 0===t?void 0:t.name)))},l?JSON.parse(l):[]);p((0,O.Xe)("filterData",r))})(e,t)})]},i)))}))})]}),x?(0,I.jsx)(n.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",mt:2},children:(0,I.jsx)(B.A,{color:"#3b3f76"})}):(0,I.jsx)(n.A,{sx:{minHeight:"380px",height:"100%",maxHeight:"530px",flexWrap:"nowrap",alignItems:"center",overflow:"auto"},children:(0,I.jsx)(l.Ay,{container:!0,spacing:2,sx:{p:1},children:h&&(null===(b=h,t=Object.entries(b).map((e=>{let[t,i]=e;const o=j.v[t]||{label:t.charAt(0).toUpperCase()+t.slice(1),icon:"",selectedType:"multi",searchbox:!1};let n=i.map((e=>{let t;return t="boolean"===typeof e._id?e._id?" ".concat(o.label):"No ".concat(o.label):"boolean"===typeof e._id?e._id?" ".concat(o.label):(0,O.AZ)("".concat(o.label)):String(e._id),{name:t,value:e._id,count:e.count}}));return"featured"===t&&(n=n.sort(((e,t)=>e.name.includes("Yes")&&!t.name.includes("Yes")?-1:!e.name.includes("Yes")&&t.name.includes("Yes")?1:0))),{type:t,label:o.label,icon:o.icon,options:n,selectedType:o.selectedType,searchbox:o.searchbox}})))||void 0===t?void 0:t.map((e=>(0,I.jsx)(l.Ay,{item:!0,xs:12,children:(0,I.jsx)(H,{data:e,appliedFilter:null!==o&&void 0!==o&&o.find((t=>t.type==e.type))?o.find((t=>t.type==e.type)):{type:e.type,data:[]},onSelection:O.vT,normalizeType:O.AZ,appliedFilters:o})},e.type))))})})]})});var b};var V=i(17392),G=i(41020),X=i(74605),K=i(51962),$=i(68864);const q=e=>{const[t,i]=(0,c.useState)(null),[o,n]=(0,c.useState)(""),r=[...e.list],a=()=>{i(null)};(0,c.useEffect)((()=>{(()=>{let t=[...r];"Low Tuition Fee"===o?t=t.sort(((e,t)=>e.tuitionFee.tuitionFee-t.tuitionFee.tuitionFee)):"High Tuition Fee"===o?t=t.sort(((e,t)=>t.tuitionFee.tuitionFee-e.tuitionFee.tuitionFee)):"Low Duration"===o?t=t.sort(((e,t)=>{var i,o;return(null===(i=e.duration)||void 0===i?void 0:i.duration)-(null===(o=t.duration)||void 0===o?void 0:o.duration)})):"High Duration"===o&&(t=t.sort(((e,t)=>{var i,o;return(null===(i=t.duration)||void 0===i?void 0:i.duration)-(null===(o=e.duration)||void 0===o?void 0:o.duration)}))),e.setList(t)})()}),[o]);const s=Boolean(t);return(0,I.jsxs)("div",{children:[(0,I.jsx)(V.A,{onClick:e=>{i(e.currentTarget)},sx:{marginRight:"1rem"},children:(0,I.jsx)($.A,{sx:{color:"#000"}})}),(0,I.jsx)(G.Ay,{open:s,anchorEl:t,onClose:a,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:(0,I.jsxs)(l.Ay,{container:!0,spacing:1,sx:{padding:2,width:200},children:[(0,I.jsx)(l.Ay,{item:!0,xs:12,sx:{display:{lg:"none",xs:"flex"},justifyContent:"space-between"},children:(0,I.jsx)(V.A,{onClick:a,children:(0,I.jsx)(M.A,{sx:{fontSize:"1.25rem"}})})}),(0,I.jsx)(l.Ay,{item:!0,xs:12,sx:{"& .MuiTypography-root":{fontSize:"14px"}},children:[{label:"Low Tuition Fee",value:"Low Tuition Fee"},{label:"High Tuition Fee",value:"High Tuition Fee"}].map((e=>(0,I.jsx)(X.A,{control:(0,I.jsx)(K.A,{checked:o===e.value,onChange:()=>(e=>{n(e)})(e.value),sx:{"& .MuiSvgIcon-root":{fontSize:"1.25rem"}}}),label:e.label},e.value)))})]})})]})},Q=e=>{var t;return(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(ee,{appliedFilter:null===e||void 0===e?void 0:e.appliedFilter,data:null===e||void 0===e?void 0:e.data,initialValue:null!==e&&void 0!==e&&e.initialValue?null===e||void 0===e?void 0:e.initialValue:{type:null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.type,data:[]},onSelection:null===e||void 0===e?void 0:e.onSelection,normalizeType:null===e||void 0===e?void 0:e.normalizeType})})},ee=e=>{var t,i;const o=(0,u.Zp)(),n=(0,u.zy)();return(0,I.jsx)(I.Fragment,{children:null===e||void 0===e||null===(t=e.data)||void 0===t||null===(i=t.options)||void 0===i?void 0:i.map(((t,i)=>{var l,r,s;return(0,I.jsx)(a.A,{sx:{border:null!==(l=e.appliedFilter)&&void 0!==l&&l.data.find((e=>e.value===t.value))?"1px solid var(--3-primary-teal, #70A6B2)":"1px solid #70A6B2",backgroundColor:null!==(r=e.appliedFilter)&&void 0!==r&&r.data.find((e=>e.value===t.value))?"#70A6B2":"transparent",color:null!==(s=e.appliedFilter)&&void 0!==s&&s.data.find((e=>e.value===t.value))?"#ffff":"#495052",textTransform:"none",marginRight:"0.5rem",fontSize:"13px",borderRadius:"8px","&:hover":{background:"#70A6B2"},width:"auto",flexShrink:0},onClick:i=>(t=>{console.log("Hello",t);let i=(0,O.vT)({data:t,filterInfo:e.data,filter:e.appliedFilter});const l=n.search.slice(1);let r="";try{r=window.atob(l)}catch(d){console.error("Error decoding URL",d),r=""}let a=new URLSearchParams(r).get("FilterData"),s=(0,O.Wi)(i,a?JSON.parse(a):[]);o((0,O.Xe)("filterData",s))})(t),children:e.normalizeType(e.data.label)},i)}))})},te=e=>{var t;const i=(0,u.zy)(),p=(0,u.Zp)(),x=(0,h.jL)(),v=localStorage.getItem("_auth"),y=(0,c.useRef)(""),A=(0,c.useRef)(0),S=(0,c.useRef)(""),w=(0,c.useRef)([]),[b,F]=(0,c.useState)([]),[z,C]=(0,c.useState)([]),[T,k]=(0,c.useState)([]),J=localStorage.getItem("currency"),L=(0,h.GV)((e=>e.preferences)),[R,P]=(0,c.useState)(!1),E=A.current,[_,U]=(0,c.useState)(!1),W=(0,c.useRef)({type:"courses",page:0,filterData:[],currency:"INR",search:"",totalItems:0,totalPages:1,appliedFilters:[]});console.log("list data",W);const B=W.current.totalItems||0,H=B>0?20*(E-1)+1:0,Y=Math.min(20*E,B);(0,c.useEffect)((()=>{const e=i.search.slice(1),t=window.atob(e),o=new URLSearchParams(t);let n=o.get("FilterData"),l=o.get("activeTab"),r=o.get("page"),a=o.get("search");A.current=r?JSON.parse(r):1,w.current=void 0!==n&&null!==n?JSON.parse(n):[],S.current=l?JSON.parse(l):"courses",y.current=a?JSON.parse(a):"",F(Object.values(j.f2)[Object.keys(j.f2).findIndex((e=>e===S.current))]),C(Object.values(j.om)[Object.keys(j.om).findIndex((e=>e===S.current))]),W.current.appliedFilters=w.current,W.current.type=S.current,W.current.search=y.current;let s=localStorage.getItem(S.current+"ListInfo");W.current.totalItems=s?JSON.parse(s).totalItems:void 0,W.current.totalPages=s?JSON.parse(s).totalPages:void 0,ee(A.current,W.current);const d=localStorage.getItem("exploreScrollPosition");d&&(console.log("Restoring scroll position on page load:",parseInt(d)),setTimeout((()=>{window.scrollTo(0,parseInt(d))}),100))}),[i]),(0,c.useEffect)((()=>()=>{}),[]),(0,c.useEffect)((()=>{const e=()=>{const e=window.scrollY;e>0&&localStorage.setItem("exploreScrollPosition",e.toString())};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}}),[]);const V=[{label:"Programs",value:"courses",Component:(0,I.jsx)(N,{list:T,loading:R})},{label:"Universities",value:"universities",Component:(0,I.jsx)(D,{list:T,loading:R})}],G=e=>{let t="";switch(e.name){case"tabSelected":let i=localStorage.getItem(e.data.value+"ListInfo");t="activeTab=".concat(JSON.stringify(e.data.value),"&FilterData=").concat(JSON.stringify(i?JSON.parse(i).appliedFilters:[]),"&page=").concat(JSON.stringify(1),"&search=").concat(JSON.stringify("")),p("/explore?".concat(window.btoa(t)));break;case"filterUpdated":t="activeTab=".concat(JSON.stringify(S.current),"&FilterData=").concat(encodeURIComponent(JSON.stringify(e.data)),"&page=").concat(JSON.stringify(1),"&search=").concat(JSON.stringify("")),p("/explore?".concat(window.btoa(t)));break;case"nextPage":t="activeTab=".concat(JSON.stringify(S.current),"&FilterData=").concat(JSON.stringify(w.current),"&page=").concat(JSON.stringify(A.current+1),"&search=").concat(JSON.stringify(y.current)),p("/explore?".concat(window.btoa(t)));break;case"pageChange":if(e.data>2)if(v){let t="activeTab=".concat(JSON.stringify(S.current),"&FilterData=").concat(encodeURIComponent(JSON.stringify(w.current)),"&page=").concat(JSON.stringify(e.data),"&search=").concat(JSON.stringify(y.current));p("/explore?".concat(window.btoa(t))),window.scrollTo(0,0)}else x((0,m.DE)({show:!0,data:{container:{name:"login",dimensions:{width:"800px",height:"80%",show:"none"}},type:"custom"}}));else{let t="activeTab=".concat(JSON.stringify(S.current),"&FilterData=").concat(encodeURIComponent(JSON.stringify(w.current)),"&page=").concat(JSON.stringify(e.data),"&search=").concat(JSON.stringify(y.current));p("/explore?".concat(window.btoa(t))),window.scrollTo(0,0)}break;case"search":t="activeTab=".concat(JSON.stringify(S.current),"&FilterData=").concat(JSON.stringify(w.current),"&page=").concat(JSON.stringify(1),"&search=").concat(JSON.stringify(e.data)),p("/explore?".concat(window.btoa(t)));break;case"previousPage":t="activeTab=".concat(JSON.stringify(S.current),"&FilterData=").concat(JSON.stringify(w.current),"&page=").concat(JSON.stringify(A.current-1),"&search=").concat(JSON.stringify(y.current)),p("/explore?".concat(window.btoa(t)))}},X=(0,c.useRef)(!1),K=(0,c.useRef)(!1),$=(0,c.useCallback)((async(e,t)=>{if(X.current)K.current=!0;else if(X.current=!0,1===e&&(t.totalPages=1),t.totalPages&&e<=t.totalPages){var i;let l=null===t||void 0===t||null===(i=t.appliedFilters)||void 0===i?void 0:i.map((e=>({...e,data:null===e||void 0===e?void 0:e.data.map((e=>null===e||void 0===e?void 0:e.value))})));P(!0);try{var o;const i=await(0,f.NZ)(t.type,{page:e,currency:null!==(o=L.data)&&void 0!==o&&o.currency?L.data.currency:J||"INR",filterData:t.search?[...l,{type:"name",data:[t.search]}]:l});i.success&&(t.totalItems=i.data.totalItems,t.totalPages=i.data.totalPages,localStorage.setItem(t.type+"ListInfo",JSON.stringify(t)),k(i.data.list))}catch(n){console.error(n)}finally{P(!1),X.current=!1,K.current&&(K.current=!1,$(A.current,W.current))}}}),[L,J]),ee=(0,c.useCallback)((0,o.A)(((e,t)=>{$(e,t)}),200),[$]);return(0,I.jsx)(n.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",marginTop:"4rem"},children:(0,I.jsx)("div",{style:{maxWidth:"1440px",width:"100%"},children:(0,I.jsxs)(l.Ay,{container:!0,spacing:1,children:[(0,I.jsx)(l.Ay,{item:!0,lg:2.5,sx:{display:{xs:"none",lg:"block"},paddingLeft:"16px !important"},children:(0,I.jsx)(n.A,{sx:{boxShadow:"0px 4px 16px 0px #00000040",width:"90%",mt:2,borderRadius:"1rem"},children:(0,I.jsx)(Z,{appliedFilters:w.current,setAppliedFilter:e=>{G({name:"filterUpdated",data:e})}})})}),(0,I.jsxs)(l.Ay,{item:!0,xs:12,lg:9.5,sx:{},children:[(0,I.jsxs)(l.Ay,{container:!0,sx:{display:"flex",alignItems:"center"},children:[(0,I.jsxs)(l.Ay,{item:!0,xs:9,sm:10,lg:12,sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[H>0?(0,I.jsxs)(r.A,{sx:{display:"flex",gap:"0.5rem",pl:2},children:[(0,I.jsxs)("span",{style:{color:"#495052",fontWeight:"600"},children:[H,"-",Y]}),"out of",(0,I.jsx)("span",{style:{color:"#495052",fontWeight:"600"},children:B}),"results"]}):(0,I.jsxs)(r.A,{sx:{display:"flex",gap:"0.5rem",pl:2},children:[(0,I.jsx)("span",{style:{color:"#495052",fontWeight:"600"},children:B}),"results"]}),"courses"===S.current&&(0,I.jsx)(q,{setList:k,list:T})]}),(0,I.jsx)(l.Ay,{item:!0,xs:3,sm:2,sx:{display:{lg:"none"}},children:(0,I.jsxs)(a.A,{onClick:()=>U(!0),sx:{display:"flex",gap:"6px",color:"#000",fontWeight:"500",textTransform:"none",mb:1},children:[(0,I.jsx)("img",{src:g.A.filterIcon,alt:"icon",style:{width:"20px"}})," Filters"]})})]}),(0,I.jsx)(n.A,{sx:{display:"flex",flexWrap:"nowrap",alignItems:"center",overflowX:"auto",paddingLeft:"1rem",scrollbarWidth:"none",mb:2},children:null===z||void 0===z?void 0:z.map(((e,t)=>{var i;return(0,I.jsx)(Q,{data:e,appliedFilter:(null===(i=w.current)||void 0===i?void 0:i.find((t=>t.type===e.type)))||{type:e.type,data:[]},onSelection:O.vT,normalizeType:O.AZ,appliedFilters:w.current},t)}))}),(0,I.jsx)(n.A,{children:null===(t=V.find((e=>e.value===S.current)))||void 0===t?void 0:t.Component}),(0,I.jsx)(n.A,{sx:{display:"flex",justifyContent:"center",gap:"20px",my:2},children:H>0&&(0,I.jsx)(s.A,{sx:{display:"flex",justifyContent:"center",mt:1,"& .MuiPaginationItem-root.Mui-selected":{background:"#3B3F76 !important",color:"#fff",borderRadius:"5px",height:"28px",minWidth:"28px !important",p:"0 !important"}},count:W.current.totalPages,page:A.current,onChange:(e,t)=>G({name:"pageChange",data:t}),showFirstButton:!0,showLastButton:!0})})]}),_?["right"].map((e=>(0,I.jsx)(c.Fragment,{children:(0,I.jsxs)(d.Ay,{anchor:e,open:_,onClose:()=>U(!_),sx:{"& .MuiPaper-root":{width:{xs:"60%",sm:"40%",md:"30%"}},display:{xs:"block",lg:"none"}},children:[(0,I.jsx)(n.A,{children:(0,I.jsx)(M.A,{sx:{float:"right",m:1,cursor:"pointer"},onClick:()=>U(!_)})}),(0,I.jsx)(Z,{appliedFilters:w.current,setAppliedFilter:e=>{G({name:"filterUpdated",data:e})}})]})},e))):null]})})})}}}]);
//# sourceMappingURL=157.e44e2e9b.chunk.js.map