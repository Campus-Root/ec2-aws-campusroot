"use strict";(self.webpackChunkstudent_typescript=self.webpackChunkstudent_typescript||[]).push([[157],{56157:(e,t,i)=>{i.r(t),i.d(t,{default:()=>$});var n=i(96446),o=i(68903),l=i(85865),r=i(11906),a=i(59135),s=i(60295),d=i(65043),c=i(73216),u=i(88911),x=i(60587),p=i(77739),h=i(81637),v=i(29378),m=i(8064),g=i(88340),f=i(55797),y=i(3329),j=i(64625),A=i(63811),S=i(21834),b=i(59454),w=i(75456),F=i(61807),z=i(70579);const C=e=>{const t=t=>{var i,a,s,c,h,C,N,I,O,T,k,D,J,L,R;const P=t.data,_=Object.fromEntries(Object.entries(A.yZ).map((e=>{let[t,i]=e;return[i,t]}))),E=(0,v.G)((e=>e.userAuthStatus)),M=(0,v.G)((e=>e.shortlistedcourses)),U=(0,v.j)(),[W,H]=(0,d.useState)({}),B=()=>{var e;const t=(new Date).getMonth(),i=null===P||void 0===P||null===(e=P.startDate)||void 0===e?void 0:e.some((e=>{const{deadlineMonth:i}=e,n=i-t;return n>=0&&n<=2}));return(0,z.jsx)(u.A,{spacing:2,sx:{marginTop:"0px !important"},children:i&&(0,z.jsx)(n.A,{children:(0,z.jsx)(r.A,{sx:{color:"#C50000",background:"#FFBEBE",borderRadius:"0.8rem",fontSize:"10px",p:0,width:"4.5rem",textTransform:"none","&:hover":{color:"#C50000",background:"#FFBEBE"}},children:"Apply Soon"})})})},Z=async e=>{var t,i;switch(e.name){case"applynow":var n,o;if(null!==E&&void 0!==E&&null!==(t=E.data)&&void 0!==t&&t.isAuthorized&&null!==E&&void 0!==E&&null!==(i=E.data)&&void 0!==i&&i.isAuthorized)U((0,m.DE)({show:!0,data:{container:{name:"applynow",data:{_id:null===(n=P.course)||void 0===n?void 0:n._id,startDate:null===(o=P.course)||void 0===o?void 0:o.startDate,university:P.university},dimensions:{width:"350px",show:"none"}},type:"custom"}}));else U((0,m.DE)({show:!0,data:{container:{name:"login",dimensions:{width:"800px",height:"70%",show:"none"}},type:"custom"}}));break;case"shortlist":try{var l,r;if(null!==E&&void 0!==E&&null!==(l=E.data)&&void 0!==l&&l.isAuthorized&&null!==E&&void 0!==E&&null!==(r=E.data)&&void 0!==r&&r.isAuthorized){var a;H((t=>({...t,[e.data._id]:!0})));const t={action:"push",courseId:null===(a=e.data)||void 0===a?void 0:a._id},i=await(0,f.ZK)(t);i.data.success?(U((0,y.u$)(i.data.data)),H((t=>({...t,[e.data._id]:!1})))):H((t=>({...t,[e.data._id]:!1})))}else U((0,m.DE)({show:!0,data:{container:{name:"login",dimensions:{width:"800px",height:"70%",show:"none"}},type:"custom"}}))}catch(d){console.error("An error occurred while shortlisting:",d),H((t=>({...t,[e.data._id]:!1})))}break;case"delete":try{var s;H((t=>({...t,[e.data._id]:!0})));const t={action:"pull",courseId:null===(s=e.data)||void 0===s?void 0:s._id},i=await(0,f.ZK)(t);i.data.success&&(H((t=>({...t,[e.data._id]:!1}))),U((0,y.u$)(i.data.data)))}catch(d){H((t=>({...t,[e.data.course._id]:!1}))),console.error("An error occurred while unshortlisting:",d)}}};return(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)(n.A,{sx:{background:"#f5f5f5c7",padding:"1rem",borderRadius:"10px",position:"relative"},children:[P.elite&&(0,z.jsx)(l.A,{sx:F.U1.featured,children:"Featured"}),(0,z.jsxs)(o.Ay,{container:!0,children:[(0,z.jsxs)(o.Ay,{item:!0,xs:12,md:5,sx:{display:"flex",gap:"0.5rem"},children:[(0,z.jsxs)("div",{style:{display:"flex",gap:"10px",alignItems:"center",width:"360px",cursor:"pointer"},onClick:()=>{U((0,m.DE)({show:!0,data:{container:{name:"mainPopup",data:P,dimensions:{width:"80%"}},type:"custom"}}))},children:[(0,z.jsx)(n.A,{sx:{display:"flex",flexDirection:"column"},children:(0,z.jsx)(x.A,{src:null===P||void 0===P||null===(i=P.university)||void 0===i?void 0:i.logoSrc,alt:"logo",style:{height:"2rem",width:"2rem",borderRadius:"50%"}})}),(0,z.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,z.jsx)(l.A,{sx:{fontSize:{xs:"14px",lg:"16px"}},children:null===P||void 0===P?void 0:P.name}),(0,z.jsxs)(l.A,{sx:{color:"#6A6A6A",mt:.5,fontSize:{xs:"13px",lg:"14px"}},children:[" ",null===P||void 0===P||null===(a=P.university)||void 0===a?void 0:a.name]}),(0,z.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[null!==P&&void 0!==P&&null!==(s=P.stemDetails)&&void 0!==s&&s.stem?(0,z.jsx)(r.A,{sx:{color:"#000",background:"#72D4D1",borderRadius:"1rem",fontSize:"10px",p:0,minWidth:"3rem",width:"2.9rem",mt:.5,"&:hover":{color:"#000",background:"#72D4D1"}},children:"STEM"}):"",(0,z.jsx)(B,{})]})]})]}),(0,z.jsx)(n.A,{sx:{display:{xs:"block",md:"none"}},children:W[P._id]?(0,z.jsx)(n.A,{component:"img",src:g.A.standardLoader,alt:"standardLoader",sx:{width:"1rem",height:"1rem"}}):M.data.some((e=>e._id===P._id))?(0,z.jsx)(S.A,{sx:{color:"#e35858",fontSize:"1.4rem"},onClick:()=>Z({name:"delete",data:P})}):(0,z.jsx)(b.A,{sx:{color:"#e35858",fontSize:"1.4rem"},onClick:()=>Z({name:"shortlist",data:P})})})]}),(0,z.jsx)(o.Ay,{item:!0,xs:12,md:7,sx:{padding:{xs:"1rem 3rem",md:0}},children:(0,z.jsxs)(o.Ay,{container:!0,spacing:2,children:[(0,z.jsxs)(o.Ay,{item:!0,xs:6,md:2,sx:{display:{xs:"none",md:"block"}},children:[(0,z.jsx)(l.A,{fontSize:"13px",color:"#6A6A6A",children:"Country"}),(0,z.jsx)(l.A,{fontSize:"14px",children:_[null===P||void 0===P||null===(c=P.university)||void 0===c||null===(h=c.location)||void 0===h?void 0:h.country]||"Unknown"})]}),(0,z.jsxs)(o.Ay,{item:!0,xs:6,md:2,children:[(0,z.jsx)(l.A,{fontSize:"13px",color:"#6A6A6A",children:"Degree"}),(0,z.jsx)(l.A,{fontSize:"14px",children:P.studyLevel})]}),(0,z.jsxs)(o.Ay,{item:!0,xs:6,md:2,children:[(0,z.jsx)(l.A,{fontSize:"13px",color:"#6A6A6A",children:"Duration"}),(null===P||void 0===P||null===(C=P.duration)||void 0===C?void 0:C.length)>0?null===P||void 0===P||null===(N=P.duration)||void 0===N?void 0:N.map((e=>(0,z.jsxs)(l.A,{fontSize:"14px",sx:{display:"flex",alignItems:"center"},children:[" ",(null===e||void 0===e?void 0:e.duration)+" Months",(0,z.jsx)(p.A,{slotProps:{tooltip:{sx:{color:"#fff",boxShadow:1,backgroundColor:"#3B3F76","&.MuiTooltip-tooltip":{marginTop:"-5px !important"}}}},title:null===e||void 0===e?void 0:e.durationType,placement:"bottom",children:(0,z.jsx)(w.A,{sx:{fontSize:"small",cursor:"pointer",color:"#a7a1a1"}})})]}))):"N/A"]}),(0,z.jsxs)(o.Ay,{item:!0,xs:6,md:2.5,children:[(0,z.jsxs)(l.A,{fontSize:"13px",color:"#6A6A6A",sx:{display:"flex",alignItems:"center"},children:["Tuition Fee",(0,z.jsx)(p.A,{slotProps:{tooltip:{sx:{color:"#fff",backgroundColor:"#3B3F76",boxShadow:1,"&.MuiTooltip-tooltip":{marginTop:"-5px !important"}}}},title:"Approximate",placement:"bottom",children:(0,z.jsx)(w.A,{sx:{fontSize:"small",cursor:"pointer",color:"#a7a1a1"}})})]}),(0,z.jsxs)(l.A,{fontSize:"0.85rem",sx:{display:"flex",alignItems:"center"},children:[(0,z.jsxs)(l.A,{sx:{fontSize:"14px",position:"relative",cursor:"pointer","&:hover .cancel-icon":{display:"block !important"}},children:[" ",null!==P&&void 0!==P&&null!==(I=P.tuitionFee)&&void 0!==I&&I.tuitionFee?null===P||void 0===P?void 0:P.currency.symbol:"",(0,z.jsxs)("span",{className:"cancel-icon",style:{display:"none",color:"#000",position:"absolute",border:"1px solid #3B3F76",width:"100px",zIndex:1,background:"#fff",textAlign:"center",fontSize:"11px"},children:["Currency :",null===P||void 0===P?void 0:P.currency.code]})]}),null!==P&&void 0!==P&&null!==(O=P.tuitionFee)&&void 0!==O&&O.tuitionFee||(null===P||void 0===P||null===(T=P.tuitionFee)||void 0===T?void 0:T.tuitionFee)>0?(Math.round(100*(null===P||void 0===P||null===(k=P.tuitionFee)||void 0===k?void 0:k.tuitionFee))/100).toLocaleString("en-US"):"N/A",(0,z.jsx)(l.A,{component:"sub",sx:{fontSize:"9px",marginLeft:"3px",marginTop:"-3px"},children:null!==P&&void 0!==P&&null!==(D=P.tuitionFee)&&void 0!==D&&D.tuitionFee?null===P||void 0===P||null===(J=P.tuitionFee)||void 0===J?void 0:J.tuitionFeeType:""})]})]}),(0,z.jsxs)(o.Ay,{item:!0,xs:6,md:2.5,children:[(0,z.jsx)(l.A,{fontSize:"13px",color:"#6A6A6A",children:"Course Starts"}),(0,z.jsx)(l.A,{fontSize:"14px",children:null===P||void 0===P||null===(L=P.startDate)||void 0===L?void 0:L.map((e=>j.US[e.courseStartingMonth])).join(" | ")})]}),(0,z.jsx)(o.Ay,{item:!0,md:.5,sx:{display:{xs:"none",md:"block"}},children:W[P._id]?(0,z.jsx)(n.A,{component:"img",src:g.A.standardLoader,alt:"standardLoader",sx:{width:"1rem",height:"1rem"}}):M.data.some((e=>e._id===P._id))?(0,z.jsx)(S.A,{sx:{color:"#e35858",fontSize:"1.4rem"},onClick:()=>Z({name:"delete",data:P})}):(0,z.jsx)(b.A,{sx:{color:"#e35858",fontSize:"1.4rem"},onClick:()=>Z({name:"shortlist",data:P})})})]})})]}),(null===(R=P.applicationDetails)||void 0===R?void 0:R.applicationFeeWaiver)&&(0,z.jsx)(l.A,{sx:F.U1.noCost,children:"No cost apply"})]},e.key)})},i=()=>{var i,l;return(0,z.jsx)("div",{children:(0,z.jsx)(n.A,{sx:{minHeight:"600px",maxHeight:"650px",height:"100%",overflowY:"scroll"},children:(0,z.jsx)(o.Ay,{container:!0,spacing:2,sx:{"&.MuiGrid-root":{marginTop:"0px !important"}},children:(null===e||void 0===e||null===(i=e.list)||void 0===i?void 0:i.length)>0?null===e||void 0===e||null===(l=e.list)||void 0===l?void 0:l.map(((e,i)=>(0,z.jsx)(o.Ay,{item:!0,xs:12,children:(0,z.jsx)(t,{data:e},e._id)}))):(0,z.jsx)(o.Ay,{item:!0,xs:12,children:(0,z.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px",flexDirection:"column"},children:[(0,z.jsx)("img",{src:g.A.noData,alt:"noData",style:{width:"70px",height:"70px"}}),(0,z.jsx)("br",{}),"No courses found"]})})})})})};return(0,z.jsx)(n.A,{sx:{px:"1rem"},children:e.loading?(0,z.jsx)(n.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px"},children:(0,z.jsx)(h.A,{})}):(0,z.jsx)(i,{})})};var N=i(74354);const I=e=>{const t=(0,c.Zp)(),i=(0,v.j)(),r=e=>{var r,a,s,d,c,h,v,f,y;const j=e.data,S=Object.fromEntries(Object.entries(A.yZ).map((e=>{let[t,i]=e;return[i,t]})));return(0,z.jsx)("div",{children:(0,z.jsx)(n.A,{sx:{background:"#f5f5f5c7",padding:"1rem",borderRadius:"10px"},children:(0,z.jsxs)(o.Ay,{container:!0,children:[(0,z.jsx)(o.Ay,{item:!0,xs:12,md:5,children:(0,z.jsx)(n.A,{sx:{cursor:"pointer"},onClick:()=>{i((0,m.DE)({show:!0,data:{container:{name:"universityPopup",data:j._id,dimensions:{width:"80%"}},type:"custom"}}))},children:(0,z.jsxs)(n.A,{sx:{display:"flex",gap:"10px",width:"100%",alignItems:"center"},children:[(0,z.jsx)(x.A,{src:null===j||void 0===j?void 0:j.logoSrc,alt:"logo",style:{width:"2rem",height:"2rem",marginRight:"5px",borderRadius:"50%"}}),(0,z.jsx)(u.A,{sx:{},spacing:1,children:(0,z.jsx)(l.A,{sx:{fontSize:{xs:"14px",lg:"15px"}},children:null===j||void 0===j?void 0:j.name})})]})})}),(0,z.jsx)(o.Ay,{item:!0,xs:12,md:7,sx:{padding:{xs:"1rem 3rem",md:0}},children:(0,z.jsxs)(o.Ay,{container:!0,spacing:3,children:[(0,z.jsxs)(o.Ay,{item:!0,xs:4,lg:2,children:[(0,z.jsx)(l.A,{fontSize:"13px",color:"#6A6A6A",children:"Country"}),(0,z.jsx)(l.A,{fontSize:"0.8rem",children:S[null===j||void 0===j||null===(r=j.location)||void 0===r?void 0:r.country]})]}),(0,z.jsxs)(o.Ay,{item:!0,xs:4,lg:2.5,children:[(0,z.jsx)(l.A,{fontSize:"13px",color:"#6A6A6A",children:"State"}),(0,z.jsx)(l.A,{fontSize:"14px",children:null===j||void 0===j||null===(a=j.location)||void 0===a?void 0:a.state})]}),(0,z.jsxs)(o.Ay,{item:!0,xs:4,lg:2,children:[(0,z.jsx)(l.A,{fontSize:"13px",color:"#6A6A6A",children:"Type"}),(0,z.jsx)(l.A,{fontSize:"14px",children:(0,N.r0)(null===j||void 0===j?void 0:j.type)})]}),(0,z.jsxs)(o.Ay,{item:!0,xs:6,lg:3.5,children:[(0,z.jsxs)(l.A,{fontSize:"13px",color:"#6A6A6A",sx:{display:"flex",alignItems:"center"},children:["Cost of Living",(0,z.jsx)(p.A,{slotProps:{tooltip:{sx:{color:"#fff",boxShadow:1,"&.MuiTooltip-tooltip":{marginTop:"-5px !important"}}}},title:"Approximate",placement:"bottom",children:(0,z.jsx)(w.A,{sx:{fontSize:"small",cursor:"pointer",color:"#a7a1a1"}})})]}),(0,z.jsx)(l.A,{fontSize:"14px",children:null!==(s=j.cost)&&void 0!==s&&s.find((e=>"Living Cost"===e.name))?"".concat((null===(d=j.currency)||void 0===d?void 0:d.symbol)||"").concat(null===(c=j.cost.find((e=>"Living Cost"===e.name)))||void 0===c||null===(h=c.lowerLimit)||void 0===h?void 0:h.toLocaleString("en-US")," - ").concat((null===(v=j.currency)||void 0===v?void 0:v.symbol)||"").concat(null===(f=j.cost.find((e=>"Living Cost"===e.name)))||void 0===f||null===(y=f.upperLimit)||void 0===y?void 0:y.toLocaleString("en-US")):"Not available"})]}),(0,z.jsxs)(o.Ay,{item:!0,xs:6,lg:2,children:[(0,z.jsx)(l.A,{fontSize:"13px",color:"#6A6A6A",children:"Programs "}),(0,z.jsxs)(l.A,{fontSize:"14px",sx:{display:"flex",alignItems:"center"},children:[null===j||void 0===j?void 0:j.courses,(0,z.jsx)("img",{src:g.A.arrow,alt:"arrrow",style:{width:"16px",height:"16px",marginLeft:"10px",cursor:"pointer"},onClick:()=>{const e="activeTab=".concat(JSON.stringify("courses"),"&FilterData=").concat(JSON.stringify([{type:"universityId",data:[{name:null===j||void 0===j?void 0:j.name,value:null===j||void 0===j?void 0:j._id}]}]),"&page=").concat(JSON.stringify(1),"&search=").concat(JSON.stringify("")),i=window.btoa(e);t("/explore?".concat(i))}})]})]})]})})]})})})},a=()=>{var t,i;return(0,z.jsx)("div",{children:(0,z.jsx)(n.A,{sx:{minHeight:"600px",maxHeight:"650px",height:"100%",overflowY:"scroll"},children:(0,z.jsx)(o.Ay,{container:!0,spacing:2,sx:{"&.MuiGrid-root":{marginTop:"0px !important"}},children:(null===e||void 0===e||null===(t=e.list)||void 0===t?void 0:t.length)>0?null===e||void 0===e||null===(i=e.list)||void 0===i?void 0:i.map(((e,t)=>(0,z.jsx)(o.Ay,{item:!0,xs:12,children:(0,z.jsx)(r,{data:e},e._id)}))):(0,z.jsx)(o.Ay,{item:!0,xs:12,children:(0,z.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px",flexDirection:"column"},children:[(0,z.jsx)("img",{src:g.A.noData,alt:"noData",style:{width:"70px",height:"70px"}}),(0,z.jsx)("br",{}),"No universities found"]})})})})})};return(0,z.jsx)(n.A,{sx:{px:"1rem"},children:e.loading?(0,z.jsx)(n.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px"},children:(0,z.jsx)(h.A,{})}):(0,z.jsx)(a,{})})};var O=i(53193),T=i(72221),k=i(90469),D=i(67784),J=i(51787),L=i(32143),R=i(21337),P=i(74802),_=i(66360),E=i(19778);const M=e=>{var t;return(0,z.jsx)(z.Fragment,{children:(0,z.jsx)(U,{appliedFilter:null===e||void 0===e?void 0:e.appliedFilter,data:null===e||void 0===e?void 0:e.data,initialValue:null!==e&&void 0!==e&&e.initialValue?null===e||void 0===e?void 0:e.initialValue:{type:null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.type,data:[]},onSelection:null===e||void 0===e?void 0:e.onSelection,normalizeType:null===e||void 0===e?void 0:e.normalizeType})})},U=e=>{var t;const i=(0,c.Zp)(),[o,r]=(0,d.useState)(""),a=(0,d.useMemo)((()=>{var t,i;return null===e||void 0===e||null===(t=e.data)||void 0===t||null===(i=t.options)||void 0===i?void 0:i.filter((e=>null===e||void 0===e?void 0:e.name))}),[o]);return(0,z.jsx)(z.Fragment,{children:(0,z.jsx)(O.A,{fullWidth:!0,children:(0,z.jsxs)(T.A,{value:"",onChange:t=>{var n;return(t=>{let n=(0,N.vT)({data:t,filterInfo:e.data,filter:e.appliedFilter});console.log(e.data);const o=location.search.slice(1);let l="";try{l=window.atob(o)}catch(s){console.error("Error decoding URL",s),l=""}let r=new URLSearchParams(l).get("FilterData"),a=(0,N.Wi)(n,r?JSON.parse(r):[]);i((0,N.Xe)("filterData",a))})(null===t||void 0===t||null===(n=t.target)||void 0===n?void 0:n.value)},onClose:()=>r(""),renderValue:t=>0===t.length?(0,z.jsxs)(l.A,{sx:{textTransform:"capitalize",fontSize:"14px",display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:"500"},children:[(0,z.jsx)("img",{src:e.data.icon,alt:"icon",style:{width:"15px"}}),e.normalizeType(e.data.label)]}):t.join(","),size:"small",fullWidth:!0,displayEmpty:!0,sx:{"&.MuiInputBase-root":{borderRadius:"0px !important"},"& .MuiOutlinedInput-notchedOutline":{borderBottom:"1px solid #00000033 !important",border:0}},defaultValue:"",MenuProps:{PaperProps:{sx:{maxHeight:300,maxWidth:300,"&.MuiPaper-root":{boxShadow:3,borderRadius:"15px !important"}}},autoFocus:!1},IconComponent:R.A,children:[null!==(t=e.data)&&void 0!==t&&t.searchbox?(0,z.jsx)(k.A,{children:(0,z.jsx)(D.A,{size:"small",autoFocus:!0,placeholder:"Type to search...",fullWidth:!0,InputProps:{startAdornment:(0,z.jsx)(J.A,{position:"start",children:(0,z.jsx)(_.A,{})})},onChange:e=>{var t;return r(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)},onKeyDown:e=>{"Escape"!==e.key&&e.stopPropagation()}})}):null,null===a||void 0===a?void 0:a.map(((t,i)=>{var o;return(0,z.jsx)(L.A,{value:t,sx:{"& .MuiSvgIcon-root ":{fontSize:"0.9rem"},whiteSpace:"normal"},children:(0,z.jsxs)(n.A,{sx:{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center"},children:[(0,z.jsxs)(l.A,{fontWeight:"300",fontSize:"14px",children:[" ",null===t||void 0===t?void 0:t.name]}),null!==(o=e.appliedFilter)&&void 0!==o&&o.data.find((e=>(null===e||void 0===e?void 0:e.value)===(null===t||void 0===t?void 0:t.value)))?(0,z.jsxs)("div",{style:{display:"flex"},children:[(0,z.jsx)(l.A,{sx:{fontSize:"12px !important"},children:null===t||void 0===t?void 0:t.count}),(0,z.jsx)(E.A,{fontSize:"small"})]}):(0,z.jsx)(l.A,{sx:{fontSize:"12px !important"},children:null===t||void 0===t?void 0:t.count})]})},i)}))]})})})},W=e=>{var t;let{setAppliedFilter:i,appliedFilters:a,open:s,setOpen:u}=e;const x=(0,c.Zp)(),[p,v]=(0,d.useState)(!1),[m,y]=(0,d.useState)(null),A=(0,c.zy)(),S=(0,d.useRef)({type:"courses",page:0,filterData:[],currency:"INR",search:"",totalItems:0,totalPages:1,appliedFilters:[]}),b=(0,d.useRef)([]),w=(0,d.useRef)("");(0,d.useEffect)((()=>{const e=A.search.slice(1),t=window.atob(e),i=new URLSearchParams(t);let n=i.get("FilterData"),o=i.get("activeTab");b.current=void 0!==n&&null!==n?JSON.parse(n):[],w.current=o?JSON.parse(o):"courses",S.current.appliedFilters=b.current,S.current.type=w.current,(async e=>{try{v(!0),y(null);const t=e.map((e=>({type:e.type,data:e.data.map((e=>e.value))}))),i=await(0,f.XF)(w.current,{filterData:t,project:[]});i&&i.data&&(y(i.data[0]),v(!1))}catch(t){console.error("Error fetching filter options:",t),v(!1)}})(S.current.appliedFilters)}),[A]);return(0,z.jsx)("div",{children:(0,z.jsxs)(n.A,{sx:{minHeight:"380px","& .MuiSelect-select":{fontSize:"14px"}},children:[(0,z.jsxs)(o.Ay,{container:!0,sx:{},children:[(0,z.jsxs)(o.Ay,{item:!0,xs:12,sx:{background:"#F5F5F5",p:2,display:"flex",alignItems:"center",justifyContent:"space-between",mb:1},children:[(0,z.jsx)("img",{src:g.A.filterIcon,alt:"icon",style:{width:"20px"}}),(null===a||void 0===a?void 0:a.length)>0&&!a.every((e=>"name"===(null===e||void 0===e?void 0:e.type)))?(0,z.jsx)(l.A,{sx:{color:"#3B3F76",cursor:"pointer",textTransform:"capitalize",fontSize:"14px",fontWeight:500},onClick:()=>{x((0,N.Xe)("filterData",[]))},children:"Clear all"}):null]}),(0,z.jsx)(o.Ay,{item:!0,xs:12,sx:{minHeight:"0px",overflowY:"scroll",maxHeight:"130px"},children:null===a||void 0===a?void 0:a.map((e=>{var t;return null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.map(((t,i)=>(0,z.jsxs)(r.A,{sx:null===F.dY||void 0===F.dY?void 0:F.dY.filteredList,children:[null===t||void 0===t?void 0:t.name,(0,z.jsx)(P.A,{className:"close-icon",sx:{marginLeft:1.5,fontSize:"1rem",visibility:"hidden",position:"absolute",right:4,top:10,transform:"translateY(-50%)",color:"red"},onClick:()=>((e,t)=>{var i;const n=A.search.slice(1);let o="";try{o=window.atob(n)}catch(a){console.error("Error decoding URL",a),o=""}let l=new URLSearchParams(o).get("FilterData"),r=(0,N.Wi)({...e,data:null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.filter((e=>(null===e||void 0===e?void 0:e.name)!=(null===t||void 0===t?void 0:t.name)))},l?JSON.parse(l):[]);x((0,N.Xe)("filterData",r))})(e,t)})]},i)))}))})]}),p?(0,z.jsx)(n.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",mt:2},children:(0,z.jsx)(h.A,{sx:{fontSize:"1.25rem"}})}):(0,z.jsx)(n.A,{sx:{minHeight:"380px",height:"100%",maxHeight:"530px",flexWrap:"nowrap",alignItems:"center",overflow:"auto"},children:(0,z.jsx)(o.Ay,{container:!0,spacing:2,sx:{p:1},children:m&&(null===(C=m,t=Object.entries(C).map((e=>{let[t,i]=e;const n=j.v[t]||{label:t.charAt(0).toUpperCase()+t.slice(1),icon:"",selectedType:"multi",searchbox:!1};let o=i.map((e=>{let i;return i="boolean"===typeof e._id&&"elite"===t?e._id?"No ".concat(n.label):"".concat(n.label):"boolean"===typeof e._id?e._id?(0,N.AZ)("".concat(n.label)):"No ".concat(n.label):String(e._id),{name:i,value:e._id,count:e.count}}));return"elite"===t&&(o=o.sort(((e,t)=>e.name.includes("Yes")&&!t.name.includes("Yes")?-1:!e.name.includes("Yes")&&t.name.includes("Yes")?1:0))),{type:t,label:n.label,icon:n.icon,options:o,selectedType:n.selectedType,searchbox:n.searchbox}})))||void 0===t?void 0:t.map((e=>(0,z.jsx)(o.Ay,{item:!0,xs:12,children:(0,z.jsx)(M,{data:e,appliedFilter:null!==a&&void 0!==a&&a.find((t=>t.type==e.type))?a.find((t=>t.type==e.type)):{type:e.type,data:[]},onSelection:N.vT,normalizeType:N.AZ,appliedFilters:a})},e.type))))})})]})});var C};var H=i(17392),B=i(41020),Z=i(74605),Y=i(51962),V=i(68864);const X=e=>{const[t,i]=(0,d.useState)(null),[n,l]=(0,d.useState)(""),r=[...e.list],a=()=>{i(null)};(0,d.useEffect)((()=>{(()=>{let t=[...r];"Low Tuition Fee"===n?t=t.sort(((e,t)=>e.tuitionFee.tuitionFee-t.tuitionFee.tuitionFee)):"High Tuition Fee"===n?t=t.sort(((e,t)=>t.tuitionFee.tuitionFee-e.tuitionFee.tuitionFee)):"Low Duration"===n?t=t.sort(((e,t)=>{var i,n;return(null===(i=e.duration)||void 0===i?void 0:i.duration)-(null===(n=t.duration)||void 0===n?void 0:n.duration)})):"High Duration"===n&&(t=t.sort(((e,t)=>{var i,n;return(null===(i=t.duration)||void 0===i?void 0:i.duration)-(null===(n=e.duration)||void 0===n?void 0:n.duration)}))),e.setList(t)})()}),[n]);const s=Boolean(t);return(0,z.jsxs)("div",{children:[(0,z.jsx)(H.A,{onClick:e=>{i(e.currentTarget)},sx:{marginRight:"1rem"},children:(0,z.jsx)(V.A,{sx:{color:"#000"}})}),(0,z.jsx)(B.Ay,{open:s,anchorEl:t,onClose:a,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:(0,z.jsxs)(o.Ay,{container:!0,spacing:1,sx:{padding:2,width:200},children:[(0,z.jsx)(o.Ay,{item:!0,xs:12,sx:{display:{lg:"none",xs:"flex"},justifyContent:"space-between"},children:(0,z.jsx)(H.A,{onClick:a,children:(0,z.jsx)(P.A,{sx:{fontSize:"1.25rem"}})})}),(0,z.jsx)(o.Ay,{item:!0,xs:12,sx:{"& .MuiTypography-root":{fontSize:"14px"}},children:[{label:"Low Tuition Fee",value:"Low Tuition Fee"},{label:"High Tuition Fee",value:"High Tuition Fee"}].map((e=>(0,z.jsx)(Z.A,{control:(0,z.jsx)(Y.A,{checked:n===e.value,onChange:()=>(e=>{l(e)})(e.value),sx:{"& .MuiSvgIcon-root":{fontSize:"1.25rem"}}}),label:e.label},e.value)))})]})})]})},G=e=>{var t;return(0,z.jsx)(z.Fragment,{children:(0,z.jsx)(K,{appliedFilter:null===e||void 0===e?void 0:e.appliedFilter,data:null===e||void 0===e?void 0:e.data,initialValue:null!==e&&void 0!==e&&e.initialValue?null===e||void 0===e?void 0:e.initialValue:{type:null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.type,data:[]},onSelection:null===e||void 0===e?void 0:e.onSelection,normalizeType:null===e||void 0===e?void 0:e.normalizeType})})},K=e=>{var t,i;const n=(0,c.Zp)(),o=(0,c.zy)();return(0,z.jsx)(z.Fragment,{children:null===e||void 0===e||null===(t=e.data)||void 0===t||null===(i=t.options)||void 0===i?void 0:i.map(((t,i)=>{var l,a;return(0,z.jsx)(r.A,{sx:{border:null!==(l=e.appliedFilter)&&void 0!==l&&l.data.find((e=>e.value===t.value))?"1px solid var(--3-primary-teal, #75ECE5)":"1px solid #3b3f76",backgroundColor:null!==(a=e.appliedFilter)&&void 0!==a&&a.data.find((e=>e.value===t.value))?"#9CFFF999":"transparent",color:"#3B3F76",textTransform:"none",marginRight:"0.5rem",fontSize:"13px",borderRadius:"8px","&:hover":{background:"#9CFFF999"},width:"auto",flexShrink:0},onClick:i=>(t=>{let i=(0,N.vT)({data:t,filterInfo:e.data,filter:e.appliedFilter});const l=o.search.slice(1);let r="";try{r=window.atob(l)}catch(d){console.error("Error decoding URL",d),r=""}let a=new URLSearchParams(r).get("FilterData"),s=(0,N.Wi)(i,a?JSON.parse(a):[]);n((0,N.Xe)("filterData",s))})(t),children:e.normalizeType(e.data.label)})}))})},$=e=>{var t;const i=(0,c.zy)(),u=(0,c.Zp)(),x=(0,v.j)(),p=localStorage.getItem("_auth"),h=(0,d.useRef)(""),y=(0,d.useRef)(0),A=(0,d.useRef)(""),S=(0,d.useRef)([]),[b,w]=(0,d.useState)([]),[F,O]=(0,d.useState)([]),[T,k]=(0,d.useState)([]),D=localStorage.getItem("currency"),J=(0,v.G)((e=>e.preferences)),[L,R]=(0,d.useState)(!1),_=y.current,[E,M]=(0,d.useState)(!1),U=(0,d.useRef)({type:"courses",page:0,filterData:[],currency:"INR",search:"",totalItems:0,totalPages:1,appliedFilters:[]}),H=U.current.totalItems||0,B=H>0?20*(_-1)+1:0,Z=Math.min(20*_,H);(0,d.useEffect)((()=>{const e=i.search.slice(1),t=window.atob(e),n=new URLSearchParams(t);let o=n.get("FilterData"),l=n.get("activeTab"),r=n.get("page"),a=n.get("search");y.current=r?JSON.parse(r):1,S.current=void 0!==o&&null!==o?JSON.parse(o):[],A.current=l?JSON.parse(l):"courses",h.current=a?JSON.parse(a):"",w(Object.values(j.f2)[Object.keys(j.f2).findIndex((e=>e===A.current))]),O(Object.values(j.om)[Object.keys(j.om).findIndex((e=>e===A.current))]),U.current.appliedFilters=S.current,U.current.type=A.current,U.current.search=h.current;let s=localStorage.getItem(A.current+"ListInfo");U.current.totalItems=s?JSON.parse(s).totalItems:void 0,U.current.totalPages=s?JSON.parse(s).totalPages:void 0,K(y.current,U.current)}),[i]);const Y=[{label:"Programs",value:"courses",Component:(0,z.jsx)(C,{list:T,loading:L})},{label:"Universities",value:"universities",Component:(0,z.jsx)(I,{list:T,loading:L})}],V=e=>{let t="";switch(e.name){case"tabSelected":let i=localStorage.getItem(e.data.value+"ListInfo");t="activeTab=".concat(JSON.stringify(e.data.value),"&FilterData=").concat(JSON.stringify(i?JSON.parse(i).appliedFilters:[]),"&page=").concat(JSON.stringify(1),"&search=").concat(JSON.stringify("")),u("/explore?".concat(window.btoa(t)));break;case"filterUpdated":t="activeTab=".concat(JSON.stringify(A.current),"&FilterData=").concat(encodeURIComponent(JSON.stringify(e.data)),"&page=").concat(JSON.stringify(1),"&search=").concat(JSON.stringify("")),u("/explore?".concat(window.btoa(t)));break;case"nextPage":t="activeTab=".concat(JSON.stringify(A.current),"&FilterData=").concat(JSON.stringify(S.current),"&page=").concat(JSON.stringify(y.current+1),"&search=").concat(JSON.stringify(h.current)),u("/explore?".concat(window.btoa(t)));break;case"pageChange":if(e.data>2)if(p){let t="activeTab=".concat(JSON.stringify(A.current),"&FilterData=").concat(encodeURIComponent(JSON.stringify(S.current)),"&page=").concat(JSON.stringify(e.data),"&search=").concat(JSON.stringify(h.current));u("/explore?".concat(window.btoa(t))),window.scrollTo(0,0)}else x((0,m.DE)({show:!0,data:{container:{name:"login",dimensions:{width:"800px",height:"80%",show:"none"}},type:"custom"}}));else{let t="activeTab=".concat(JSON.stringify(A.current),"&FilterData=").concat(encodeURIComponent(JSON.stringify(S.current)),"&page=").concat(JSON.stringify(e.data),"&search=").concat(JSON.stringify(h.current));u("/explore?".concat(window.btoa(t))),window.scrollTo(0,0)}break;case"search":t="activeTab=".concat(JSON.stringify(A.current),"&FilterData=").concat(JSON.stringify(S.current),"&page=").concat(JSON.stringify(1),"&search=").concat(JSON.stringify(e.data)),u("/explore?".concat(window.btoa(t)));break;case"previousPage":t="activeTab=".concat(JSON.stringify(A.current),"&FilterData=").concat(JSON.stringify(S.current),"&page=").concat(JSON.stringify(y.current-1),"&search=").concat(JSON.stringify(h.current)),u("/explore?".concat(window.btoa(t)))}},K=async(e,t)=>{if(1===e&&(t.totalPages=1),t.totalPages&&e<=t.totalPages){var i,n;let o=null===t||void 0===t||null===(i=t.appliedFilters)||void 0===i?void 0:i.map((e=>({...e,data:null===e||void 0===e?void 0:e.data.map((e=>null===e||void 0===e?void 0:e.value))})));R(!0);const l=await(0,f.NZ)(t.type,{page:e,currency:null!==(n=J.data)&&void 0!==n&&n.currency?J.data.currency:D||"INR",filterData:t.search?[...o,{type:"name",data:[t.search]}]:o});l.success?(t.totalItems=l.data.totalItems,t.totalPages=l.data.totalPages,localStorage.setItem(t.type+"ListInfo",JSON.stringify(t)),k(l.data.list),R(!1)):R(!1)}};return(0,z.jsx)(n.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",marginTop:"4rem"},children:(0,z.jsx)("div",{style:{maxWidth:"1440px",width:"100%",height:"100%",overflowY:"scroll"},children:(0,z.jsxs)(o.Ay,{container:!0,spacing:1,children:[(0,z.jsx)(o.Ay,{item:!0,lg:2.5,sx:{display:{xs:"none",lg:"block"},paddingLeft:"16px !important"},children:(0,z.jsx)(n.A,{sx:{boxShadow:"0px 4px 16px 0px #00000040",width:"90%",mt:2,borderRadius:"1rem"},children:(0,z.jsx)(W,{appliedFilters:S.current,setAppliedFilter:e=>{V({name:"filterUpdated",data:e})}})})}),(0,z.jsxs)(o.Ay,{item:!0,xs:12,lg:9.5,sx:{},children:[(0,z.jsxs)(o.Ay,{container:!0,sx:{display:"flex",alignItems:"center"},children:[(0,z.jsxs)(o.Ay,{item:!0,xs:9,sm:10,lg:12,sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[B>0?(0,z.jsxs)(l.A,{sx:{display:"flex",gap:"0.5rem",pl:2},children:[(0,z.jsxs)("span",{style:{color:"#3b3f76",fontWeight:"600"},children:[B,"-",Z]}),"out of",(0,z.jsx)("span",{style:{color:"#3b3f76",fontWeight:"600"},children:H}),"results"]}):(0,z.jsxs)(l.A,{sx:{display:"flex",gap:"0.5rem",pl:2},children:[(0,z.jsx)("span",{style:{color:"#3b3f76",fontWeight:"600"},children:H}),"results"]}),"courses"===A.current&&(0,z.jsx)(X,{setList:k,list:T})]}),(0,z.jsx)(o.Ay,{item:!0,xs:3,sm:2,sx:{display:{lg:"none"}},children:(0,z.jsxs)(r.A,{onClick:()=>M(!0),sx:{display:"flex",gap:"6px",color:"#000",fontWeight:"500",textTransform:"none",mb:1},children:[(0,z.jsx)("img",{src:g.A.filterIcon,alt:"icon",style:{width:"20px"}})," Filters"]})})]}),(0,z.jsx)(n.A,{sx:{display:"flex",flexWrap:"nowrap",alignItems:"center",overflowX:"auto",paddingLeft:"1rem",scrollbarWidth:"none",mb:2},children:null===F||void 0===F?void 0:F.map(((e,t)=>{var i;return(0,z.jsx)(G,{data:e,appliedFilter:(null===(i=S.current)||void 0===i?void 0:i.find((t=>t.type===e.type)))||{type:e.type,data:[]},onSelection:N.vT,normalizeType:N.AZ,appliedFilters:S.current},t)}))}),(0,z.jsx)(n.A,{children:null===(t=Y.find((e=>e.value===A.current)))||void 0===t?void 0:t.Component}),(0,z.jsx)(n.A,{sx:{display:"flex",justifyContent:"center",gap:"20px",my:2},children:B>0&&(0,z.jsx)(a.A,{sx:{display:"flex",justifyContent:"center",mt:1,"& .MuiPaginationItem-root.Mui-selected":{background:"#3B3F76 !important",color:"#fff",borderRadius:"5px",height:"28px",minWidth:"28px !important",p:"0 !important"}},count:U.current.totalPages,page:y.current,onChange:(e,t)=>V({name:"pageChange",data:t}),showFirstButton:!0,showLastButton:!0})})]}),E?["right"].map((e=>(0,z.jsx)(d.Fragment,{children:(0,z.jsxs)(s.Ay,{anchor:e,open:E,onClose:()=>M(!E),sx:{"& .MuiPaper-root":{width:{xs:"60%",sm:"40%",md:"30%"}},display:{xs:"block",lg:"none"}},children:[(0,z.jsx)(n.A,{children:(0,z.jsx)(P.A,{sx:{float:"right",m:1,cursor:"pointer"},onClick:()=>M(!E)})}),(0,z.jsx)(W,{appliedFilters:S.current,setAppliedFilter:e=>{V({name:"filterUpdated",data:e})}})]})},e))):null]})})})}}}]);
//# sourceMappingURL=157.04555ae7.chunk.js.map