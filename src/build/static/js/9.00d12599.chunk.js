"use strict";(self.webpackChunkstudent_typescript=self.webpackChunkstudent_typescript||[]).push([[9],{99009:(e,t,a)=>{a.r(t),a.d(t,{default:()=>b});var s=a(96446),i=a(85865),r=a(67784),o=a(81637),n=a(32143),l=a(41020),c=a(51787),d=a(17392),g=a(11906),u=a(65043),m=a(73216),p=a(61807),x=a(11346),f=a(33438),h=a(46873),S=a(93610),y=a(70579);const b=()=>{const e=(0,m.Zp)(),t=(0,m.zy)(),{title:a}=t.state||{},[b,v]=(0,u.useState)(a||"Enter your academic details"),[A,j]=(0,u.useState)(null),[k,C]=(0,u.useState)([]),[I,E]=(0,u.useState)(!1),[O,w]=(0,u.useState)(!1);(0,u.useEffect)((()=>{a&&v(a)}),[a]);const[F,L]=(0,u.useState)({institution:"",academicLevel:"",gradeSystem:"",score:"",backlogs:"",maxScore:null}),[N,z]=(0,u.useState)({institution:"",academicLevel:"",gradeSystem:"",score:"",backlogs:""});(0,u.useEffect)((()=>{if(F.institution.length<2)return C([]),void w(!1)}),[F.institution]);const P=e=>{console.log("Masters Data",e);let t=localStorage.getItem("user-profile"),a=t?JSON.parse(t):{};a&&localStorage.setItem("user-profile",JSON.stringify({...a,education:{postGraduation:{instituteName:e.institution,backlogs:e.backlogs,totalScore:e.totalScore,gradingSystem:e.gradingSystem}}}))},J=e=>{let t=localStorage.getItem("user-profile"),a=t?JSON.parse(t):{};a&&localStorage.setItem("user-profile",JSON.stringify({...a,education:{underGraduation:{instituteName:e.institution,backlogs:e.backlogs,totalScore:e.totalScore,gradingSystem:e.gradingSystem,...e.maxScore&&{maxScore:e.maxScore}}}}))},$=e=>{let t=localStorage.getItem("user-profile"),a=t?JSON.parse(t):{};a&&localStorage.setItem("user-profile",JSON.stringify({...a,education:{plus2:{instituteName:e.institution,backlogs:e.backlogs,totalScore:e.totalScore,gradingSystem:e.gradingSystem}}}))},M=e=>{let t=localStorage.getItem("user-profile"),a=t?JSON.parse(t):{};a&&localStorage.setItem("user-profile",JSON.stringify({...a,education:{plus2:{instituteName:e.institution,backlogs:e.backlogs,totalScore:e.totalScore,gradingSystem:e.gradingSystem}}}))},W=e=>{const{name:t,value:a}=e.target;L((e=>({...e,[t]:a,..."gradeSystem"===t?{maxScore:"cgpa1"===a?10:"cgpa2"===a?7:"cgpa3"===a?5:"gpa"===a?4:"percentage"===a?100:null,score:"",backlogs:""}:{}}))),D(t,a)},D=(e,t)=>{let a="";switch(e){case"institution":a=""===t.trim()?"Institution name is required":"";break;case"academicLevel":a=""===t?"Please select an academic level":"";break;case"gradeSystem":a=""===t?"Please select a grade system":"";break;case"score":if(F.gradeSystem)if("percentage"===F.gradeSystem){/^(100(\.00?)?|([0-9]?[0-9])(\.\d{1,2})?)$/.test(t)||(a="Enter a valid percentage (0-100) with up to 2 decimals")}else if("cgpa1"===F.gradeSystem){/^10(\.00?)?$|^([0-9](\.\d{1,2})?)$/.test(t)||(a="Enter a valid CGPA (0-10) with up to 2 decimals")}else if("cgpa2"===F.gradeSystem){/^7(\.00?)?$|^([0-6](\.\d{1,2})?)$/.test(t)||(a="Enter a valid CGPA (0-7) with up to 2 decimals")}else if("cgpa3"===F.gradeSystem){/^7(\.00?)?$|^([0-5](\.\d{1,2})?)$/.test(t)||(a="Enter a valid CGPA (0-7) with up to 2 decimals")}else if("gpa"===F.gradeSystem){/^7(\.00?)?$|^([0-4](\.\d{1,2})?)$/.test(t)||(a="Enter a valid GPA (0-4) with up to 2 decimals")}else if("grade"===F.gradeSystem){/^[A-Za-z]$/.test(t)||(a="Enter a valid grade (A-Z)")}else(""===t||parseFloat(t)<=0)&&(a="Enter a valid score");else a="Select a grade system first";break;case"backlogs":a=""!==t&&parseInt(t)<0?"Backlogs cannot be negative":""}z((t=>({...t,[e]:a})))},G=Object.values(N).every((e=>""===e))&&Object.values(F).every((e=>""!==e));(0,u.useEffect)((()=>{const e=localStorage.getItem("formData");e&&L(JSON.parse(e))}),[]);const R=Boolean(A),B=R?"info-popover":void 0;return console.log("Data",O),(0,y.jsxs)(s.A,{sx:{...p.OZ.container1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh",textAlign:"center"},children:[(0,y.jsx)(i.A,{variant:"h4",fontWeight:"bold",sx:{mb:3,fontSize:{xs:"1.5rem",lg:"2rem"},color:"#495052"},children:b.includes("final score")?(0,y.jsxs)(y.Fragment,{children:["What is your ",(0,y.jsx)("span",{style:{color:"#F48438"},children:"final score"})," status?"]}):(0,y.jsxs)(y.Fragment,{children:["Enter your ",(0,y.jsx)("span",{style:{color:"#F48438"},children:"current academic"})," details"]})}),(0,y.jsxs)(s.A,{sx:{width:{xs:"90%",sm:"400px"},display:"flex",flexDirection:"column",gap:2},children:[(0,y.jsxs)("div",{style:{position:"relative"},children:[(0,y.jsx)(r.A,{fullWidth:!0,name:"institution",label:"Enter your school, college, or university name",variant:"outlined",value:F.institution,onChange:e=>{console.log("Change");(async e=>{E(!0);try{var t;const a=await fetch("https://campusroot.com/api/v1/public/university/?search=".concat(e,"&institutions=1&universities=0&disciplines=0&subDisciplines=0&location=0&perPage=100&page=1&custom=true")),s=await a.json();C((null===s||void 0===s||null===(t=s.data)||void 0===t?void 0:t.institutions)||[]),w(!0)}catch(a){console.error("Error fetching institutions:",a)}E(!1)})(e.target.value),W(e)},error:!!N.institution,helperText:N.institution,autoComplete:"off",InputProps:{endAdornment:(0,y.jsxs)(y.Fragment,{children:[I&&(0,y.jsx)(o.A,{color:"inherit",size:20}),F.institution&&(0,y.jsx)(f.A,{sx:{cursor:"pointer"},onClick:()=>L((e=>({...e,institution:""})))})]})},sx:{position:"relative","& .MuiOutlinedInput-root":{borderRadius:"12px","& fieldset":{borderLeft:"10px solid #FF9784"}}}}),O&&(0,y.jsx)(s.A,{sx:{position:"absolute",top:"100%",zIndex:100,backgroundColor:"#fff",boxShadow:1,maxHeight:"200px",overflowY:"auto",width:"100%"},children:k.map(((e,t)=>(0,y.jsx)(n.A,{onClick:()=>(e=>{L((t=>({...t,institution:e.InstitutionName}))),C([]),w(!1)})(e),children:null===e||void 0===e?void 0:e.InstitutionName},t)))})]}),(0,y.jsxs)(r.A,{fullWidth:!0,select:!0,name:"academicLevel",label:b.includes("final score")?"Select your last academic":"select your current academic",variant:"outlined",value:F.academicLevel,onChange:W,error:!!N.academicLevel,helperText:N.academicLevel,sx:{"& .MuiOutlinedInput-root":{borderRadius:"12px","& fieldset":{borderLeft:"10px solid #AAAEFE"}}},children:[(0,y.jsx)(n.A,{value:"masters",sx:{justifyContent:"flex-start",textAlign:"left"},children:"Masters"}),(0,y.jsx)(n.A,{value:"bachelors",sx:{justifyContent:"flex-start",textAlign:"left"},children:"Bachelors"}),(0,y.jsx)(n.A,{value:"diploma",sx:{justifyContent:"flex-start",textAlign:"left"},children:"Diploma"}),(0,y.jsx)(n.A,{value:"grade 12",sx:{justifyContent:"flex-start",textAlign:"left"},children:"Grade 12"}),(0,y.jsx)(n.A,{value:"others",sx:{justifyContent:"flex-start",textAlign:"left"},children:"Others"})]}),(0,y.jsx)(r.A,{fullWidth:!0,select:!0,name:"gradeSystem",label:"Grade system",variant:"outlined",value:F.gradeSystem,onChange:W,error:!!N.gradeSystem,helperText:N.gradeSystem,sx:{"& .MuiOutlinedInput-root":{borderRadius:"12px","& fieldset":{borderLeft:"10px solid #70A6B2"}}},children:S._A.map((e=>(0,y.jsx)(n.A,{value:e.value,sx:{justifyContent:"flex-start",textAlign:"left"},children:e.label})))}),(0,y.jsx)(r.A,{fullWidth:!0,name:"score",label:"Enter Score",variant:"outlined",value:F.score,onChange:W,error:!!N.score,helperText:N.score,type:"grade"===F.gradeSystem?"text":"number",inputProps:{..."grade"===F.gradeSystem?{maxLength:1,pattern:"[A-Za-z]"}:{step:"0.01"}},sx:{"& .MuiOutlinedInput-root":{borderRadius:"12px","& fieldset":{borderLeft:"10px solid #AAAEFE"}}}}),(0,y.jsx)(l.Ay,{id:B,open:R,anchorEl:A,onClose:()=>{j(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},PaperProps:{sx:{p:2.5,px:3,maxWidth:280,borderRadius:"16px",background:"#fff",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.1)",border:"1px solid #FF9784",fontFamily:"'Inter', 'Poppins', sans-serif"}},children:(0,y.jsxs)(s.A,{sx:{display:"flex",alignItems:"flex-start",gap:1.5},children:[(0,y.jsx)(s.A,{sx:{width:28,height:28,backgroundColor:"#4F46E5",borderRadius:"50%",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",mt:"2px"},children:(0,y.jsx)(h.A,{fontSize:"small"})}),(0,y.jsxs)(s.A,{children:[(0,y.jsx)(i.A,{variant:"subtitle2",sx:{fontWeight:600,fontSize:"0.95rem",color:"#111827",mb:.5},children:"Backlogs?"}),(0,y.jsx)(i.A,{variant:"body2",sx:{color:"#4B5563",fontSize:"0.85rem",lineHeight:1.5},children:"Subjects not cleared on the first attempt."})]})]})}),(0,y.jsx)(r.A,{fullWidth:!0,name:"backlogs",label:"Enter backlogs",variant:"outlined",value:F.backlogs,onChange:W,error:!!N.backlogs,helperText:N.backlogs,type:"number",InputProps:{endAdornment:(0,y.jsx)(c.A,{position:"end",children:(0,y.jsx)(d.A,{onClick:e=>{j(e.currentTarget)},children:(0,y.jsx)("img",{src:x.A.info,alt:"Click Me",width:26,height:28})})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:"12px","& fieldset":{borderLeft:"10px solid #FFA89C"}}}})]}),(0,y.jsxs)(s.A,{sx:{mt:16,display:"flex",justifyContent:"center",alignItems:"center",height:"10vh",width:"100%"},children:[(0,y.jsx)(g.A,{variant:"text",sx:{color:"#888"},onClick:()=>e(-1),children:"\u2190 Back"}),(0,y.jsx)(g.A,{variant:"contained",sx:{px:4,py:1.5,borderRadius:"20px",background:"#F48438","&:hover":{backgroundColor:"#d96f2e"}},onClick:()=>{var t;localStorage.setItem("formData",JSON.stringify(F)),e("/testcondition1"),t=F.academicLevel,console.log("Selected Level",t),"percentage"===F.gradeSystem&&(F.maxScore=100),"cgpa1"===F.gradeSystem&&(F.maxScore=10),"cgpa2"===F.gradeSystem&&(F.maxScore=7),"cgpa3"===F.gradeSystem&&(F.maxScore=5),"gpa"===F.gradeSystem&&(F.maxScore=4),"masters"===t&&P({institution:F.institution,backlogs:F.backlogs,gradingSystem:F.gradeSystem,totalScore:F.score}),"grade 12"===t&&$({institution:F.institution,backlogs:F.backlogs,gradingSystem:F.gradeSystem,totalScore:F.score}),"bachelors"===t&&J({institution:F.institution,backlogs:F.backlogs,gradingSystem:F.gradeSystem,totalScore:F.score,maxScore:"cgpa1"===F.gradeSystem?10:"cgpa2"===F.gradeSystem?7:"cgpa3"===F.gradeSystem?5:"gpa"===F.gradeSystem?4:"percentage"===F.gradeSystem?100:void 0}),"others"===t&&M({institution:F.institution,backlogs:F.backlogs,gradingSystem:F.gradeSystem,totalScore:F.score})},disabled:!G,children:"Save"})]})]})}},46873:(e,t,a)=>{var s=a(24994);t.A=void 0;var i=s(a(40039)),r=a(70579);t.A=(0,i.default)((0,r.jsx)("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-6 15h-2v-2h2zm0-4h-2V8h2zm-1-9c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1"}),"AssignmentLate")}}]);
//# sourceMappingURL=9.00d12599.chunk.js.map