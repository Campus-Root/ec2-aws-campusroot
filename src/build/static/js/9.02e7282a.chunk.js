"use strict";(self.webpackChunkstudent_typescript=self.webpackChunkstudent_typescript||[]).push([[9],{99009:(e,t,a)=>{a.r(t),a.d(t,{default:()=>v});var s=a(96446),i=a(85865),r=a(67784),o=a(81637),n=a(32143),l=a(41020),c=a(51787),d=a(17392),u=a(11906),g=a(65043),m=a(73216),p=a(61807),x=a(35302),h=a(33438),S=a(46873),f=a(93610),y=a(70579);const v=()=>{const e=(0,m.Zp)(),t=(0,m.zy)(),{selectedStatus:a,title:v}=t.state||{},[b,A]=(0,g.useState)(v||"Enter your academic details"),[j,k]=(0,g.useState)(null),[C,I]=(0,g.useState)([]),[E,O]=(0,g.useState)(!1),[w,L]=(0,g.useState)(!1),[z,D]=(0,g.useState)(!1),[F,P]=(0,g.useState)("");(0,g.useEffect)((()=>{v&&A(v)}),[v]);const[N,J]=(0,g.useState)({institution:"",academicLevel:"",gradeSystem:"",score:"",backlogs:"",maxScore:null}),[$,M]=(0,g.useState)({institution:"",academicLevel:"",gradeSystem:"",score:"",backlogs:""});(0,g.useEffect)((()=>{if(N.institution.length<2)return I([]),L(!1),void P(N.institution)}),[N.institution]);const W=e=>{console.log("Masters Data",e);let t=localStorage.getItem("user-profile"),a=t?JSON.parse(t):{};a&&localStorage.setItem("user-profile",JSON.stringify({...a,education:{postGraduation:{institution:e.institution,backlogs:e.backlogs,totalScore:e.totalScore,gradingSystem:e.gradingSystem}}}))},G=e=>{let t=localStorage.getItem("user-profile"),a=t?JSON.parse(t):{};a&&localStorage.setItem("user-profile",JSON.stringify({...a,education:{underGraduation:{institution:e.institution,backlogs:e.backlogs,totalScore:e.totalScore,gradingSystem:e.gradingSystem,...e.maxScore&&{maxScore:e.maxScore}}}}))},R=e=>{let t=localStorage.getItem("user-profile"),a=t?JSON.parse(t):{};a&&localStorage.setItem("user-profile",JSON.stringify({...a,education:{plus2:{institution:e.institution,backlogs:e.backlogs,totalScore:e.totalScore,gradingSystem:e.gradingSystem}}}))},B=e=>{let t=localStorage.getItem("user-profile"),a=t?JSON.parse(t):{};a&&localStorage.setItem("user-profile",JSON.stringify({...a,education:{plus2:{institution:e.institution,backlogs:e.backlogs,totalScore:e.totalScore,gradingSystem:e.gradingSystem}}}))},T=e=>{const{name:t,value:a}=e.target;J((e=>({...e,[t]:a,..."gradeSystem"===t?{maxScore:"cgpa1"===a?10:"cgpa2"===a?7:"cgpa3"===a?5:"gpa"===a?4:null}:{}}))),Z(t,a)},Z=(e,t)=>{let a="";switch(e){case"institution":a=""===t.trim()?"Institution name is required":"";break;case"academicLevel":a=""===t?"Please select an academic level":"";break;case"gradeSystem":a=""===t?"Please select a grade system":"";break;case"score":if(N.gradeSystem)if("percentage"===N.gradeSystem){/^(100(\.00?)?|([0-9]?[0-9])(\.\d{1,2})?)$/.test(t)||(a="Enter a valid percentage (0-100) with up to 2 decimals")}else if("cgpa1"===N.gradeSystem){/^10(\.00?)?$|^([0-9](\.\d{1,2})?)$/.test(t)||(a="Enter a valid CGPA (0-10) with up to 2 decimals")}else if("cgpa2"===N.gradeSystem){/^7(\.00?)?$|^([0-6](\.\d{1,2})?)$/.test(t)||(a="Enter a valid CGPA (0-7) with up to 2 decimals")}else if("cgpa3"===N.gradeSystem){/^7(\.00?)?$|^([0-5](\.\d{1,2})?)$/.test(t)||(a="Enter a valid CGPA (0-7) with up to 2 decimals")}else if("gpa"===N.gradeSystem){/^7(\.00?)?$|^([0-4](\.\d{1,2})?)$/.test(t)||(a="Enter a valid GPA (0-4) with up to 2 decimals")}else if("grade"===N.gradeSystem){/^[A-Za-z]$/.test(t)||(a="Enter a valid grade (A-Z)")}else(""===t||parseFloat(t)<=0)&&(a="Enter a valid score");else a="Select a grade system first";break;case"backlogs":a=""!==t&&parseInt(t)<0?"Backlogs cannot be negative":""}M((t=>({...t,[e]:a})))},H=Object.values($).every((e=>""===e))&&Object.values(N).every((e=>""!==e));(0,g.useEffect)((()=>{const e=localStorage.getItem("formData");e&&J(JSON.parse(e))}),[]);const _=Boolean(j),V=_?"info-popover":void 0;return console.log("Data",z),(0,y.jsxs)(s.A,{sx:{...p.OZ.container1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh",textAlign:"center"},children:[(0,y.jsx)(i.A,{variant:"h4",fontWeight:"bold",sx:{mb:3,fontSize:{xs:"1.5rem",lg:"2rem"}},children:b.includes("final score")?(0,y.jsxs)(y.Fragment,{children:["What is your ",(0,y.jsx)("span",{style:{color:"#F87171"},children:"final score"})," status?"]}):(0,y.jsxs)(y.Fragment,{children:["Enter your ",(0,y.jsx)("span",{style:{color:"#F87171"},children:"current academic"})," details"]})}),(0,y.jsxs)(s.A,{sx:{width:{xs:"90%",sm:"400px"},display:"flex",flexDirection:"column",gap:2},children:[(0,y.jsxs)("div",{style:{position:"relative"},children:[(0,y.jsx)(r.A,{fullWidth:!0,name:"institution",label:"Enter your school, college, or university name",variant:"outlined",value:N.institution,onChange:e=>{console.log("Change");(async e=>{O(!0);try{var t;const a=await fetch("https://campusroot.com/api/v1/public/university/?search=".concat(e,"&institutions=1&universities=0&disciplines=0&subDisciplines=0&location=0&perPage=100&page=1&custom=true")),s=await a.json();I((null===s||void 0===s||null===(t=s.data)||void 0===t?void 0:t.institutions)||[]),L(!0),D(!0)}catch(a){console.error("Error fetching institutions:",a)}O(!1)})(e.target.value),T(e)},error:!!$.institution,helperText:$.institution,autoComplete:"off",InputProps:{endAdornment:(0,y.jsxs)(y.Fragment,{children:[E&&(0,y.jsx)(o.A,{color:"inherit",size:20}),N.institution&&(0,y.jsx)(h.A,{sx:{cursor:"pointer"},onClick:()=>J((e=>({...e,institution:""})))})]})},sx:{position:"relative","& .MuiOutlinedInput-root":{borderRadius:"12px","& fieldset":{borderLeft:"10px solid #D1D3F9"}}}}),z&&(0,y.jsx)(s.A,{sx:{position:"absolute",top:"100%",zIndex:100,backgroundColor:"#fff",boxShadow:1,maxHeight:"200px",overflowY:"auto",width:"100%"},children:C.map(((e,t)=>(0,y.jsx)(n.A,{onClick:()=>(e=>{J((t=>({...t,institution:e.InstitutionName}))),I([]),D(!1)})(e),children:null===e||void 0===e?void 0:e.InstitutionName},t)))})]}),(0,y.jsxs)(r.A,{fullWidth:!0,select:!0,name:"academicLevel",label:b.includes("final score")?"Select your last academic":"select your current academic",variant:"outlined",value:N.academicLevel,onChange:T,error:!!$.academicLevel,helperText:$.academicLevel,sx:{"& .MuiOutlinedInput-root":{borderRadius:"12px","& fieldset":{borderLeft:"10px solid #FAEAD0"}}},children:[(0,y.jsx)(n.A,{value:"masters",children:"Masters"}),(0,y.jsx)(n.A,{value:"bachelors",children:"Bachelors"}),(0,y.jsx)(n.A,{value:"diploma",children:"Diploma"}),(0,y.jsx)(n.A,{value:"grade 12",children:"Grade 12"}),(0,y.jsx)(n.A,{value:"others",children:"Others"})]}),(0,y.jsx)(r.A,{fullWidth:!0,select:!0,name:"gradeSystem",label:"Grade system",variant:"outlined",value:N.gradeSystem,onChange:T,error:!!$.gradeSystem,helperText:$.gradeSystem,sx:{"& .MuiOutlinedInput-root":{borderRadius:"12px","& fieldset":{borderLeft:"10px solid #D1D3F9"}}},children:f._A.map((e=>(0,y.jsx)(n.A,{value:e.value,children:e.label})))}),(0,y.jsx)(r.A,{fullWidth:!0,name:"score",label:"Enter Score",variant:"outlined",value:N.score,onChange:T,error:!!$.score,helperText:$.score,type:"grade"===N.gradeSystem?"text":"number",inputProps:{..."grade"===N.gradeSystem?{maxLength:1,pattern:"[A-Za-z]"}:{step:"0.01"}},sx:{"& .MuiOutlinedInput-root":{borderRadius:"12px","& fieldset":{borderLeft:"10px solid #75ECE5"}}}}),(0,y.jsx)(l.Ay,{id:V,open:_,anchorEl:j,onClose:()=>{k(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},PaperProps:{sx:{p:2.5,px:3,maxWidth:280,borderRadius:"16px",background:"#fff",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.1)",border:"1px solid #eaeaea",fontFamily:"'Inter', 'Poppins', sans-serif"}},children:(0,y.jsxs)(s.A,{sx:{display:"flex",alignItems:"flex-start",gap:1.5},children:[(0,y.jsx)(s.A,{sx:{width:28,height:28,backgroundColor:"#4F46E5",borderRadius:"50%",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",mt:"2px"},children:(0,y.jsx)(S.A,{fontSize:"small"})}),(0,y.jsxs)(s.A,{children:[(0,y.jsx)(i.A,{variant:"subtitle2",sx:{fontWeight:600,fontSize:"0.95rem",color:"#111827",mb:.5},children:"Backlogs?"}),(0,y.jsx)(i.A,{variant:"body2",sx:{color:"#4B5563",fontSize:"0.85rem",lineHeight:1.5},children:"Subjects not cleared on the first attempt."})]})]})}),(0,y.jsx)(r.A,{fullWidth:!0,name:"backlogs",label:"Enter backlogs",variant:"outlined",value:N.backlogs,onChange:T,error:!!$.backlogs,helperText:$.backlogs,type:"number",InputProps:{endAdornment:(0,y.jsx)(c.A,{position:"end",children:(0,y.jsx)(d.A,{onClick:e=>{k(e.currentTarget)},children:(0,y.jsx)("img",{src:x.A.info,alt:"Click Me",width:26,height:28})})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:"12px","& fieldset":{borderLeft:"10px solid #FFA89C"}}}})]}),(0,y.jsxs)(s.A,{sx:{mt:16,display:"flex",justifyContent:"center",alignItems:"center",height:"10vh",width:"100%"},children:[(0,y.jsx)(u.A,{variant:"text",sx:{color:"#888"},onClick:()=>e(-1),children:"\u2190 Back"}),(0,y.jsx)(u.A,{variant:"contained",sx:{px:4,py:1.5,borderRadius:"20px"},onClick:()=>{var t;localStorage.setItem("formData",JSON.stringify(N)),e("/testcondition1"),t=N.academicLevel,console.log("Selected Level",t),"cgpa1"===N.gradeSystem&&(N.maxScore=10),"cgpa2"===N.gradeSystem&&(N.maxScore=7),"cgpa3"===N.gradeSystem&&(N.maxScore=5),"gpa"===N.gradeSystem&&(N.maxScore=4),"masters"===t&&W({institution:N.institution,backlogs:N.backlogs,gradingSystem:N.gradeSystem,totalScore:N.score}),"grade 12"===t&&R({institution:N.institution,backlogs:N.backlogs,gradingSystem:N.gradeSystem,totalScore:N.score}),"bachelors"===t&&G({institution:N.institution,backlogs:N.backlogs,gradingSystem:N.gradeSystem,totalScore:N.score,maxScore:"cgpa1"===N.gradeSystem?10:"cgpa2"===N.gradeSystem?7:"cgpa3"===N.gradeSystem?5:"gpa"===N.gradeSystem?4:void 0}),"others"===t&&B({institution:N.institution,backlogs:N.backlogs,gradingSystem:N.gradeSystem,totalScore:N.score})},disabled:!H,children:"Save"})]})]})}},46873:(e,t,a)=>{var s=a(24994);t.A=void 0;var i=s(a(40039)),r=a(70579);t.A=(0,i.default)((0,r.jsx)("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-6 15h-2v-2h2zm0-4h-2V8h2zm-1-9c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1"}),"AssignmentLate")}}]);
//# sourceMappingURL=9.02e7282a.chunk.js.map