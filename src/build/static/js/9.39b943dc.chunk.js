"use strict";(self.webpackChunkstudent_typescript=self.webpackChunkstudent_typescript||[]).push([[9],{99009:(e,t,a)=>{a.r(t),a.d(t,{default:()=>y});var s=a(96446),i=a(85865),r=a(67784),o=a(81637),n=a(32143),l=a(41020),c=a(51787),d=a(17392),u=a(11906),g=a(65043),m=a(73216),p=a(61807),h=a(42191),x=a(33438),S=a(70579);const y=()=>{const e=(0,m.Zp)(),t=(0,m.zy)(),{selectedStatus:a,title:y}=t.state||{},[f,v]=(0,g.useState)(y||"Enter your academic details"),[b,A]=(0,g.useState)(null),[j,k]=(0,g.useState)([]),[C,I]=(0,g.useState)(!1),[E,O]=(0,g.useState)(!1),[w,L]=(0,g.useState)(!1),[P,G]=(0,g.useState)("");(0,g.useEffect)((()=>{y&&v(y)}),[y]);const[D,F]=(0,g.useState)({institution:"",academicLevel:"",gradeSystem:"",score:"",backlogs:"",maxScore:null}),[N,W]=(0,g.useState)({institution:"",academicLevel:"",gradeSystem:"",score:"",backlogs:""});(0,g.useEffect)((()=>{if(D.institution.length<2)return k([]),O(!1),void G(D.institution)}),[D.institution]);const $=e=>{console.log("Masters Data",e);let t=localStorage.getItem("user-profile"),a=t?JSON.parse(t):{};a&&localStorage.setItem("user-profile",JSON.stringify({...a,education:{postGraduation:{institution:e.institution,backlogs:e.backlogs,totalScore:e.totalScore,gradingSystem:e.gradingSystem}}}))},z=e=>{let t=localStorage.getItem("user-profile"),a=t?JSON.parse(t):{};a&&localStorage.setItem("user-profile",JSON.stringify({...a,education:{underGraduation:{institution:e.institution,backlogs:e.backlogs,totalScore:e.totalScore,gradingSystem:e.gradingSystem,...e.maxScore&&{maxScore:e.maxScore}}}}))},J=e=>{let t=localStorage.getItem("user-profile"),a=t?JSON.parse(t):{};a&&localStorage.setItem("user-profile",JSON.stringify({...a,education:{plus2:{institution:e.institution,backlogs:e.backlogs,totalScore:e.totalScore,gradingSystem:e.gradingSystem}}}))},M=e=>{let t=localStorage.getItem("user-profile"),a=t?JSON.parse(t):{};a&&localStorage.setItem("user-profile",JSON.stringify({...a,education:{plus2:{institution:e.institution,backlogs:e.backlogs,totalScore:e.totalScore,gradingSystem:e.gradingSystem}}}))},R=e=>{const{name:t,value:a}=e.target;F((e=>({...e,[t]:a,..."gradeSystem"===t?{maxScore:"cgpa1"===a?10:"cgpa2"===a?7:"cgpa3"===a?5:"gpa"===a?4:null}:{}}))),T(t,a)},T=(e,t)=>{let a="";switch(e){case"institution":a=""===t.trim()?"Institution name is required":"";break;case"academicLevel":a=""===t?"Please select an academic level":"";break;case"gradeSystem":a=""===t?"Please select a grade system":"";break;case"score":if(D.gradeSystem)if("percentage"===D.gradeSystem){/^(100(\.00?)?|([0-9]?[0-9])(\.\d{1,2})?)$/.test(t)||(a="Enter a valid percentage (0-100) with up to 2 decimals")}else if("cgpa1"===D.gradeSystem){/^10(\.00?)?$|^([0-9](\.\d{1,2})?)$/.test(t)||(a="Enter a valid CGPA (0-10) with up to 2 decimals")}else if("cgpa2"===D.gradeSystem){/^7(\.00?)?$|^([0-6](\.\d{1,2})?)$/.test(t)||(a="Enter a valid CGPA (0-7) with up to 2 decimals")}else if("cgpa3"===D.gradeSystem){/^7(\.00?)?$|^([0-5](\.\d{1,2})?)$/.test(t)||(a="Enter a valid CGPA (0-7) with up to 2 decimals")}else if("gpa"===D.gradeSystem){/^7(\.00?)?$|^([0-4](\.\d{1,2})?)$/.test(t)||(a="Enter a valid GPA (0-4) with up to 2 decimals")}else if("grade"===D.gradeSystem){/^[A-Za-z]$/.test(t)||(a="Enter a valid grade (A-Z)")}else(""===t||parseFloat(t)<=0)&&(a="Enter a valid score");else a="Select a grade system first";break;case"backlogs":a=""!==t&&parseInt(t)<0?"Backlogs cannot be negative":""}W((t=>({...t,[e]:a})))},B=Object.values(N).every((e=>""===e))&&Object.values(D).every((e=>""!==e)),Z=Boolean(b),_=Z?"info-popover":void 0;return console.log("Data",w),(0,S.jsxs)(s.A,{sx:{...p.OZ.container1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh",textAlign:"center"},children:[(0,S.jsx)(i.A,{variant:"h4",fontWeight:"bold",sx:{mb:3,fontSize:{xs:"1.5rem",lg:"2rem"}},children:f.includes("final score")?(0,S.jsxs)(S.Fragment,{children:["What is your ",(0,S.jsx)("span",{style:{color:"#F87171"},children:"final score"})," status?"]}):(0,S.jsxs)(S.Fragment,{children:["Enter your ",(0,S.jsx)("span",{style:{color:"#F87171"},children:"current academic"})," details"]})}),(0,S.jsxs)(s.A,{sx:{width:{xs:"90%",sm:"400px"},display:"flex",flexDirection:"column",gap:2},children:[(0,S.jsxs)("div",{style:{position:"relative"},children:[(0,S.jsx)(r.A,{fullWidth:!0,name:"institution",label:"Enter your school, college, or university name",variant:"outlined",value:D.institution,onChange:e=>{console.log("Change");(async e=>{I(!0);try{var t;const a=await fetch("https://campusroot.com/api/v1/public/university/?search=".concat(e,"&institutions=1&universities=0&disciplines=0&subDisciplines=0&location=0&perPage=100&page=1&custom=true")),s=await a.json();k((null===s||void 0===s||null===(t=s.data)||void 0===t?void 0:t.institutions)||[]),O(!0),L(!0)}catch(a){console.error("Error fetching institutions:",a)}I(!1)})(e.target.value),R(e)},error:!!N.institution,helperText:N.institution,autoComplete:"off",InputProps:{endAdornment:(0,S.jsxs)(S.Fragment,{children:[C&&(0,S.jsx)(o.A,{color:"inherit",size:20}),D.institution&&(0,S.jsx)(x.A,{sx:{cursor:"pointer"},onClick:()=>F((e=>({...e,institution:""})))})]})},sx:{position:"relative","& .MuiOutlinedInput-root":{borderRadius:"12px","& fieldset":{borderLeft:"10px solid #D1D3F9"}}}}),w&&(0,S.jsx)(s.A,{sx:{position:"absolute",top:"100%",zIndex:100,backgroundColor:"#fff",boxShadow:1,maxHeight:"200px",overflowY:"auto",width:"100%"},children:j.map(((e,t)=>(0,S.jsx)(n.A,{onClick:()=>(e=>{F((t=>({...t,institution:e.InstitutionName}))),k([]),L(!1)})(e),children:null===e||void 0===e?void 0:e.InstitutionName},t)))})]}),(0,S.jsxs)(r.A,{fullWidth:!0,select:!0,name:"academicLevel",label:f.includes("final score")?"Select your last academic":"select your current academic",variant:"outlined",value:D.academicLevel,onChange:R,error:!!N.academicLevel,helperText:N.academicLevel,sx:{"& .MuiOutlinedInput-root":{borderRadius:"12px","& fieldset":{borderLeft:"10px solid #FAEAD0"}}},children:[(0,S.jsx)(n.A,{value:"masters",children:"Masters"}),(0,S.jsx)(n.A,{value:"bachelors",children:"Bachelors"}),(0,S.jsx)(n.A,{value:"diploma",children:"Diploma"}),(0,S.jsx)(n.A,{value:"grade 12",children:"Grade 12"}),(0,S.jsx)(n.A,{value:"others",children:"Others"})]}),(0,S.jsxs)(r.A,{fullWidth:!0,select:!0,name:"gradeSystem",label:"Grade system",variant:"outlined",value:D.gradeSystem,onChange:R,error:!!N.gradeSystem,helperText:N.gradeSystem,sx:{"& .MuiOutlinedInput-root":{borderRadius:"12px","& fieldset":{borderLeft:"10px solid #D1D3F9"}}},children:[(0,S.jsx)(n.A,{value:"percentage",children:"Percentage out of 100"}),(0,S.jsx)(n.A,{value:"cgpa1",children:"CGPA out of 10"}),(0,S.jsx)(n.A,{value:"cgpa2",children:"CGPA out of 7"}),(0,S.jsx)(n.A,{value:"cgpa3",children:"CGPA out of 5"}),(0,S.jsx)(n.A,{value:"gpa",children:"GPA out of 4"})]}),(0,S.jsx)(r.A,{fullWidth:!0,name:"score",label:"Enter Score",variant:"outlined",value:D.score,onChange:R,error:!!N.score,helperText:N.score,type:"grade"===D.gradeSystem?"text":"number",inputProps:{..."grade"===D.gradeSystem?{maxLength:1,pattern:"[A-Za-z]"}:{step:"0.01"}},sx:{"& .MuiOutlinedInput-root":{borderRadius:"12px","& fieldset":{borderLeft:"10px solid #75ECE5"}}}}),(0,S.jsx)(l.Ay,{id:_,open:Z,anchorEl:b,onClose:()=>{A(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:(0,S.jsxs)(s.A,{sx:{p:2,maxWidth:300},children:[(0,S.jsx)(i.A,{variant:"body1",fontWeight:"bold",children:"What are Backlogs?"}),(0,S.jsx)(i.A,{variant:"body2",sx:{mt:1},children:"A backlog refers to a subject that was not cleared in the first attempt and needs to be reattempted."})]})}),(0,S.jsx)(r.A,{fullWidth:!0,name:"backlogs",label:"Enter backlogs",variant:"outlined",value:D.backlogs,onChange:R,error:!!N.backlogs,helperText:N.backlogs,type:"number",InputProps:{endAdornment:(0,S.jsx)(c.A,{position:"end",children:(0,S.jsx)(d.A,{onClick:e=>{A(e.currentTarget)},children:(0,S.jsx)("img",{src:h.A.info,alt:"Click Me",width:26,height:28})})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:"12px","& fieldset":{borderLeft:"10px solid #FFA89C"}}}})]}),(0,S.jsxs)(s.A,{sx:{mt:16,display:"flex",justifyContent:"center",alignItems:"center",height:"10vh",width:"100%"},children:[(0,S.jsx)(u.A,{variant:"text",sx:{color:"#888"},onClick:()=>e(-1),children:"\u2190 Back"}),(0,S.jsx)(u.A,{variant:"contained",sx:{px:4,py:1.5,borderRadius:"20px"},onClick:()=>{var t;e("/testcondition1"),t=D.academicLevel,console.log("Selected Level",t),"cgpa1"===D.gradeSystem&&(D.maxScore=10),"cgpa2"===D.gradeSystem&&(D.maxScore=7),"cgpa3"===D.gradeSystem&&(D.maxScore=5),"gpa"===D.gradeSystem&&(D.maxScore=4),"masters"===t&&$({institution:D.institution,backlogs:D.backlogs,gradingSystem:D.gradeSystem,totalScore:D.score}),"grade 12"===t&&J({institution:D.institution,backlogs:D.backlogs,gradingSystem:D.gradeSystem,totalScore:D.score}),"bachelors"===t&&z({institution:D.institution,backlogs:D.backlogs,gradingSystem:D.gradeSystem,totalScore:D.score,maxScore:"cgpa1"===D.gradeSystem?10:"cgpa2"===D.gradeSystem?7:"cgpa3"===D.gradeSystem?5:"gpa"===D.gradeSystem?4:void 0}),"others"===t&&M({institution:D.institution,backlogs:D.backlogs,gradingSystem:D.gradeSystem,totalScore:D.score})},disabled:!B,children:"Save"})]})]})}}}]);
//# sourceMappingURL=9.39b943dc.chunk.js.map