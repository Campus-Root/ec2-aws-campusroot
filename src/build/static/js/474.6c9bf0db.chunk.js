"use strict";(self.webpackChunkstudent_typescript=self.webpackChunkstudent_typescript||[]).push([[474],{44474:(e,t,i)=>{i.r(t),i.d(t,{default:()=>di});var n=i(96446),o=i(68989),a=i(73216),l=i(85865),s=i(65043),r=i(29378),d=i(12110),c=i(79958),u=i(2050),x=i(17392),m=i(30279),h=i(26494),p=i(19252),v=i(21337),g=i(61807),f=i(70579);function A(e){let{title:t,children:i,imageUrl:o}=e;const[a,l]=(0,s.useState)(!1);return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)(d.A,{sx:[g.dY.cardCollapse,{boxShadow:a?"4px 4px 50px rgb(14 4 4 / 8%)":0}],children:[(0,f.jsx)(c.A,{onClick:()=>l(!a),sx:{...g.dY.cardTitle,color:"#8E9091"},title:t,avatar:(0,f.jsx)(n.A,{sx:{...g.dY.cardImg},children:(0,f.jsx)(u.A,{sx:{display:"flex",justifyContent:"center",color:"#495052",fontWeight:500},children:o})}),action:(0,f.jsx)(x.A,{onClick:()=>l(!a),sx:{transform:a?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s"},children:(0,f.jsx)(v.A,{})})}),(0,f.jsx)("div",{children:(0,f.jsx)(m.A,{in:a,timeout:"auto",unmountOnExit:!0,sx:g.dY.cardContent,children:(0,f.jsx)(h.A,{sx:{padding:.5},children:(0,f.jsx)(p.A,{sx:{padding:0},children:i})})})})]})})}var j=i(68903),y=i(88911),b=i(37954),S=i(56614),C=i(8064);const w=e=>{var t,i,n,o,a;let{data:s}=e;const d=(0,r.jL)(),c=(0,r.GV)((e=>e.testscores)),u=e=>c.data.find((t=>t.name===e)),x=u("Graduate Record Examination"),m=u("Graduate Management Admission Test"),h=u("American College Testing"),p=u("Scholastic Assessment Test");return(0,f.jsxs)("div",{children:[(0,f.jsxs)(j.Ay,{container:!0,sx:{display:"flex",alignItems:"center",borderRadius:"8px",padding:"10px",background:"#F7FAFD",mb:2},children:[(0,f.jsx)(j.Ay,{item:!0,xs:4,children:(0,f.jsx)(l.A,{fontWeight:"500",children:"GRE"})}),(0,f.jsx)(j.Ay,{item:!0,xs:8,sx:{justifyContent:"end",display:"flex"},children:(null===x||void 0===x?void 0:x.docId)&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(l.A,{children:[(0,f.jsx)("img",{src:b.A.pdfIcon,alt:"",style:{width:"1rem"}}),null===(t=x.docId)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.FileName]}),(0,f.jsx)(y.A,{direction:"row",spacing:2,sx:{alignItems:"center",marginRight:"10px"},children:(0,f.jsx)(S.A,{sx:{fontSize:"large"},onClick:()=>{var e,t;d((0,C.DE)({show:!0,data:{container:{name:"fileViewer",data:null===(e=x.docId)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.preview_url,dimensions:{width:"500px"}},type:"custom"}}))}})})]})})]}),(0,f.jsxs)(j.Ay,{container:!0,sx:{display:"flex",alignItems:"center",borderRadius:"8px",padding:"10px",background:"#F7FAFD",mb:2},children:[(0,f.jsx)(j.Ay,{item:!0,xs:4,children:(0,f.jsx)(l.A,{fontWeight:"500",children:"GMAT"})}),(0,f.jsx)(j.Ay,{item:!0,xs:8,sx:{justifyContent:"end",display:"flex"},children:(null===m||void 0===m?void 0:m.docId)&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(l.A,{children:[(0,f.jsx)("img",{src:b.A.pdfIcon,alt:"",style:{width:"1rem"}}),null===(n=m.docId.data)||void 0===n?void 0:n.FileName]}),(0,f.jsx)(y.A,{direction:"row",spacing:2,sx:{alignItems:"center",marginRight:"10px"},children:(0,f.jsx)(S.A,{sx:{fontSize:"large"},onClick:()=>{var e,t;d((0,C.DE)({show:!0,data:{container:{name:"fileViewer",data:null===(e=m.docId)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.preview_url,dimensions:{width:"500px"}},type:"custom"}}))}})})]})})]}),(0,f.jsxs)(j.Ay,{container:!0,sx:{display:"flex",alignItems:"center",borderRadius:"8px",padding:"10px",background:"#F7FAFD",mb:2},children:[(0,f.jsx)(j.Ay,{item:!0,xs:4,children:(0,f.jsx)(l.A,{fontWeight:"500",children:"SAT"})}),(0,f.jsx)(j.Ay,{item:!0,xs:8,sx:{justifyContent:"end",display:"flex"},children:(null===p||void 0===p?void 0:p.docId)&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(l.A,{children:[(0,f.jsx)("img",{src:b.A.pdfIcon,alt:"",style:{width:"1rem"}}),null===(o=p.docId.data)||void 0===o?void 0:o.FileName]}),(0,f.jsx)(y.A,{direction:"row",spacing:2,sx:{alignItems:"center",marginRight:"10px"},children:(0,f.jsx)(S.A,{sx:{fontSize:"large"},onClick:()=>{var e,t;d((0,C.DE)({show:!0,data:{container:{name:"fileViewer",data:null===(e=p.docId)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.preview_url,dimensions:{width:"500px"}},type:"custom"}}))}})})]})})]}),(0,f.jsxs)(j.Ay,{container:!0,sx:{display:"flex",alignItems:"center",borderRadius:"8px",padding:"10px",background:"#F7FAFD",mb:2},children:[(0,f.jsx)(j.Ay,{item:!0,xs:4,children:(0,f.jsx)(l.A,{fontWeight:"500",children:"ACT"})}),(0,f.jsx)(j.Ay,{item:!0,xs:8,sx:{justifyContent:"end",display:"flex"},children:(null===h||void 0===h?void 0:h.docId)&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(l.A,{children:[(0,f.jsx)("img",{src:b.A.pdfIcon,alt:"",style:{width:"1rem"}}),null===(a=h.docId.data)||void 0===a?void 0:a.FileName]}),(0,f.jsx)(y.A,{direction:"row",spacing:2,sx:{alignItems:"center",marginRight:"10px"},children:(0,f.jsx)(S.A,{sx:{fontSize:"large"},onClick:()=>{var e,t;d((0,C.DE)({show:!0,data:{container:{name:"fileViewer",data:null===(e=h.docId)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.preview_url,dimensions:{width:"500px"}},type:"custom"}}))}})})]})})]})]})},D=e=>{var t,i,n,o;let{data:a}=e;const s=(0,r.GV)((e=>e.testscores)),d=(0,r.jL)(),c=e=>s.data.find((t=>t.name===e)),u=c("Test of English as a Foreign Language"),x=c("International English Language Testing System"),m=c("Duolingo English Test"),h=c("Pearson Test of English");return(0,f.jsxs)("div",{children:[(0,f.jsxs)(j.Ay,{container:!0,sx:{display:"flex",alignItems:"center",borderRadius:"8px",padding:"10px",background:"#F7FAFD",mb:2},children:[(0,f.jsx)(j.Ay,{item:!0,xs:4,children:(0,f.jsx)(l.A,{fontWeight:"500",children:"TOEFL"})}),(0,f.jsx)(j.Ay,{item:!0,xs:8,sx:{justifyContent:"end",display:"flex"},children:(null===u||void 0===u?void 0:u.docId)&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(l.A,{children:[(0,f.jsx)("img",{src:b.A.pdfIcon,alt:"",style:{width:"1rem"}}),null===(t=u.docId.data)||void 0===t?void 0:t.FileName]}),(0,f.jsx)(y.A,{direction:"row",spacing:2,sx:{alignItems:"center",marginRight:"10px"},children:(0,f.jsx)(S.A,{sx:{fontSize:"large"},onClick:()=>{var e,t;d((0,C.DE)({show:!0,data:{container:{name:"fileViewer",data:null===(e=u.docId)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.preview_url,dimensions:{width:"500px"}},type:"custom"}}))}})})]})})]}),(0,f.jsxs)(j.Ay,{container:!0,sx:{display:"flex",alignItems:"center",borderRadius:"8px",padding:"10px",background:"#F7FAFD",mb:2},children:[(0,f.jsx)(j.Ay,{item:!0,xs:4,children:(0,f.jsx)(l.A,{fontWeight:"500",children:"IELTS"})}),(0,f.jsx)(j.Ay,{item:!0,xs:8,sx:{justifyContent:"end",display:"flex"},children:(null===x||void 0===x?void 0:x.docId)&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(l.A,{children:[(0,f.jsx)("img",{src:b.A.pdfIcon,alt:"",style:{width:"1rem"}}),null===(i=x.docId.data)||void 0===i?void 0:i.FileName]}),(0,f.jsx)(y.A,{direction:"row",spacing:2,sx:{alignItems:"center",marginRight:"10px"},children:(0,f.jsx)(S.A,{sx:{fontSize:"large"},onClick:()=>{var e,t;d((0,C.DE)({show:!0,data:{container:{name:"fileViewer",data:null===(e=x.docId)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.preview_url,dimensions:{width:"500px"}},type:"custom"}}))}})})]})})]}),(0,f.jsxs)(j.Ay,{container:!0,sx:{display:"flex",alignItems:"center",borderRadius:"8px",padding:"10px",background:"#F7FAFD",mb:2},children:[(0,f.jsx)(j.Ay,{item:!0,xs:4,children:(0,f.jsx)(l.A,{fontWeight:"500",children:"DET"})}),(0,f.jsx)(j.Ay,{item:!0,xs:8,sx:{justifyContent:"end",display:"flex"},children:(null===m||void 0===m?void 0:m.docId)&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(l.A,{children:[(0,f.jsx)("img",{src:b.A.pdfIcon,alt:"",style:{width:"1rem"}}),null===(n=m.docId.data)||void 0===n?void 0:n.FileName]}),(0,f.jsx)(y.A,{direction:"row",spacing:2,sx:{alignItems:"center",marginRight:"10px"},children:(0,f.jsx)(S.A,{sx:{fontSize:"large"},onClick:()=>{var e,t;d((0,C.DE)({show:!0,data:{container:{name:"fileViewer",data:null===(e=m.docId)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.preview_url,dimensions:{width:"500px"}},type:"custom"}}))}})})]})})]}),(0,f.jsxs)(j.Ay,{container:!0,sx:{display:"flex",alignItems:"center",borderRadius:"8px",padding:"10px",background:"#F7FAFD",mb:2},children:[(0,f.jsx)(j.Ay,{item:!0,xs:4,children:(0,f.jsx)(l.A,{fontWeight:"500",children:"PTE"})}),(0,f.jsx)(j.Ay,{item:!0,xs:8,sx:{justifyContent:"end",display:"flex"},children:(null===h||void 0===h?void 0:h.docId)&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(l.A,{children:[(0,f.jsx)("img",{src:b.A.pdfIcon,alt:"",style:{width:"1rem"}}),null===(o=h.docId.data)||void 0===o?void 0:o.FileName]}),(0,f.jsx)(y.A,{direction:"row",spacing:2,sx:{alignItems:"center",marginRight:"10px"},children:(0,f.jsx)(S.A,{sx:{fontSize:"large"},onClick:()=>{var e,t;d((0,C.DE)({show:!0,data:{container:{name:"fileViewer",data:null===(e=h.docId)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.preview_url,dimensions:{width:"500px"}},type:"custom"}}))}})})]})})]})]})},E=e=>{let{data:t}=e;const i=(0,r.jL)(),n=e=>{var t;let{doc:n,handleDelete:o}=e;return(0,f.jsxs)(j.Ay,{container:!0,sx:{display:"flex",alignItems:"center",borderRadius:"8px",padding:"10px",background:"#F7FAFD",mb:2},children:[(0,f.jsx)(j.Ay,{item:!0,xs:4,children:(0,f.jsx)(l.A,{fontWeight:"500",children:null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.originalname})}),(0,f.jsx)(j.Ay,{item:!0,xs:8,sx:{justifyContent:"end",display:"flex"},children:(0,f.jsx)(y.A,{direction:"row",spacing:2,sx:{alignItems:"center",marginRight:"10px"},children:(0,f.jsx)(S.A,{sx:{fontSize:"large"},onClick:()=>{var e;i((0,C.DE)({show:!0,data:{container:{name:"fileViewer",data:null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.preview_url,dimensions:{width:"500px"}},type:"custom"}}))}})})})]})};return(0,f.jsx)("div",{children:(null===t||void 0===t?void 0:t.length)>0?null===t||void 0===t?void 0:t.map((e=>(0,f.jsx)(n,{doc:e},e._id))):(0,f.jsx)(l.A,{children:"No data available"})})},k=()=>{var e,t,i,o,a;const s=(0,r.GV)((e=>e.documents)),d=[{title:"Aptitude Test Marksheet",image:(0,f.jsx)("div",{children:(0,f.jsx)(l.A,{color:"#3b3f76",sx:{position:"absolute",top:"-4px",left:"14px",width:"200px"},fontWeight:"500",fontSize:"1.1rem",children:"1"})}),component:(0,f.jsx)(w,{data:null===s||void 0===s||null===(e=s.data)||void 0===e||null===(t=e.test)||void 0===t?void 0:t.general})},{title:"English Proficiency Test Scores report",image:(0,f.jsx)("div",{children:(0,f.jsx)(l.A,{color:"#3b3f76",sx:{position:"absolute",top:"-4px",left:"14px",width:"200px"},fontWeight:"500",fontSize:"1.1rem",children:"2"})}),component:(0,f.jsx)(D,{data:null===s||void 0===s||null===(i=s.data)||void 0===i||null===(o=i.test)||void 0===o?void 0:o.languageProf})},{title:"Work Experience",image:(0,f.jsx)("div",{children:(0,f.jsx)(l.A,{color:"#3b3f76",sx:{position:"absolute",top:"-4px",left:"14px",width:"200px"},fontWeight:"500",fontSize:"1.1rem",children:"3"})}),component:(0,f.jsx)(E,{data:null===s||void 0===s||null===(a=s.data)||void 0===a?void 0:a.workExperiences})}];return(0,f.jsx)(n.A,{children:null===d||void 0===d?void 0:d.map((e=>(0,f.jsx)(A,{title:e.title,imageUrl:e.image,children:e.component})))})};var W=i(85473);function N(e){let{title:t,children:i,isOpen:n,onToggle:o}=e;return(0,f.jsxs)(d.A,{sx:{boxShadow:0,p:0,borderRadius:"8px",overflow:"hidden",marginBottom:1},children:[(0,f.jsx)(c.A,{onClick:o,sx:{padding:"8px !important",background:"#F7FAFD",color:"#495052",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",".MuiTypography-root":{fontSize:"1rem",fontWeight:500}},title:t,action:(0,f.jsx)(x.A,{onClick:e=>{e.stopPropagation(),o()},"aria-label":"expand",size:"small",sx:{marginRight:"12px"},children:n?(0,f.jsx)(W.A,{}):(0,f.jsx)(v.A,{})})}),(0,f.jsx)(m.A,{in:n,timeout:"auto",unmountOnExit:!0,children:(0,f.jsx)(h.A,{sx:{boxShadow:3,p:2},children:i})})]})}var I=i(25013),T=i(12200),F=i(37179),z=i(88266);const P=e=>{let{data:t}=e;const i=(0,r.jL)(),[n,o]=(0,s.useState)(null),[a,d]=(0,s.useState)(!1),[c,u]=(0,s.useState)(null),[x,m]=(0,s.useState)(null),h=(e,t)=>{d(!0),u(t),m(e)},p=((0,s.useRef)(null),(0,s.useRef)(null),(0,s.useRef)(null),[{key:"transcripts",label:"Transcripts"},{key:"bonafide",label:"Bonafide"},{key:"CMM",label:"CMM"},{key:"PCM",label:"PCM"},{key:"OD",label:"OD"}]),v=e=>{var t,n;let{doc:o,data:a,handleDelete:s}=e;return(0,f.jsxs)(j.Ay,{container:!0,sx:{display:"flex",alignItems:"center",borderRadius:"8px",padding:"10px",background:"#F7FAFD",mb:2},children:[(0,f.jsx)(j.Ay,{item:!0,xs:4,children:(0,f.jsx)(l.A,{fontWeight:"500",children:o.label})}),(0,f.jsx)(j.Ay,{item:!0,xs:8,sx:{justifyContent:"end",display:"flex"},children:a&&a[o.key]?(0,f.jsxs)(y.A,{direction:"row",spacing:2,sx:{alignItems:"center",marginRight:"10px"},children:[(0,f.jsx)(l.A,{children:null===(t=a[o.key])||void 0===t||null===(n=t.data)||void 0===n?void 0:n.FileName}),(0,f.jsx)(S.A,{sx:{fontSize:"large",cursor:"pointer"},onClick:()=>{var e,t;i((0,C.DE)({show:!0,data:{container:{name:"fileViewer",data:null===(e=a[o.key])||void 0===e||null===(t=e.data)||void 0===t?void 0:t.preview_url,dimensions:{width:"500px"}},type:"custom"}}))}}),(0,f.jsx)(F.A,{sx:{fontSize:"large",cursor:"pointer"},onClick:()=>s("academic.".concat(o.key),a[o.key]._id)})]}):(0,f.jsx)(l.A,{color:"gray",children:"No file uploaded"})})]})},g=e=>{let{title:t,docData:i,docPath:a,index:l}=e;return(0,f.jsx)(N,{title:t,isOpen:n===l,onToggle:()=>(e=>{o((t=>t===e?null:e))})(l),children:(0,f.jsx)(f.Fragment,{children:p.map((e=>(0,f.jsx)(v,{doc:e,data:i,handleDelete:h},e.key)))})})};return(0,f.jsxs)("div",{children:[(0,f.jsxs)(l.A,{textAlign:"right",children:[(0,f.jsx)("b",{children:"Note:"})," Only jpeg, png, pdf files are accepted"]}),(0,f.jsx)(g,{title:"Bachelors",docData:null===t||void 0===t?void 0:t.bachelors,docPath:"academic.bachelors",index:0}),(0,f.jsx)(g,{title:"Masters",docData:null===t||void 0===t?void 0:t.masters,docPath:"academic.masters",index:1}),[{key:"secondarySchool",label:"School"},{key:"plus2",label:"Grade 12"},{key:"degree",label:"Degree"}].map(((e,i)=>(0,f.jsx)(v,{doc:e,data:t,handleDelete:h},e.key))),(0,f.jsx)(z.A,{open:a,handleClose:()=>d(!1),additionalData:{onSubmit:()=>(async(e,t)=>{try{const n=await(0,I.aW)({fieldPath:e,documentId:t});n&&(i((0,T.FT)(n.data.data)),d(!1))}catch(n){console.error("Failed to delete document:",n)}})(x,c),title:"Are you sure you want to delete?",content:""}})]})};var R=i(64625),G=i(11906),L=i(7109);const M=e=>{var t,i;let{doc:n,data:o,inputFileRef:a,handleSubmit:d,handleDelete:c}=e;const[u,x]=(0,s.useState)(!1),[m,h]=(0,s.useState)(null),[p,v]=(0,s.useState)(null),[g,A]=(0,s.useState)(!1),w=(0,r.jL)();return(0,f.jsxs)(j.Ay,{container:!0,sx:{display:"flex",alignItems:"center",borderRadius:"8px",padding:"10px",background:"#F7FAFD",mb:2},children:[(0,f.jsx)(j.Ay,{item:!0,xs:4,children:(0,f.jsx)(l.A,{fontWeight:"500",children:n.label})}),(0,f.jsx)(j.Ay,{item:!0,xs:8,sx:{justifyContent:"end",display:"flex"},children:o&&o[n.key]?(0,f.jsxs)(y.A,{direction:"row",spacing:2,sx:{alignItems:"center",marginRight:"10px"},children:[(0,f.jsx)(l.A,{children:null===(t=o[n.key])||void 0===t||null===(i=t.data)||void 0===i?void 0:i.FileName}),(0,f.jsx)(S.A,{sx:{fontSize:"large"},onClick:()=>{var e,t;w((0,C.DE)({show:!0,data:{container:{name:"fileViewer",data:null===(e=o[n.key])||void 0===e||null===(t=e.data)||void 0===t?void 0:t.preview_url,dimensions:{width:"500px"}},type:"custom"}}))}}),(0,f.jsx)(F.A,{sx:{fontSize:"large"},onClick:()=>{return e="personal.".concat(n.key),t=o[n.key]._id,x(!0),h(t),void v(e);var e,t}})]}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("input",{style:{display:"none"},type:"file",onChange:e=>(async(e,t,i)=>{A(!0),await d(e,t,i),A(!1)})(e,"personal.".concat(n.key),n.label),ref:a,accept:".jpeg,.png,.pdf"}),g?(0,f.jsx)("img",{src:b.A.standardLoader,alt:"load",style:{width:"20px",height:"20px",marginRight:"10px"}}):(0,f.jsx)(G.A,{sx:{color:"#000",textTransform:"none",p:0,fontSize:"0.7rem"},onClick:()=>{var e;return null===(e=a.current)||void 0===e?void 0:e.click()},children:(0,f.jsx)(L.A,{})})]})}),(0,f.jsx)(z.A,{open:u,handleClose:()=>x(!1),additionalData:{onSubmit:()=>c(p,m),title:"Are you sure you want to delete?",content:""}})]})},B=e=>{let{data:t}=e;const i=(0,r.jL)(),n={resume:(0,s.useRef)(null),passportBD:(0,s.useRef)(null),passportADD:(0,s.useRef)(null)},o=async(e,t,n)=>{const o=e.target.files&&e.target.files[0];if(o&&R.OD.includes(o.type))try{const e=new FormData;e.append("uploaded_file",o),e.append("fieldPath",t),e.append("fileIdentifier",n);const a=await(0,I.Lb)(e);a&&(i((0,T.FT)(a.data.data.docs)),i((0,C.DE)({show:!0,data:{container:{name:"success",data:"Document added successfully",dimensions:{width:"30%",height:"40%",show:"none"}},type:"custom"}})))}catch(a){console.error("Upload failed",a)}else i((0,C.DE)({show:!0,data:{container:{name:"error",data:"Only jpeg, png, pdf files are accepted",dimensions:{width:"250px",show:"none"}},type:"custom"}}))},a=async(e,t)=>{try{const n=await(0,I.aW)({fieldPath:e,documentId:t});n&&i((0,T.FT)(n.data.data))}catch(n){console.error("Delete failed",n)}};return(0,f.jsxs)("div",{children:[(0,f.jsxs)(l.A,{textAlign:"right",children:[(0,f.jsx)("b",{children:"Note:"})," Only jpeg, png, pdf files are accepted"]}),[{key:"resume",label:"Resume"},{key:"passportBD",label:"Passport Photo Page"},{key:"passportADD",label:"Passport Address Page"}].map((e=>(0,f.jsx)(M,{doc:e,data:t,inputFileRef:n[e.key],handleSubmit:o,handleDelete:a},e.key)))]})},O=()=>{var e,t;const i=(0,r.GV)((e=>e.documents)),o=[{title:"Personal Documents",image:(0,f.jsx)("div",{children:(0,f.jsx)(l.A,{color:"#3b3f76",sx:{position:"absolute",top:"-4px",left:"14px",width:"200px"},fontWeight:"500",fontSize:"1.1rem",children:"1"})}),component:(0,f.jsx)(B,{data:null===i||void 0===i||null===(e=i.data)||void 0===e?void 0:e.personal})},{title:"Academic Documents",image:(0,f.jsx)(l.A,{color:"#3b3f76",sx:{position:"absolute",top:"-4px",left:"14px",width:"200px"},fontWeight:"500",fontSize:"1.1rem",children:"2"}),component:(0,f.jsx)(P,{data:null===i||void 0===i||null===(t=i.data)||void 0===t?void 0:t.academic})}];return(0,f.jsx)(n.A,{children:null===o||void 0===o?void 0:o.map((e=>(0,f.jsx)(A,{title:e.title,imageUrl:e.image,children:e.component},e)))})},q=()=>(0,f.jsxs)(n.A,{sx:{display:"flex",flexDirection:"column",justifyContent:"flex-start"},children:[(0,f.jsx)(l.A,{variant:"h5",fontWeight:"bold",mb:2,sx:{color:"#8E9091"},children:"Documents"}),(0,f.jsx)(O,{}),(0,f.jsx)(k,{})]});var V=i(3329),Y=i(56276),H=i(51688);const _=s.memo((e=>{let{logoSrc:t,universityName:i,courseName:o,countryName:a,children:s,actions:r}=e;return(0,f.jsxs)(n.A,{sx:{position:"relative",borderRadius:"16px",background:"#fff",border:"1px solid #E6E6E6",boxShadow:"0 2px 8px rgba(0,0,0,0.04)",p:2.5,minHeight:180,display:"flex",flexDirection:"column",justifyContent:"space-between",transition:"box-shadow 200ms ease, transform 200ms ease","&:hover":{boxShadow:"0 8px 24px rgba(0,0,0,0.08)",transform:"translateY(-2px)"}},children:[(0,f.jsx)(l.A,{sx:{position:"absolute",top:-14,right:20,fontSize:"0.8rem",color:"#3B3F76",fontWeight:600,backgroundColor:"#EAF2FF",border:"1px solid #D7E4FF",borderRadius:"14px",px:1.25,py:.4},children:a}),(0,f.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",gap:1.25,mt:2.5},children:[(0,f.jsx)("img",{src:t,alt:"logo",style:{width:"2.4rem",height:"2.4rem",borderRadius:"8px"}}),(0,f.jsxs)(n.A,{children:[(0,f.jsx)(l.A,{sx:{fontWeight:700,fontSize:"1rem",color:"#1F2937"},children:i}),(0,f.jsx)(l.A,{sx:{fontSize:"0.92rem",color:"#6B7280"},children:o})]})]}),(0,f.jsx)(n.A,{sx:{display:"flex",alignItems:"center",mt:1.25,mb:1.25},children:s}),(0,f.jsx)(n.A,{sx:{display:"flex",justifyContent:"flex-end",gap:2},children:r})]})})),U=()=>{var e,t;const i=(0,a.Zp)(),o=(0,r.GV)((e=>e.shortlistedcourses)),[d,c]=(0,s.useState)(!1),[u,x]=(0,s.useState)(""),m=(0,r.GV)((e=>e.userAuthStatus)),h=(0,r.jL)();return(0,f.jsxs)("div",{children:[(0,f.jsx)(j.Ay,{container:!0,spacing:3,sx:{overflowY:"scroll"},children:o.data&&(null===o||void 0===o||null===(e=o.data)||void 0===e?void 0:e.length)>0?(0,f.jsx)(f.Fragment,{children:null===(t=o.data)||void 0===t?void 0:t.map(((e,t)=>{var i;return(0,f.jsx)(j.Ay,{item:!0,xs:12,sm:6,lg:5,sx:{paddingLeft:{xs:0,md:"1rem"}},children:(0,f.jsx)(_,{logoSrc:e.university.logoSrc,universityName:e.university.name,courseName:e.name,countryName:e.university.location.country,actions:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(n.A,{sx:{border:"1px solid #1C1F40",borderRadius:"50%",width:"2rem",height:"2rem",display:"flex",justifyContent:"center",alignItems:"center"},onClick:()=>(async e=>{if("cart"===e.name)try{var t,i;null!==m&&void 0!==m&&null!==(t=m.data)&&void 0!==t&&t.isAuthorized&&null!==m&&void 0!==m&&null!==(i=m.data)&&void 0!==i&&i.isRegistered?h((0,C.DE)({show:!0,data:{container:{name:"applynow",data:e.data,dimensions:{width:"450px"}},type:"custom"}})):h((0,C.DE)({show:!0,data:{container:{name:"login",dimensions:{width:"800px",height:"70%",show:"none"}},type:"custom"}}))}catch(n){}})({name:"cart",data:e}),children:(0,f.jsx)(H.A,{sx:{fontSize:"1.25rem",color:"#1C1F40"}})}),(0,f.jsx)(n.A,{component:"img",src:b.A.deleteIcon,alt:"icon",sx:{width:"2rem",height:"2rem"},onClick:()=>{return t=e._id,c(!0),void x(t);var t}})]}),children:(0,f.jsxs)(l.A,{component:"span",fontSize:"0.8rem",fontWeight:"500",sx:{display:"flex",alignItems:"center",whiteSpace:"nowrap",mt:1,color:"#5C6163"},children:[(0,f.jsx)(Y.A,{sx:{fontSize:"1.25rem"}}),"\xa0 Start date :",null===e||void 0===e||null===(i=e.startDate)||void 0===i?void 0:i.map(((e,t)=>R.dF[null===e||void 0===e?void 0:e.courseStartingMonth])).join(", ")]})})},t)}))}):(0,f.jsxs)(j.Ay,{item:!0,xs:12,sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"60vh",minHeight:"350px"},children:[(0,f.jsx)("img",{src:b.A.Confused,alt:"noData",style:{width:"220px",height:"220px",marginBottom:"1.5rem"}}),(0,f.jsx)(l.A,{sx:{mb:1,fontSize:"1.6rem",fontWeight:600,color:"#495052",textAlign:"center"},children:"No Favourites Yet"}),(0,f.jsx)(l.A,{sx:{mb:3,fontSize:"1rem",color:"#8E9091",textAlign:"center"},children:"Discover programs and save the ones that exite you!"}),(0,f.jsx)(G.A,{sx:{background:"#F48438",color:"#fff",borderRadius:"20px",px:4,py:1,fontWeight:500,fontSize:"1rem",textTransform:"none",boxShadow:"none","&:hover":{background:"#F48438"}},onClick:()=>{const e="activeTab=".concat(encodeURIComponent(JSON.stringify("courses")),"&FilterData=").concat(encodeURIComponent(JSON.stringify([])),"&page=").concat(JSON.stringify(1),"&search=").concat(encodeURIComponent(JSON.stringify(""))),t=window.btoa(e);i("/explore?".concat(t))},children:"Add products"})]})}),(0,f.jsx)(z.A,{open:d,handleClose:()=>c(!1),additionalData:{onSubmit:async()=>{const e={action:"pull",courseId:u},t=await(0,I.ZK)(e);t.data.success&&h((0,V.u$)(t.data.data)),c(!1)},title:"Are you sure you want to delete this from your shortlist?",content:"You're just a few steps away from applying to universities."}})]})},K=()=>(0,f.jsx)(n.A,{sx:{p:2},children:(0,f.jsx)(U,{})});var J=i(60587),Z=i(77739),Q=i(74354),$=i(79186),X=i(98348);const ee=()=>{var e,t;const i=(0,r.GV)((e=>e.meetings)),o=(0,r.jL)(),[d,c]=s.useState(!1),[u,x]=(0,s.useState)(),m=((0,a.Zp)(),e=>{window.open(e,"_blank")}),h=e=>{c(!0),x(e)},p=null===(e=i.data)||void 0===e?void 0:e.filter((e=>{var t;const i=new Date(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.start.dateTime),n=new Date;return"upcoming"===e.status&&i>n})),v=null===(t=i.data)||void 0===t?void 0:t.filter((e=>{var t;const i=new Date(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.start.dateTime),n=new Date;return"rescheduled"===e.status&&i>n})),g=(null===p||void 0===p?void 0:p.length)>0||(null===v||void 0===v?void 0:v.length)>0;return(0,f.jsxs)("div",{children:[(0,f.jsx)(j.Ay,{container:!0,spacing:2,sx:{mt:1,p:1,height:{xs:"150px",md:"150px",lg:"170px"},overflowY:"auto"},children:g?(0,f.jsxs)(f.Fragment,{children:[null===p||void 0===p?void 0:p.map(((e,t)=>{var i,a,s,r,d;console.log("data",e);const c=new Date(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.start.dateTime),u=new Date(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.end.dateTime),x=new Date,p=x>=c&&x<=u;return(0,f.jsx)(j.Ay,{item:!0,xs:12,sx:{mb:{xs:2,md:3},display:"flex",background:"#F8F8FC",borderRadius:"10px",height:"100px",position:"relative",alignItems:"center",px:{xs:1,md:2},py:{xs:2,md:0}},children:(0,f.jsxs)(j.Ay,{container:!0,spacing:2,alignItems:"center",children:[(0,f.jsx)(j.Ay,{item:!0,xs:12,md:4,children:(0,f.jsxs)(n.A,{sx:{display:"flex",flexDirection:"column",gap:{xs:.5,md:1,lg:.5},mb:{xs:2,md:0,lg:5}},children:[(0,f.jsx)(l.A,{fontWeight:"500",sx:{fontSize:{xs:"12px",md:"14px"},color:"#8E9091"},children:null===e||void 0===e||null===(s=e.member)||void 0===s?void 0:s.role}),(0,f.jsx)(l.A,{sx:{color:"#495052",fontWeight:500,fontSize:{xs:"12px",md:"14px"}},children:(0,Q.r0)(null===e||void 0===e||null===(r=e.data)||void 0===r?void 0:r.description)}),(0,f.jsx)(l.A,{fontSize:{xs:"9px",md:"10px"},sx:{color:"#8E9091"},children:new Date(null===e||void 0===e||null===(d=e.data)||void 0===d?void 0:d.start.dateTime).toLocaleString("en-GB",{month:"long",year:"numeric",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0})})]})}),(0,f.jsx)(j.Ay,{item:!0,xs:12,md:8,sx:{position:"relative"},children:(0,f.jsxs)(n.A,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},alignItems:{xs:"flex-start",md:"center",lg:"center"},gap:0,position:{xs:"relative",md:"absolute"},right:{xs:0,md:0},top:{xs:"auto",md:"50%"},transform:{xs:"none",md:"translateY(-50%)"},width:{xs:"100%",md:"auto"}},children:[(0,f.jsx)(n.A,{sx:{display:"flex",flexDirection:"column",alignItems:{xs:"flex-start",md:"center"},gap:1,width:{xs:"100%",md:"auto"}},children:(0,f.jsx)(G.A,{onClick:()=>m(null===e||void 0===e?void 0:e.data.hangoutLink),disabled:!p,sx:{background:"#70A6B2",textTransform:"none",color:"#FFFFFF !important",fontSize:{xs:"10px",md:"11px"},p:1,height:{xs:"25px",md:"30px"},borderRadius:"25px",width:{xs:"50%",md:"auto",lg:"auto"},mb:{xs:3,md:0,lg:.5}},children:"Join now"})}),(0,f.jsxs)(l.A,{sx:{background:"#ffff",p:1,borderRadius:"25px",border:"2px solid #70A6B2",fontSize:{xs:"10px",md:"10px",lg:"10px"},color:"#3B3F76",width:"fit-content",fontWeight:"bold",display:"flex",alignItems:"center",position:{xs:"relative",md:"absolute",lg:"absolute"},bottom:{xs:"auto",md:"-5px",lg:"1px"},right:{xs:"-100px",md:"70px",lg:"70px"}},children:[(0,f.jsx)("span",{onClick:()=>o((0,C.DE)({show:!0,data:{container:{name:"reschedule",data:e,dimensions:{width:"800px"}},type:"custom"}})),style:{cursor:"pointer",color:"#495052"},children:"Reschedule"}),(0,f.jsx)("span",{style:{color:"#3B3F76"},children:"|"}),(0,f.jsx)("span",{onClick:()=>h(null===e||void 0===e?void 0:e._id),style:{cursor:"pointer",color:"#495052"},children:"Cancel"})]})]})})]})},t)})),null===v||void 0===v?void 0:v.map(((e,t)=>{var i,a,s,r,d,c,u,x;const p=new Date(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.start.dateTime),v=new Date(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.end.dateTime),g=new Date,A=g>=p&&g<=v;return(0,f.jsx)(j.Ay,{item:!0,xs:12,sx:{display:"flex",position:"relative",background:"#F8F8FC",my:1,borderRadius:"10px",height:"100px"},children:(0,f.jsxs)(j.Ay,{container:!0,spacing:2,children:[(0,f.jsxs)(j.Ay,{item:!0,xs:4,sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,f.jsxs)(n.A,{sx:{position:"absolute",top:"-15px",display:"flex",gap:"1rem",left:0},children:[(0,f.jsx)(J.A,{src:null===e||void 0===e?void 0:e.member.displayPicSrc,alt:"logo",style:{width:"2rem",height:"2rem",borderRadius:"50%",marginLeft:"0.8rem"}}),(0,f.jsx)(l.A,{fontWeight:"500",sx:{background:"#fff",p:1,borderRadius:"10px",fontSize:"14px",color:"#3B3F76"},children:null!==e&&void 0!==e&&null!==(s=e.member)&&void 0!==s&&s.role?(0,Q.Tl)(null===e||void 0===e||null===(r=e.member)||void 0===r?void 0:r.role):(0,Q.Tl)(null===e||void 0===e||null===(d=e.member)||void 0===d?void 0:d.role)})]}),(0,f.jsx)(l.A,{sx:{mt:-2},children:(0,Q.r0)(null===e||void 0===e?void 0:e.member.firstName)})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:8,sx:{mt:1,position:"relative"},children:[(0,f.jsx)(G.A,{onClick:()=>m(null===e||void 0===e?void 0:e.data.hangoutLink),disabled:!A,sx:{border:"1px solid #027A48",textTransform:"none",color:"#000",fontSize:"11px",p:0,position:"absolute",top:"0",right:"10px"},children:"Join now"}),(0,f.jsxs)(n.A,{sx:{display:"flex",mt:2},children:[(0,f.jsx)(l.A,{fontSize:"14px",gutterBottom:!0,sx:{mb:1},children:new Date(null===e||void 0===e||null===(c=e.data)||void 0===c?void 0:c.start.dateTime).toLocaleString("en-GB",{month:"long",year:"numeric",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0})}),(0,f.jsx)(Z.A,{slotProps:{tooltip:{sx:{color:"#514E6A",backgroundColor:"#ffff",boxShadow:2,cursor:"pointer"}}},title:null!==e&&void 0!==e&&null!==(u=e.data)&&void 0!==u&&u.description?null===e||void 0===e||null===(x=e.data)||void 0===x?void 0:x.description:"N/A",placement:"top-start",children:(0,f.jsx)(X.A,{sx:{color:"#3B3F76",ml:1,cursor:"pointer",fontSize:"1rem",float:"right"}})})]}),(0,f.jsxs)(l.A,{fontWeight:"500",sx:{background:"#fff",p:.5,borderRadius:"10px",fontSize:"14px",color:"#3B3F76",width:"fit-content",position:"absolute",bottom:"15px",right:"10px"},children:[(0,f.jsx)("span",{onClick:()=>o((0,C.DE)({show:!0,data:{container:{name:"reschedule",data:e,dimensions:{width:"800px"}},type:"custom"}})),style:{cursor:"pointer"},children:"Reschedule"})," ","/",(0,f.jsx)("span",{onClick:()=>h(null===e||void 0===e?void 0:e._id),style:{cursor:"pointer"},children:"Cancel"})]})]})]})},t)}))]}):(0,f.jsxs)(j.Ay,{item:!0,xs:12,sx:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",height:"80px"},children:[(0,f.jsx)(l.A,{color:"#3B3F76",fontSize:"1.2rem",fontWeight:"500",sx:{color:"#F87171",fontWeight:"bold"},children:"No Meetings"}),(0,f.jsx)("img",{src:b.A.Calender,alt:"noData",style:{width:"200px",marginTop:"0.5rem"}}),(0,f.jsx)(l.A,{color:"black",fontSize:"1rem",fontWeight:"500",children:"No Meetings found"})]})}),(0,f.jsx)(z.A,{open:d,handleClose:()=>c(!1),additionalData:{onSubmit:async e=>{try{const e=await(0,I.Em)({meetingId:u,option:"cancelEvent"});e&&(o((0,$.kM)(e.data)),o((0,C.DE)({show:!0,data:{container:{name:"success",data:e.data.message,dimensions:{width:"30%",height:"40%",show:"none"}},type:"custom"}})))}catch(t){console.error("Error cancelling the event:",t)}c(!1)},title:"Are you sure you want to cancel this meeting?",content:""}})]})},te=()=>(0,f.jsxs)(n.A,{sx:{background:"#F4F4FF",borderRadius:"16px",boxShadow:0,p:0,height:"100%",width:"100%",display:"flex",flexDirection:"column"},children:[(0,f.jsx)(l.A,{fontWeight:600,fontSize:"1.1rem",color:"#3B3F76",mb:.5,children:"Upcoming Meetings"}),(0,f.jsx)(n.A,{sx:{flex:1,overflowY:"auto"},children:(0,f.jsx)(ee,{})})]});var ie=i(47030),ne=i(40089);i(44050);const oe=()=>{var e,t,i,o,s,d,c,u,x,m,h,p;const v=(0,a.Zp)(),g=(0,r.GV)((e=>e.shortlistedcourses)),A=(0,r.GV)((e=>e.applications)),y=(0,r.GV)((e=>e.recommendations)),S=(null===y||void 0===y?void 0:y.data)&&(null===y||void 0===y||null===(e=y.data)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.filter((e=>"Ambitious"===(null===e||void 0===e?void 0:e.possibilityOfAdmit)))),C=(null===y||void 0===y?void 0:y.data)&&(null===y||void 0===y||null===(i=y.data)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.filter((e=>"Safe"===(null===e||void 0===e?void 0:e.possibilityOfAdmit)))),w=(null===y||void 0===y?void 0:y.data)&&(null===y||void 0===y||null===(s=y.data)||void 0===s||null===(d=s.data)||void 0===d?void 0:d.filter((e=>"Moderate"===(null===e||void 0===e?void 0:e.possibilityOfAdmit)))),D=[{title:"Activity",items:[{count:"".concat(null===(c=g.data)||void 0===c?void 0:c.length),background:"#FFF7E9",link:"/profile/shortlisted",label:"Wishlisted Courses",icon:(0,f.jsx)("img",{src:b.A.BookDashboard,alt:"safe",style:{width:"1.2rem"}})},{count:"".concat(null===(u=A.data)||void 0===u?void 0:u.length),background:"#FFA89C4D",link:"/profile/applications",label:"Applied Universities",icon:(0,f.jsx)("img",{src:b.A.UniDashboard,alt:"safe",style:{width:"1.2rem"}})}]},{title:"Recommendation",items:[{count:"".concat(null===C||void 0===C?void 0:C.length),link:"/profile/recommendedCourses/Safe",background:"#FFA89C4D",label:"Safe",icon:(0,f.jsx)("img",{src:b.A.SafeDashboard,alt:"safe",style:{width:"1.2rem"}})},{count:"".concat(null===w||void 0===w?void 0:w.length),link:"/profile/recommendedCourses/Moderate",background:"#C9F9F6",label:"Moderate",icon:(0,f.jsx)("img",{src:b.A.ModerateDashboard,alt:"safe",style:{width:"1.2rem"}})},{count:"".concat(null===S||void 0===S?void 0:S.length),link:"/profile/recommendedCourses/Ambitious",background:"#F4F4FF",label:"Ambitious",icon:(0,f.jsx)("img",{src:b.A.AmbitiousDashboard,alt:"ambitious",style:{width:"1.2rem"}})}]}];return(0,f.jsx)("div",{children:(0,f.jsxs)(n.A,{className:"card-page-container",sx:{borderRadius:"10px",height:"100%"},children:[(0,f.jsxs)(n.A,{className:"card-page-activity-section",sx:{mb:2},children:[(0,f.jsx)(l.A,{fontWeight:600,fontSize:"1.1rem",mb:1,color:"#3b3f76",children:"Activity"}),(0,f.jsx)(j.Ay,{container:!0,spacing:2,justifyContent:"flex-start",className:"card-page-activity-grid",children:D[0].items.map(((e,t)=>(0,f.jsx)(j.Ay,{item:!0,xs:12,sm:6,md:6,children:(0,f.jsxs)(n.A,{className:"card-page-activity-card",onClick:()=>v(e.link),children:[(0,f.jsx)(n.A,{className:"card-page-count",children:e.count}),(0,f.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.icon,(0,f.jsx)(l.A,{color:"#3b3f76",children:e.label})]})]})},t)))})]}),(0,f.jsxs)(n.A,{className:"card-page-recommendations-section",children:[(0,f.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1},children:[(0,f.jsx)(l.A,{fontWeight:600,fontSize:"1.1rem",color:"#3b3f76",children:"Recommendations"}),y.data&&(null===(x=y.data)||void 0===x||null===(m=x.data)||void 0===m?void 0:m.length)>0?(0,f.jsx)(G.A,{variant:"text",sx:{color:"#F87171",fontWeight:600,textTransform:"none",fontSize:"1rem"},onClick:()=>v("/profile/recommendedCourses/Safe"),children:"Show Recommendations"}):(0,f.jsx)(G.A,{variant:"text",sx:{color:"#F87171",fontWeight:600,textTransform:"none",fontSize:"1rem"},onClick:()=>v("/profile/recommendedCourses/generate"),children:"Generate Recommendations"})]}),y.data&&(null===(h=y.data)||void 0===h||null===(p=h.data)||void 0===p?void 0:p.length)>0?(0,f.jsx)(j.Ay,{container:!0,spacing:2,justifyContent:"flex-start",className:"card-page-recommendations-grid",children:D[1].items.map(((e,t)=>(0,f.jsx)(j.Ay,{item:!0,xs:12,sm:4,children:(0,f.jsxs)(n.A,{className:"card-page-recommendation-card",onClick:()=>v(e.link),children:[(0,f.jsx)(n.A,{className:"card-page-recommendation-count",children:e.count}),(0,f.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",gap:1,mt:1},children:[e.icon,(0,f.jsx)(l.A,{fontWeight:500,color:"#3b3f76",children:e.label})]})]})},t)))}):(0,f.jsxs)(n.A,{className:"card-page-no-recommendations",children:[(0,f.jsxs)(n.A,{children:[(0,f.jsxs)(l.A,{color:"#3B3F76",fontWeight:600,fontSize:"1.2rem",children:["Oh ",(0,f.jsx)("span",{style:{color:"#F87171"},children:"nooo!"})]}),(0,f.jsx)(l.A,{sx:{mt:1,mb:2},children:"Recommendations not generated yet!"})]}),(0,f.jsx)(n.A,{children:(0,f.jsx)("img",{src:b.A.noRecommend,alt:"No Recommendations",style:{width:120,height:120}})})]})]})]})})},ae=()=>{var e;const[t,i]=(0,s.useState)(!1),o=(0,s.useRef)(null),a=(0,r.jL)(),d=(0,r.GV)((e=>e.applications)),c=()=>{var e;null===o||void 0===o||null===(e=o.current)||void 0===e||e.click()},u=null===d||void 0===d||null===(e=d.data)||void 0===e?void 0:e.filter((e=>{var t;return null===e||void 0===e||null===(t=e.docChecklist)||void 0===t?void 0:t.some((e=>!(null!==e&&void 0!==e&&e.isChecked)))})).map((e=>{var t;return{...e,docChecklist:null===e||void 0===e||null===(t=e.docChecklist)||void 0===t?void 0:t.filter((e=>!(null!==e&&void 0!==e&&e.isChecked)))}}));return(0,f.jsxs)(n.A,{sx:{height:"100%",width:"100%",display:"flex",flexDirection:"column"},children:[(0,f.jsx)(l.A,{color:"#3b3f76",fontWeight:"500",fontSize:"1.1rem",mb:1,children:"Pending Task"}),(0,f.jsx)(n.A,{sx:{flex:1,background:"#F4F4FF",overflowY:"auto",borderRadius:"10px",display:"flex",flexDirection:"column"},children:(null===u||void 0===u?void 0:u.length)>0?null===u||void 0===u?void 0:u.map((e=>{var s;return null===e||void 0===e||null===(s=e.docChecklist)||void 0===s?void 0:s.map((s=>{var r,d,u,x,m;return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)(j.Ay,{container:!0,sx:{px:2,py:1,borderRadius:"10px",cursor:"pointer",margin:"10px",width:"auto",background:"transparent",borderBottom:"3px solid #fff"},children:[(0,f.jsx)(j.Ay,{item:!0,xs:12,onClick:()=>a((0,C.DE)({show:!0,data:{container:{name:"applicationPopup",data:e._id,dimensions:{width:"800px"}},type:"custom"}})),children:(0,f.jsxs)(l.A,{fontSize:"14px",display:"flex",alignItems:"center",children:[(0,f.jsx)("img",{src:null===e||void 0===e||null===(r=e.course)||void 0===r||null===(d=r.university)||void 0===d?void 0:d.logoSrc,alt:"logo",style:{width:"2rem",height:"2rem",marginRight:"10px",borderRadius:"50%"}}),null===e||void 0===e||null===(u=e.course)||void 0===u?void 0:u.name]})}),(0,f.jsx)(j.Ay,{item:!0,xs:6,children:(0,f.jsx)(l.A,{fontWeight:"500",fontSize:"14px",children:(0,Q.r0)(s.name)})}),(0,f.jsxs)(j.Ay,{item:!0,xs:6,sx:{display:"flex",height:"20px",justifyContent:"space-between"},children:[null!==s&&void 0!==s&&s.doc?(0,f.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,f.jsx)(S.A,{sx:{fontSize:"large"},onClick:()=>{var e,t;a((0,C.DE)({show:!0,data:{container:{name:"fileViewer",data:null===s||void 0===s||null===(e=s.doc)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.preview_url,dimensions:{width:"500px"}},type:"custom"}}))}}),(0,f.jsx)("h4",{style:{color:"#000",display:"flex",alignItems:"center",fontSize:"12px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontWeight:400,marginLeft:"5px"},children:null===s||void 0===s||null===(x=s.doc)||void 0===x||null===(m=x.data)||void 0===m?void 0:m.FileName})]}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("input",{style:{display:"none"},type:"file",className:"",name:"image",onChange:t=>(async(e,t,n)=>{const o=e.target.files&&e.target.files[0];try{if(null!==o&&void 0!==o){const e=new FormData;e.append("uploaded_file",o||null),e.append("applicationId",t._id),e.append("checklistItemId",n._id);const l=await(0,I.Jg)(e);l&&(a((0,T.FT)(l.data.data.docs)),a((0,ne.K3)(l.data.data)),i(!1))}else i(!1)}catch(l){i(!1)}})(t,e,s),ref:o,accept:".pdf"}),(0,f.jsx)(G.A,{sx:{color:"#000",textTransform:"none",p:.25,fontSize:"0.7rem",ml:1},onClick:c,children:t?(0,f.jsx)(n.A,{component:"img",src:b.A.standardLoader,alt:"standardLoader",sx:{width:"1rem",height:"1rem"}}):(0,f.jsx)(L.A,{})})]}),(0,f.jsxs)(l.A,{sx:{fontSize:"11px",margin:"2px 2px 0 0",position:"relative",cursor:"pointer","&:hover .cancel-icon":{display:"block !important"}},children:[(0,f.jsx)(ie.A,{sx:{color:"#FF751A",fontSize:"1rem"}}),(null===s||void 0===s?void 0:s.desc)&&(0,f.jsx)("span",{className:"cancel-icon",style:{display:"none",color:"#000",position:"absolute",padding:"2px",maxWidth:"200px",zIndex:1,textAlign:"center",right:0,border:"1px solid #000",borderRadius:"5px"},children:s.desc})]})]})]},e._id)})}))})):(0,f.jsxs)(n.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"80%"},children:[(0,f.jsx)(l.A,{sx:{fontSize:20,color:"#F87171",fontWeight:"bold"},children:" Pending Task?"}),(0,f.jsx)(l.A,{sx:{display:"flex",width:"330px"},children:"The checklist has yet to be added by the student counsellor"})]})})]})},le=()=>{const e=(0,r.GV)((e=>e.advisor)),t=(0,r.jL)(),i=null!==e&&void 0!==e&&e.data&&Array.isArray(null===e||void 0===e?void 0:e.data)?e.data.map(((e,t)=>({date:"Tomorrow",day:"16, April",name:"Event name",organizer:"Organizer name",time:"9am - 10am",id:t}))):[];return(0,f.jsxs)(n.A,{sx:{borderRadius:"16px",background:"#fff",p:2,boxShadow:1,height:"100%",width:"100%",display:"flex",flexDirection:"column"},children:[(0,f.jsx)(l.A,{fontWeight:600,fontSize:"1.2rem",color:"#3B3F76",mb:2,children:"Upcoming Events"}),(0,f.jsx)(y.A,{spacing:2,sx:{flex:1,overflowY:"auto",pr:1},children:i.length<0?i.map((e=>(0,f.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",background:"#fff",borderRadius:"12px",boxShadow:0,p:2,border:"1px solid #E6E6E6",minHeight:60,gap:2},children:[(0,f.jsxs)(n.A,{sx:{minWidth:80,textAlign:"left"},children:[(0,f.jsx)(l.A,{fontWeight:600,color:"#3B3F76",fontSize:"1rem",children:e.date}),(0,f.jsx)(l.A,{color:"#A6A6A6",fontSize:"0.95rem",children:e.day})]}),(0,f.jsxs)(n.A,{sx:{flex:1,pl:2},children:[(0,f.jsx)(l.A,{fontWeight:600,color:"#3B3F76",fontSize:"1rem",children:e.name}),(0,f.jsxs)(l.A,{color:"#A6A6A6",fontSize:"0.95rem",children:["Organized by : ",e.organizer]}),(0,f.jsx)(n.A,{sx:{mt:1},children:(0,f.jsx)(l.A,{sx:{display:"inline-block",background:"#E0F7FA",color:"#0097A7",borderRadius:"8px",px:1.5,py:.5,fontSize:"0.9rem",fontWeight:600},children:e.time})})]}),(0,f.jsx)(G.A,{variant:"outlined",sx:{height:"30px",width:"60px",borderRadius:"25px",borderColor:"#F2994A",color:"#F2994A",fontWeight:300,px:3,py:1,textTransform:"none",fontSize:"1rem",boxShadow:0,"&:hover":{borderColor:"#F2994A",background:"#FFF7E6"}},onClick:()=>t((0,C.DE)({show:!0,data:{container:{name:"event",data:e,dimensions:{width:"600px",height:"60%"}},type:"custom"}})),children:"Book Now"})]},e.id))):(0,f.jsx)(n.A,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,f.jsxs)(l.A,{color:"#3B3F76",fontWeight:500,fontSize:"1rem",style:{alignItems:"center"},children:["No ",(0,f.jsx)("span",{style:{color:"#F87171"},children:"Upcoming"})," Events right now."]})})})]})},se=()=>{var e,t;const i=(0,r.GV)((e=>e.advisor)),o=(0,r.jL)();return(0,f.jsxs)(n.A,{sx:{borderRadius:"20px",background:"#F4F4FF",p:2.5,boxShadow:0,height:"100%",width:"100%",display:"flex",flexDirection:"column"},children:[(0,f.jsx)(l.A,{fontWeight:600,fontSize:"1.25rem",color:"#3B3F76",mb:2,children:"Advisors"}),(0,f.jsx)(y.A,{spacing:2.2,sx:{flex:1,overflowY:"auto",pr:.5},children:null!==i&&void 0!==i&&i.data&&Array.isArray(null===i||void 0===i?void 0:i.data)&&(null===i||void 0===i||null===(e=i.data)||void 0===e?void 0:e.length)>0?null===i||void 0===i||null===(t=i.data)||void 0===t?void 0:t.map(((e,t)=>{var i,a,s;return(0,f.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",background:"#fff",borderRadius:"16px",p:2,boxShadow:"0px 2px 8px 0px #E0E0F6",cursor:"pointer",minHeight:80},onClick:()=>o((0,C.DE)({show:!0,data:{container:{name:"advisor",data:e,dimensions:{width:"1200px",height:"85%"}},type:"custom"}})),children:[(0,f.jsx)(J.A,{src:null===e||void 0===e||null===(i=e.info)||void 0===i?void 0:i.displayPicSrc,alt:"pic",sx:{width:28,height:28,mr:2,boxShadow:"0 1px 4px #E0E0F6"}}),(0,f.jsxs)(n.A,{children:[(0,f.jsx)(l.A,{fontWeight:700,color:"#3B3F76",fontSize:"1.05rem",lineHeight:1.3,children:(0,Q.AZ)(null===e||void 0===e||null===(a=e.info)||void 0===a?void 0:a.firstName)}),(0,f.jsx)(l.A,{color:"#3B3F76",fontSize:"0.85rem",fontWeight:400,lineHeight:1.3,children:(0,Q.Tl)(null===e||void 0===e||null===(s=e.info)||void 0===s?void 0:s.role)}),(0,f.jsx)(n.A,{sx:{display:"inline-block",mt:1,px:1.5,py:.3,borderRadius:"12px",background:"#E6E6FA"},children:(0,f.jsx)(l.A,{fontSize:"0.65rem",color:"#3B3F76",fontWeight:600,children:"6+ Years experience"})})]})]},e._id)})):(0,f.jsx)(l.A,{color:"#3B3F76",fontWeight:500,fontSize:"1rem",children:"Advisors not assigned"})})]})},re=[{title:"Exclusive Scholarships",subtitle:"Limited-Time Scholarship Finder",description:"Explore scholarships tailored to your profile, limited-time access available now!",button:"Unlock now",image:b.A.MoneyBag,bg:"#B7A9F9"},{title:"Free SOP review",subtitle:"Get expert feedback on your SOP.",description:"Improve its clarity, structure, and overall impact before you submit.",button:"Improve my sop",image:b.A.SopDashboard,bg:"#6DB1B3"},{title:"Free test prep access",subtitle:"Test smarter-practice for free.",description:"practice with mock tests, tips, and guides to ace your exams.",button:"Try for free",image:b.A.TestDashboard,bg:"#EE6F57 "},{title:"Profile review",subtitle:"Get a free expert review.",description:"Boost your chances of admission with a free expert.",button:"Get free review",image:b.A.ProfileDashboard,bg:"#F2A05E"}],de=()=>{const[e,t]=(0,s.useState)(0);(0,s.useEffect)((()=>{const e=setTimeout((()=>{t((e=>(e+1)%re.length))}),2e3);return()=>clearTimeout(e)}),[e]);const i=re[e];return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(d.A,{sx:{background:i.bg,borderRadius:{xs:"16px",sm:"24px",md:"32px"},mt:{xs:2,sm:3,md:4},p:{xs:2,sm:3,md:4},color:"#fff",display:"flex",alignItems:"flex-start",minHeight:{xs:140,sm:150,md:160},boxShadow:0,position:"relative",overflow:"visible"},children:[(0,f.jsxs)(n.A,{sx:{flex:1,pr:{xs:1,sm:1.5,md:2}},children:[(0,f.jsx)(l.A,{fontWeight:500,fontSize:{xs:"0.95rem",sm:"1rem",md:"1.1rem"},mb:1,sx:{color:"#fff",textAlign:"left"},children:i.title}),(0,f.jsx)(l.A,{fontWeight:300,fontSize:{xs:"0.85rem",sm:"0.9rem",md:"1.0rem"},mb:1,sx:{color:"#fff",textAlign:"left"},children:i.subtitle}),(0,f.jsx)(l.A,{fontSize:{xs:"0.7rem",sm:"0.75rem",md:"0.8rem"},mb:2,sx:{color:"#fff",textAlign:"left"},children:i.description}),(0,f.jsx)(G.A,{variant:"contained",sx:{background:"#fff",color:"#222",borderRadius:"24px",fontWeight:700,px:{xs:2,sm:2.5,md:3},py:{xs:.75,sm:.875,md:1},textTransform:"none",boxShadow:"0 2px 8px 0 rgba(0,0,0,0.10)",minWidth:{xs:100,sm:110,md:120},fontSize:{xs:"0.75rem",sm:"0.8rem",md:"0.875rem"},"&:hover":{background:"#f5f5f5",color:"#222"}},children:i.button})]}),(0,f.jsx)(n.A,{sx:{position:"absolute",right:{xs:16,sm:24,md:32},bottom:0,display:{xs:"none",sm:"block"},"& img":{width:"100%",maxWidth:{xs:"100px",sm:"110px",md:"120px"},height:"auto",borderRadius:0}},children:(0,f.jsx)("img",{src:i.image,alt:i.title})})]}),(0,f.jsx)(n.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",mt:1,mb:2},children:re.map(((t,i)=>(0,f.jsx)(n.A,{sx:{width:10,height:10,borderRadius:"50%",background:i===e?"#A993FF":"#F2EFFF",mx:.5}},i)))})]})},ce=()=>(0,f.jsxs)(n.A,{className:"dashboard-container",children:[(0,f.jsxs)(j.Ay,{container:!0,spacing:{xs:1,sm:1.5,md:1.5},className:"dashboard-top-grid",children:[(0,f.jsx)(j.Ay,{item:!0,xs:12,sm:12,md:7,lg:7,children:(0,f.jsx)(oe,{})}),(0,f.jsx)(j.Ay,{item:!0,xs:12,sm:12,md:5,lg:5,children:(0,f.jsx)(de,{})})]}),(0,f.jsxs)(j.Ay,{container:!0,spacing:{xs:1,sm:1.5,md:1.5},mt:{xs:1.5,sm:2,md:2},className:"dashboard-bottom-grid",sx:{width:"100%",margin:0},children:[(0,f.jsx)(j.Ay,{item:!0,xs:12,sm:12,md:3,lg:3,className:"dashboard-column",sx:{display:"flex",height:{xs:"auto",md:"100%"},padding:0,mb:{xs:1.5,md:0}},children:(0,f.jsx)(se,{})}),(0,f.jsx)(j.Ay,{item:!0,xs:12,sm:12,md:4,lg:4,className:"dashboard-column",sx:{display:"flex",height:{xs:"auto",md:"100%"},padding:0,mb:{xs:1.5,md:0}},children:(0,f.jsx)(te,{})}),(0,f.jsx)(j.Ay,{item:!0,xs:12,sm:12,md:5,lg:5,className:"dashboard-column",sx:{display:"flex",height:{xs:"auto",md:"100%"},padding:0},children:(0,f.jsxs)(n.A,{sx:{flex:1,display:"flex",flexDirection:"column",gap:1.5,minHeight:0,height:"100%",overflow:"hidden"},children:[(0,f.jsx)(n.A,{sx:{flex:1,display:"flex",flexDirection:"column",minHeight:0,overflow:"hidden"},children:(0,f.jsx)(ae,{})}),(0,f.jsx)(n.A,{sx:{flex:1,display:"flex",flexDirection:"column",minHeight:0,overflow:"hidden"},children:(0,f.jsx)(le,{})})]})})]})]});var ue=i(79190),xe=i(72221),me=i(32143),he=i(67784),pe=i(81637),ve=i(53193),ge=i(84714),fe=i(74605),Ae=i(14256),je=i(90469),ye=i(51787),be=i(13892),Se=i(12328),Ce=i(87110),we=i(12789),De=i(24910),Ee=i(62585),ke=i(84311),We=i(33438),Ne=i(69320),Ie=i(80899),Te=i(66360);const Fe=e=>{let{label:t,name:i,options:n,value:o,onChange:a,placeholder:r="Select ",searchEnabled:d=!0}=e;const[c,u]=(0,s.useState)(""),x=(0,s.useMemo)((()=>n.filter((e=>e.toLowerCase().includes(c.toLowerCase())))),[n,c]);return(0,f.jsx)(ve.A,{fullWidth:!0,children:(0,f.jsxs)(xe.A,{labelId:"".concat(i,"-label"),size:"small",id:i,name:i,displayEmpty:!0,onClose:()=>u(""),value:o,onChange:a,fullWidth:!0,IconComponent:v.A,renderValue:e=>e||(0,f.jsx)(l.A,{sx:{color:"#757575",fontSize:"14px"},children:r}),MenuProps:{PaperProps:{sx:{maxHeight:300,maxWidth:300,"&.MuiPaper-root":{boxShadow:3,borderRadius:"15px !important"}}},autoFocus:!1},sx:{},children:[d&&(0,f.jsx)(je.A,{children:(0,f.jsx)(he.A,{size:"small",autoFocus:!0,placeholder:"Type to search...",fullWidth:!0,value:c,onChange:e=>u(e.target.value),InputProps:{startAdornment:(0,f.jsx)(ye.A,{position:"start",children:(0,f.jsx)(Te.A,{})})},onKeyDown:e=>{"Escape"!==e.key&&e.stopPropagation()}})}),(0,f.jsx)(me.A,{disabled:!0,value:"",sx:{"& .MuiTypography-root":{fontSize:"14px !important"}},children:r}),x.length>0?x.map(((e,t)=>(0,f.jsx)(me.A,{value:e,sx:{"& .MuiTypography-root":{fontSize:"14px !important"},"& .MuiSvgIcon-root ":{fontSize:"1rem"},whiteSpace:"normal"},children:e},t))):(0,f.jsx)(me.A,{disabled:!0,children:"No options available"})]})})};var ze=i(55252);const Pe=e=>{var t;let{data:i}=e;const o=(0,r.jL)(),[a,d]=(0,s.useState)([]),[c,u]=(0,s.useState)([]),[x,m]=(0,s.useState)([]),[h,p]=(0,s.useState)([]),[A,y]=(0,s.useState)((null===i||void 0===i?void 0:i.instituteName)||""),[S,w]=(0,s.useState)(null!==i&&void 0!==i&&i.affiliatedUniversity?[i.affiliatedUniversity]:[]),[D,E]=(0,s.useState)((null===i||void 0===i?void 0:i.affiliatedUniversity)||""),[k,W]=(0,s.useState)((null===i||void 0===i?void 0:i.programMajor)||""),[N,T]=(0,s.useState)(null!==i&&void 0!==i&&i.degreeProgram?null===i||void 0===i?void 0:i.degreeProgram:""),[F,z]=(0,s.useState)(!1),[P,L]=(0,s.useState)(""),[M,B]=(0,s.useState)(null===i||void 0===i?void 0:i.gradingSystem),[O,q]=(0,s.useState)(null===i||void 0===i?void 0:i.totalScore),V=(0,r.GV)((e=>e.profile)),[Y,H]=(0,s.useState)(null===V||void 0===V||null===(t=V.data)||void 0===t?void 0:t.IEH),[_,U]=(0,s.useState)(!1),[K,J]=(0,s.useState)(!1),Q=(0,s.useRef)({percentage:100,cgpa1:10,cgpa2:7,cgpa3:5,gpa:4,grade:void 0}).current,[$,ee]=(0,s.useState)((null===i||void 0===i?void 0:i.country)||"India"),[te,ie]=(0,s.useState)((null===i||void 0===i?void 0:i.state)||""),[ne,oe]=(0,s.useState)((null===i||void 0===i?void 0:i.city)||""),[ae,le]=(0,s.useState)(!1),[se,re]=(0,s.useState)(""),de=a.find((e=>e.name===$)),ce=c.find((e=>e.name===te));(0,s.useEffect)((()=>{(async()=>{const e=await we.A.getAllCountries();d(e)})()}),[]);const Pe=Ie.Ik().shape({underGraduation:Ie.Ik().shape({startDate:Ie.p6().required("Start Date is required"),endDate:Ie.p6().when("isCompleted",{is:!0,then:e=>e.required("End Date is required")}).nullable().test("not-same-date","Start date and end date cannot be the same.",(function(e){const{startDate:t}=this.parent;if(!t||!e)return!0;const i=new Date(t),n=new Date(e);return i.getFullYear()!==n.getFullYear()||i.getMonth()!==n.getMonth()||i.getDate()!==n.getDate()}))})});(0,s.useEffect)((()=>{(async()=>{var e,t;const i=await De.Ay.getStatesOfCountry(null===de||void 0===de?void 0:de.isoCode);u(i);const n=await Ee.A.getCitiesOfState(null!==(e=null===ce||void 0===ce?void 0:ce.countryCode)&&void 0!==e?e:"",null!==(t=null===ce||void 0===ce?void 0:ce.isoCode)&&void 0!==t?t:"");m(n)})()}),[de,ce]);const Re=e=>{const t=e.target.value;re(t),y(t)};(0,s.useEffect)((()=>{console.log("Called"),se.length>3?(le(!0),U(!0),(0,I.nw)(Ge(se),1,10,1,0,0,0,0).then((e=>{var t;p((null===(t=e.data)||void 0===t?void 0:t.institutions)||[]),le(!1)})).catch((e=>{console.error("Error fetching institutions:",e),le(!1)}))):(p([]),U(!1))}),[se]);const Ge=e=>{let t=e.replaceAll(/[^a-zA-Z0-9\s]/g,"").trim();return console.log("Filtered",t),t},[Le,Me]=(0,s.useState)(!1),Be={PaperProps:{style:{maxHeight:224,width:150}}},Oe={underGraduation:{instituteName:A,city:ne,state:te,country:$,programMajor:k,degreeProgram:N,gradingSystem:M,affiliatedUniversity:D,totalScore:O,maxScore:Q[M],startDate:null===i||void 0===i?void 0:i.startDate,endDate:null===i||void 0===i?void 0:i.endDate,backlogs:null===i||void 0===i?void 0:i.backlogs,isCompleted:null===i||void 0===i?void 0:i.isCompleted,custom:Le}},[qe,Ve]=(0,s.useState)([]);(0,s.useEffect)((()=>{const e=R.FX[0][null===i||void 0===i?void 0:i.degreeProgram]||[];Ve(e)}),[null===i||void 0===i?void 0:i.degreeProgram]);const[Ye,He]=(0,s.useState)(""),_e=(0,s.useMemo)((()=>x.filter((e=>e.name.toLowerCase().includes(Ye.toLowerCase())))),[x,Ye]),Ue=e=>{oe(e)},Ke=e=>{var t;"Other"===e?(y(""),z(!1),re(""),Me(!0),o((0,C.DE)({show:!0,data:{container:{name:"customfield",data:{name:"underGraduation.institutionName",fieldName:A,setFieldName:y,placeholder:"Enter your institution name"},dimensions:{width:"450px"}},type:"custom"}}))):(y(null===e||void 0===e?void 0:e.InstitutionName),w((null===e||void 0===e?void 0:e.university)||[]),z(null===e||void 0===e||null===(t=e.IEH)||void 0===t?void 0:t.exists),L(null===e||void 0===e?void 0:e._id),E(""),re(""))},Je=async e=>{switch(e.name){case"Country":ee(e.data),ie(""),oe(""),m([]);const t=a.find((t=>t.name===e.data));if(t){const e=await De.Ay.getStatesOfCountry(t.isoCode);u(e)}break;case"State":oe(""),ie(e.data);const i=c.find((t=>t.name===e.data));if(i){const e=await Ee.A.getCitiesOfState(i.countryCode,i.isoCode);m(e)}break;case"City":oe(e.data)}},Ze=async e=>{try{console.log("form value",e),J(!0);const t=await(0,I.oS)(e);t&&(o((0,Ce.Jz)(t.data.data.education.underGraduation)),o((0,C.DE)({show:!0,data:{container:{name:"success",data:"UnderGraduate Details are Added Succesfully",dimensions:{width:"35%",height:"40%",show:"none"}},type:"custom"}}))),J(!1)}catch(t){J(!1)}},[Qe,$e]=(0,s.useState)(!1);return(0,f.jsx)(f.Fragment,{children:Qe?(0,f.jsx)("div",{children:(0,f.jsx)(be.l1,{initialValues:Oe,validationSchema:Pe,enableReinitialize:!0,onSubmit:e=>Ze(e),children:e=>{var t,i;let{touched:s,errors:r,values:d,handleChange:u,setFieldValue:m}=e;return(0,f.jsx)(be.lV,{style:{},children:(0,f.jsxs)(j.Ay,{container:!0,spacing:3,sx:{px:2},children:[(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"instituteName",sx:{fontWeight:"500",color:"#8E9091",mb:1},children:"Degree Name"}),(0,f.jsxs)(xe.A,{size:"small",id:"Country",name:"underGraduation.degreeProgram",displayEmpty:!0,defaultValue:"",value:N,onChange:e=>{((e,t)=>{const i=e.target.value,n=R.FX[0][i]||[];Ve(n),t("underGraduation.programMajor","")})(e,m),T(e.target.value)},fullWidth:!0,sx:{"& .Mui-error .MuiOutlinedInput-notchedOutline":{borderColor:"red !important"}},MenuProps:Be,IconComponent:v.A,children:[(0,f.jsx)(me.A,{disabled:!0,value:"",sx:{"& .MuiTypography-root":{fontSize:"14px !important"}},children:"Select"}),Object.keys(R.FX[0]).map((e=>(0,f.jsx)(me.A,{value:e,sx:{"& .MuiTypography-root":{fontSize:"14px !important"},"& .MuiSvgIcon-root ":{fontSize:"1rem"},whiteSpace:"normal"},children:e},e))),!Object.keys(R.FX[0]).includes(N)&&""!==N&&(0,f.jsx)(me.A,{value:N,children:N},N),(0,f.jsx)(me.A,{sx:{fontSize:"14px !important",display:"flex",alignItems:"center",whiteSpace:"normal",color:"#1cbeb5  !important"},onClick:()=>{Me(!0),o((0,C.DE)({show:!0,data:{container:{name:"customfield",data:{name:"underGraduation.degreeProgram",fieldName:N,setFieldName:T,placeholder:"Enter your degree name"},dimensions:{width:"450px"}},type:"custom"}}))},children:"Can't find your degree"})]})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"instituteName",sx:{fontWeight:"500",color:"#8E9091",mb:1},children:"Specialization"}),(0,f.jsxs)(xe.A,{size:"small",id:"Country",name:"underGraduation.programMajor",displayEmpty:!0,defaultValue:"",value:k,onChange:e=>W(e.target.value),fullWidth:!0,sx:{"& .Mui-error .MuiOutlinedInput-notchedOutline":{borderColor:"red !important"}},MenuProps:Be,IconComponent:v.A,children:[(0,f.jsx)(me.A,{disabled:!0,value:"",sx:{"& .MuiTypography-root":{fontSize:"14px !important"}},children:"Select"}),null===qe||void 0===qe?void 0:qe.map((e=>(0,f.jsx)(me.A,{value:e,sx:{"& .MuiTypography-root":{fontSize:"14px !important"},"& .MuiSvgIcon-root ":{fontSize:"1rem"},whiteSpace:"normal"},children:e},e))),!qe.includes(k)&&""!==k&&(0,f.jsx)(me.A,{value:k,children:k},k),(0,f.jsx)(me.A,{sx:{fontSize:"14px !important",display:"flex",alignItems:"center",whiteSpace:"normal",color:"#1cbeb5  !important"},onClick:()=>{Me(!0),o((0,C.DE)({show:!0,data:{container:{name:"customfield",data:{name:"underGraduation.programMajor",fieldName:k,setFieldName:W,placeholder:"Enter your specialization"},dimensions:{width:"450px"}},type:"custom"}}))},children:"Can't find your specialization"})]}),(0,f.jsx)(be.Kw,{name:"underGraduation.programMajor",component:"div",className:"error"})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"instituteName",sx:{fontWeight:"500",color:"#8E9091",mb:1},children:"Name of Institution"}),(0,f.jsxs)(n.A,{sx:{width:"100%",position:"relative"},children:[(0,f.jsx)(he.A,{value:A,onChange:Re,placeholder:"Search for an institution",variant:"outlined",name:"underGraduation.instituteName",size:"small",autoComplete:"off",fullWidth:!0,InputProps:{endAdornment:(0,f.jsxs)(f.Fragment,{children:[ae&&(0,f.jsx)(pe.A,{color:"inherit",size:20}),A&&(0,f.jsx)(We.A,{sx:{cursor:"pointer"},onClick:()=>{y(""),p([]),re(""),U(!1)}})]})}}),ae||h.length>0||_&&0===h.length?(0,f.jsxs)(n.A,{sx:{position:"absolute",zIndex:1,backgroundColor:"#fff",boxShadow:1,maxHeight:"200px",overflowY:"auto",width:"100%"},children:[h.map(((e,t)=>{var i;return(0,f.jsxs)(me.A,{sx:{fontSize:"14px !important",display:"flex",alignItems:"center",whiteSpace:"normal"},onClick:()=>Ke(e),children:[null===e||void 0===e?void 0:e.InstitutionName,(null===e||void 0===e||null===(i=e.IEH)||void 0===i?void 0:i.exists)&&(0,f.jsx)(Ne.A,{sx:{fontSize:"1.1rem",color:"orange"}}),(null===e||void 0===e?void 0:e.District)&&", ".concat(null===e||void 0===e?void 0:e.District)]},t)})),!ae&&_&&(0,f.jsx)(me.A,{sx:{fontSize:"14px !important",display:"flex",whiteSpace:"normal",color:"#1cbeb5  !important"},onClick:()=>Ke("Other"),children:"Can't find institution"})]}):null]}),(0,f.jsx)(be.Kw,{name:"underGraduation.instituteName",component:"div",className:"error"})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"affiliatedUniversity",sx:{fontWeight:"500",color:"#8E9091",mb:1},children:"Affiliated University"}),(0,f.jsxs)(xe.A,{size:"small",id:"affiliatedUniversity",name:"underGraduation.affiliatedUniversity",displayEmpty:!0,value:D,onChange:e=>E(e.target.value),fullWidth:!0,IconComponent:v.A,children:[(0,f.jsx)(me.A,{disabled:!0,value:"",children:"Select University"}),S.map((e=>(0,f.jsx)(me.A,{value:e,children:e},e))),!S.includes(D)&&""!==k&&(0,f.jsx)(me.A,{value:D,children:D},D),(0,f.jsx)(me.A,{sx:{fontSize:"14px !important",display:"flex",alignItems:"center",whiteSpace:"normal",color:"#1cbeb5  !important"},onClick:()=>{Me(!0),o((0,C.DE)({show:!0,data:{container:{name:"customfield",data:{name:"underGraduation.affiliatedUniversity",fieldName:D,setFieldName:E,placeholder:"Enter your university"},dimensions:{width:"450px"}},type:"custom"}}))},children:"Can't find university"})]}),(0,f.jsx)(be.Kw,{name:"underGraduation.affiliatedUniversity",component:"div",className:"error"})]}),F?(0,f.jsxs)(j.Ay,{item:!0,xs:12,sx:{display:"flex",gap:"1rem",alignItems:"center"},children:[(0,f.jsxs)(l.A,{children:["This college is a member of ",(0,f.jsx)("b",{style:{color:"#3b3f76"},children:"IEH"})," . You need to verify to get benefits."]}),"Verification Request Initiated"===(null===Y||void 0===Y?void 0:Y.verificationStatus)?"":(0,f.jsx)(G.A,{sx:g.Q4,onClick:()=>o((0,C.DE)({show:!0,data:{container:{name:"ieh",data:{id:P,setIEHStatus:H},dimensions:{width:"450px"}},type:"custom"}})),children:"Verify"})]}):"","Verification Request Initiated"===(null===Y||void 0===Y?void 0:Y.verificationStatus)?(0,f.jsx)(j.Ay,{item:!0,xs:12,children:(0,f.jsx)(l.A,{children:"Your IEH verification request is initiated"})}):"",(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"instituteName",sx:{fontWeight:"500",color:"#8E9091",mb:1},children:"Grading System"}),(0,f.jsxs)(xe.A,{id:"grading-system",size:"small",name:"gradingSystem",displayEmpty:!0,defaultValue:"",value:M,onChange:e=>{return t=e,console.log("grading system",t.target.value),B(t.target.value),void q("");var t},fullWidth:!0,IconComponent:v.A,children:[(0,f.jsx)(me.A,{value:"",disabled:!0,children:"Select grade"}),(0,f.jsx)(me.A,{value:"percentage",children:"Percentage out of 100"}),(0,f.jsx)(me.A,{value:"cgpa1",children:"CGPA out of 10"}),(0,f.jsx)(me.A,{value:"cgpa2",children:"CGPA out of 7"}),(0,f.jsx)(me.A,{value:"cgpa3",children:"CGPA out of 5"}),(0,f.jsx)(me.A,{value:"gpa",children:"GPA out of 4"})]}),(0,f.jsx)(be.Kw,{name:"underGraduation.gradingSystem",component:"div",className:"error"})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsxs)(ue.A,{id:"instituteName",sx:{fontWeight:"500",color:"#8E9091",mb:1},children:["Score"," "]}),"grade"===M?(0,f.jsxs)(xe.A,{size:"small",id:"totalScore",name:"underGraduation.totalScore",displayEmpty:!0,value:O,onChange:e=>q(e.target.value),fullWidth:!0,IconComponent:v.A,MenuProps:Be,children:[(0,f.jsx)(me.A,{disabled:!0,value:"",children:"Select Grade"}),["A","A+","B","B+","C","C+","D","D+"].map((e=>(0,f.jsx)(me.A,{value:e,children:e},e)))]}):(0,f.jsx)(he.A,{name:"underGraduation.totalScore",size:"small",fullWidth:!0,value:O,onChange:e=>q(e.target.value),placeholder:"percentage"===M?"Enter percentage":"Enter score",inputProps:{step:"0.1",min:1,max:Q[M],list:void 0,onInput:e=>{const t=e.target,i=parseFloat(t.value),n=Q[M];(i<1||i>(n||1/0))&&(t.value=i.toString())}}}),(0,f.jsx)(be.Kw,{name:"underGraduation.totalScore",component:"div",className:"error"})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"",sx:{color:"#8E9091",fontWeight:500},children:"Education status"}),(0,f.jsx)(ve.A,{children:(0,f.jsxs)(ge.A,{row:!0,"aria-labelledby":"education-status",name:"underGraduation.isCompleted",value:d.underGraduation.isCompleted,onChange:e=>{u({target:{name:"underGraduation.isCompleted",value:"true"===e.target.value}})},children:[(0,f.jsx)(fe.A,{value:"true",control:(0,f.jsx)(Ae.A,{size:"small",sx:{"&.MuiRadio-root.Mui-checked":{color:"#3B3F76 !important"}}}),label:"Completed"}),(0,f.jsx)(fe.A,{value:"false",control:(0,f.jsx)(Ae.A,{size:"small",sx:{"&.MuiRadio-root.Mui-checked":{color:"#3B3F76 !important"}}}),label:"Pursuing"})]})})]}),(0,f.jsx)(j.Ay,{item:!0,xs:12,sm:6}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"instituteName",sx:{fontWeight:"500",color:"#8E9091",mb:1},children:"Start Date"}),(0,f.jsx)(ze.A,{selectedDate:null===d||void 0===d||null===(t=d.underGraduation)||void 0===t?void 0:t.startDate,onChange:e=>u({target:{name:"underGraduation.startDate",value:null===e||void 0===e?void 0:e.toISOString().slice(0,10)}}),maxDate:new Date,placeholderText:"Start Date"}),(0,f.jsx)(be.Kw,{name:"underGraduation.startDate",component:"div",className:"error"})]}),(0,f.jsx)(j.Ay,{item:!0,xs:12,sm:6,children:("true"===d.underGraduation.isCompleted||!0===d.underGraduation.isCompleted)&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(ue.A,{sx:{fontWeight:"500",color:"#8E9091",mb:1},children:"End Date"}),(0,f.jsx)(ze.A,{selectedDate:null===d||void 0===d||null===(i=d.underGraduation)||void 0===i?void 0:i.endDate,onChange:e=>u({target:{name:"underGraduation.endDate",value:null===e||void 0===e?void 0:e.toISOString().slice(0,10)}}),minDate:d.underGraduation.startDate?new Date(new Date(d.underGraduation.startDate).setFullYear(new Date(d.underGraduation.startDate).getFullYear()+1)):void 0,maxDate:d.underGraduation.startDate?(()=>{const e=new Date(new Date(d.underGraduation.startDate).setFullYear(new Date(d.underGraduation.startDate).getFullYear()+12));return e>new Date?new Date:e})():new Date,placeholderText:"End Date"}),(0,f.jsx)(be.Kw,{name:"underGraduation.endDate",component:"div",className:"error"})]})}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsxs)(ue.A,{id:"",sx:{color:"#8E9091",display:"flex",alignItems:"center",mb:1},children:["Backlogs",(0,f.jsx)(Z.A,{slotProps:{tooltip:{sx:{color:"#514E6A",backgroundColor:"#ffff",boxShadow:2,cursor:"pointer"}}},title:"Backlog refers to a failed subject or exam that you have not cleared in your first attempt",placement:"right",children:(0,f.jsx)(X.A,{sx:{color:"#3B3F76",ml:1,cursor:"pointer",fontSize:"1rem",float:"right"}})})]}),(0,f.jsx)(Se.A,{id:"name",type:"number",placeholder:"Number of backlogs(if any)",name:"underGraduation.backlogs",value:d.underGraduation.backlogs,onChange:u,fullWidth:!0})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"instituteName",sx:{fontWeight:"500",color:"#8E9091",mb:1},children:"Country"}),(0,f.jsx)(Fe,{label:"Country",name:"underGraduation.country",options:a.map((e=>e.name)),value:$,onChange:e=>Je({name:"Country",data:null===e||void 0===e?void 0:e.target.value}),placeholder:"Select",searchEnabled:!0})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"instituteName",sx:{fontWeight:"500",color:"#8E9091",mb:1},children:"State/Province"}),(0,f.jsx)(Fe,{label:"State",name:"underGraduation.state",options:c.map((e=>e.name)),value:te,onChange:e=>Je({name:"State",data:null===e||void 0===e?void 0:e.target.value}),placeholder:"Select",searchEnabled:!0})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"instituteName",sx:{fontWeight:"500",color:"#8E9091",mb:1},children:"City/Town"}),(0,f.jsx)(ve.A,{fullWidth:!0,children:(0,f.jsxs)(xe.A,{id:"city",name:"underGraduation.city",value:ne,displayEmpty:!0,size:"small",defaultValue:"",onChange:e=>oe(e.target.value),fullWidth:!0,IconComponent:v.A,onClose:()=>He(""),MenuProps:{PaperProps:{sx:{maxHeight:300,"&.MuiPaper-root":{boxShadow:3,borderRadius:"15px !important"}}}},children:[(0,f.jsx)(je.A,{children:(0,f.jsx)(he.A,{size:"small",autoFocus:!0,placeholder:"Search City...",fullWidth:!0,autoComplete:"off",value:Ye,onChange:e=>He(e.target.value),InputProps:{startAdornment:(0,f.jsx)(ye.A,{position:"start",children:(0,f.jsx)(Te.A,{})})},onKeyDown:e=>{"Escape"!==e.key&&e.stopPropagation()}})}),(0,f.jsx)(me.A,{value:"",disabled:!0,children:te?"Select city":"Please select state"}),_e.length>0?_e.map((e=>(0,f.jsx)(me.A,{value:e.name,children:e.name},e.name))):te&&(0,f.jsx)(me.A,{disabled:!0,children:"No cities available"}),!x.some((e=>e.name===ne))&&void 0!==ne&&""!==ne&&(0,f.jsx)(me.A,{value:ne,children:ne},ne),(0,f.jsx)(me.A,{sx:{fontSize:"14px !important",display:"flex",alignItems:"center",whiteSpace:"normal",color:"#1cbeb5 !important"},onClick:()=>{o((0,C.DE)({show:!0,data:{container:{name:"customfield",data:{name:"underGraduation.city",fieldName:ne,setFieldName:Ue,placeholder:"Enter your city"},dimensions:{width:"450px"}},type:"custom"}}))},children:"Can't find city"})]})})]}),(0,f.jsx)(j.Ay,{item:!0,xs:12,sx:{display:"flex",justifyContent:"end",my:2,mr:10},children:(0,f.jsx)(ke.S,{handleSubmit:()=>Ze,width:"100px",children:K?(0,f.jsx)("img",{src:b.A.standardLoader,alt:"load",style:{width:"1rem",height:"1rem"}}):"Save"})})]})})}})}):(0,f.jsx)(n.A,{sx:{boxShadow:2,borderRadius:3,background:"#fff",p:3},children:(0,f.jsxs)(j.Ay,{container:!0,spacing:2,children:[(0,f.jsxs)(j.Ay,{item:!0,xs:12,sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,f.jsx)(l.A,{variant:"h6",sx:{fontWeight:600,color:"#495052"},children:"Undergraduate Details"}),(0,f.jsx)(G.A,{variant:"outlined",sx:[{border:"2px solid #F48438 ",borderRadius:"20px",color:"#3B3F76",fontSize:{lg:"16px",xs:"12px"},width:{lg:"100px",xs:"90px"},padding:{lg:"8px",xs:"6px"}}],onClick:()=>$e(!0),children:"Edit"})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500},children:"Degree Name"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:N||"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"Specialization"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:k||"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"Institution Name"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:A||"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"Affiliated University"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:D||"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"Grading System"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:M||"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"Score"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:O||"NA"})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500},children:"Country"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:$||"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"State/Province"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:te||"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"City/Town"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:ne||"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"Start Date"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:null!==i&&void 0!==i&&i.startDate?i.startDate.split("T")[0]:"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"End Date"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:null!==i&&void 0!==i&&i.endDate?i.endDate.split("T")[0]:"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"Backlogs"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:(null===i||void 0===i?void 0:i.backlogs)||"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"Education Status"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:!0===(null===i||void 0===i?void 0:i.isCompleted)||"true"===(null===i||void 0===i?void 0:i.isCompleted)?"Completed":!1===(null===i||void 0===i?void 0:i.isCompleted)||"false"===(null===i||void 0===i?void 0:i.isCompleted)?"Pursuing":"NA"})]})]})})})},Re=e=>{var t,i,o,a,d,c,u,x,m,h,p,g,A,y,S,w,D,E,k,W,N,T;let{data:F}=e;const z=(0,r.jL)(),[P,L]=(0,s.useState)([]),[M,B]=(0,s.useState)([]),[O,q]=(0,s.useState)([]),[V,Y]=(0,s.useState)((null===(t=F)||void 0===t?void 0:t.country)||"India"),[H,_]=(0,s.useState)((null===(i=F)||void 0===i?void 0:i.state)||""),[U,K]=(0,s.useState)((null===(o=F)||void 0===o?void 0:o.city)||""),J=P.find((e=>e.name===V)),Q=M.find((e=>e.name===H)),[$,ee]=(0,s.useState)((null===(a=F)||void 0===a?void 0:a.gradingSystem)||""),[te,ie]=(0,s.useState)((null===(d=F)||void 0===d?void 0:d.totalScore)||""),[ne,oe]=(0,s.useState)((null===(c=F)||void 0===c?void 0:c.stream)||""),[ae,le]=(0,s.useState)(!1),[se,re]=(0,s.useState)((null===(u=F)||void 0===u?void 0:u.board)||""),[de,ce]=(0,s.useState)(!1),[pe,We]=(0,s.useState)(!1);console.log("[DEBUG] Initial data prop:",F),(0,s.useEffect)((()=>{console.log("[DEBUG] useEffect data change:",F),F&&(ee(F.gradingSystem||""),ie(F.totalScore||""),oe(F.stream||""),re(F.board||""),Y(F.country||"India"),_(F.state||""),K(F.city||""))}),[F]),(0,s.useEffect)((()=>{(async()=>{const e=await we.A.getAllCountries();L(e)})()}),[]),(0,s.useEffect)((()=>{(async()=>{var e,t;const i=await De.Ay.getStatesOfCountry(null===J||void 0===J?void 0:J.isoCode);B(i);const n=await Ee.A.getCitiesOfState(null!==(e=null===Q||void 0===Q?void 0:Q.countryCode)&&void 0!==e?e:"",null!==(t=null===Q||void 0===Q?void 0:Q.isoCode)&&void 0!==t?t:"");q(n)})()}),[J,Q]);const Ne={PaperProps:{style:{maxHeight:224,width:150}}},Pe={plus2:{instituteName:null===(x=F)||void 0===x?void 0:x.instituteName,city:U,state:H,country:V,languageOfInstruction:null===(m=F)||void 0===m?void 0:m.languageOfInstruction,gradingSystem:$,board:se,stream:ne,totalScore:te,startDate:null===(h=F)||void 0===h?void 0:h.startDate,endDate:null===(p=F)||void 0===p?void 0:p.endDate,backlogs:null===(g=F)||void 0===g?void 0:g.backlogs,isCompleted:null===(A=F)||void 0===A?void 0:A.isCompleted,custom:ae}},Re=async e=>{switch(e.name){case"Country":Y(e.data),_(""),K(""),q([]);const t=P.find((t=>t.name===e.data));if(t){const e=await De.Ay.getStatesOfCountry(t.isoCode);B(e)}break;case"State":K(""),_(e.data);const i=M.find((t=>t.name===e.data));if(i){const e=await Ee.A.getCitiesOfState(i.countryCode,i.isoCode);q(e)}break;case"City":K(e.data)}},[Ge,Le]=(0,s.useState)(""),Me=(0,s.useMemo)((()=>O.filter((e=>e.name.toLowerCase().includes(Ge.toLowerCase())))),[O,Ge]),Be=e=>{K(e)},Oe=async e=>{console.log("Submitting",e);try{ce(!0);const t=await(0,I.oS)(e);if(t){const e=t.data.data.education.plus2;console.log("[DEBUG] After save, updatedData:",e),z((0,Ce.hX)(e)),ee(e.gradingSystem||""),ie(e.totalScore||""),oe(e.stream||""),re(e.board||""),Y(e.country||"India"),_(e.state||""),K(e.city||""),console.log("DDD",F),F={...e},console.log("Reached"),ce(!1),z((0,C.DE)({show:!0,data:{container:{name:"success",data:"Diploma/Grade 12 details added successfully ",dimensions:{width:"35%",height:"40%",show:"none"}},type:"custom"}}))}}catch(t){}};Ie.Ik().shape({plus2:Ie.Ik().shape({instituteName:Ie.Yj().required("Institution name is required"),state:Ie.Yj().required("State is required"),country:Ie.Yj().required("Country is required"),gradingSystem:Ie.Yj().required("Grading system is required"),totalScore:Ie.gl().required("Score is required").test("valid-score","Invalid score",(function(e){const{gradingSystem:t}=this.parent;return"percentage"===t?"number"===typeof e&&e>=1&&e<=100:"GPA"===t?"number"===typeof e&&e>=1&&e<=10:"CGPA"===t?"number"===typeof e&&e>=1&&e<=6:"grade"!==t||"string"===typeof e&&["A","A+","B","B+","C","D"].includes(e)})),startDate:Ie.p6().required("Start date is required"),endDate:Ie.p6().when("isCompleted",{is:!0,then:e=>e.required("End Date is required")}).nullable().test("not-same-date","Start date and end date cannot be the same.",(function(e){const{startDate:t}=this.parent;if(!t||!e)return!0;const i=new Date(t),n=new Date(e);return i.getFullYear()!==n.getFullYear()||i.getMonth()!==n.getMonth()||i.getDate()!==n.getDate()}))})});return(0,s.useEffect)((()=>{console.log("[DEBUG] gradingSystem:",$,"totalScore:",te)}),[$,te]),console.log("loader",de),(0,f.jsx)(f.Fragment,{children:pe?(0,f.jsx)("div",{children:(0,f.jsx)(be.l1,{initialValues:Pe,enableReinitialize:!0,onSubmit:e=>Oe(e),children:e=>{var t,i;let{touched:n,errors:o,values:a,handleChange:l,resetForm:s,handleSubmit:r}=e;return(0,f.jsx)(be.lV,{style:{},children:(0,f.jsxs)(j.Ay,{container:!0,spacing:3,sx:{px:2},children:[(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"instituteName",sx:{fontWeight:"500",color:"#8E9091",mb:1},children:"Specialization/Subjects"}),(0,f.jsx)(he.A,{value:ne,onChange:e=>oe(e.target.value),placeholder:"Enter your stream name",variant:"outlined",name:"plus2.stream",size:"small",autoComplete:"off",fullWidth:!0}),(0,f.jsx)(be.Kw,{name:"plus2.stream",component:"div",className:"error"})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"",sx:{color:"#8E9091",fontWeight:500,mb:1},children:"Education status"}),(0,f.jsx)(ve.A,{children:(0,f.jsxs)(ge.A,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"plus2.isCompleted",value:a.plus2.isCompleted,onChange:e=>{l({target:{name:"plus2.isCompleted",value:"true"===e.target.value}})},children:[(0,f.jsx)(fe.A,{value:"true",control:(0,f.jsx)(Ae.A,{size:"small",sx:{"&.MuiRadio-root.Mui-checked":{color:"#3B3F76 !important"}}}),label:"Completed"}),(0,f.jsx)(fe.A,{value:"false",control:(0,f.jsx)(Ae.A,{size:"small",sx:{"&.MuiRadio-root.Mui-checked":{color:"#3B3F76 !important"}}}),label:"Pursuing"})]})})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsxs)(ue.A,{id:"instituteName",sx:{fontWeight:"500",color:"#8E9091",mb:1},children:["Name of Institution"," "]}),(0,f.jsx)(Se.A,{id:"name",type:"text",placeholder:"Name of Institution",name:"plus2.instituteName",value:a.plus2.instituteName,onChange:l,fullWidth:!0}),(0,f.jsx)(be.Kw,{name:"plus2.instituteName",component:"div",className:"error"})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsxs)(ue.A,{id:"",sx:{color:"#8E9091",display:"flex",alignItems:"center",mb:1},children:["Board",(0,f.jsx)(Z.A,{slotProps:{tooltip:{sx:{color:"#514E6A",backgroundColor:"#ffff",boxShadow:2,cursor:"pointer"}}},title:"A board in education is a governing body that manages an educational system or part of it",placement:"right",children:(0,f.jsx)(X.A,{sx:{color:"#3B3F76",ml:1,cursor:"pointer",fontSize:"1rem",float:"right"}})})]}),(0,f.jsxs)(xe.A,{size:"small",id:"board",name:"plus2.board",displayEmpty:!0,defaultValue:"",value:se,onChange:e=>re(e.target.value),fullWidth:!0,IconComponent:v.A,MenuProps:Ne,children:[(0,f.jsx)(me.A,{disabled:!0,value:"",sx:{"& .MuiTypography-root":{fontSize:"14px !important"}},children:"Select"}),R.kD.map((e=>(0,f.jsx)(me.A,{value:e,sx:{"& .MuiTypography-root":{fontSize:"14px !important"},"& .MuiSvgIcon-root ":{fontSize:"1rem"},whiteSpace:"normal"},children:e},e))),!R.kD.includes(se)&&""!==se&&(0,f.jsx)(me.A,{value:se,children:se},se),(0,f.jsx)(me.A,{sx:{fontSize:"14px !important",display:"flex",alignItems:"center",whiteSpace:"normal",color:"#1cbeb5  !important"},onClick:()=>{le(!0),z((0,C.DE)({show:!0,data:{container:{name:"customfield",data:{name:"plus2.board",fieldName:se,setFieldName:re,placeholder:"Enter your board"},dimensions:{width:"450px"}},type:"custom"}}))},children:"Can't find your board"})]}),(0,f.jsx)(be.Kw,{name:"plus2.board",component:"div",className:"error"})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"instituteName",sx:{fontWeight:"500",color:"#8E9091",mb:1},children:"Grading System"}),(0,f.jsxs)(xe.A,{id:"gradingSystem",size:"small",name:"plus2.gradingSystem",displayEmpty:!0,defaultValue:"",value:$,onChange:e=>{ee(e.target.value)},fullWidth:!0,IconComponent:v.A,children:[(0,f.jsx)(me.A,{value:"",disabled:!0,children:"Select grade"}),(0,f.jsx)(me.A,{value:"percentage",children:"Percentage"}),(0,f.jsx)(me.A,{value:"gpa",children:"CGPA    4.0 scale"}),(0,f.jsx)(me.A,{value:"cgpa",children:"CGPA   10.0 scale"}),(0,f.jsx)(me.A,{value:"grade",children:"Grade"})]}),(0,f.jsx)(be.Kw,{name:"plus2.gradingSystem",component:"div",className:"error"})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsxs)(ue.A,{id:"instituteName",sx:{fontWeight:"500",color:"#8E9091",mb:1},children:["Score"," "]}),"grade"===$?(0,f.jsxs)(xe.A,{size:"small",id:"totalScore",name:"plus2.totalScore",displayEmpty:!0,value:te,onChange:e=>ie(e.target.value),fullWidth:!0,IconComponent:v.A,MenuProps:Ne,children:[(0,f.jsx)(me.A,{disabled:!0,value:"",children:"Select Grade"}),["A","A+","B","B+","C","C+","D","D+"].map((e=>(0,f.jsx)(me.A,{value:e,children:e},e)))]}):(0,f.jsx)(he.A,{id:"totalScore",name:"plus2.totalScore",size:"small",fullWidth:!0,value:te,onChange:e=>ie(e.target.value),placeholder:"percentage"===$?"Enter percentage":"grade"===$?"Enter grade":"Enter score",inputProps:{step:"0.1",min:"percentage"===$||"gpa"===$||"cgpa"===$?1:void 0,max:"percentage"===$?100:"gpa"===$?4:"cgpa"===$?10:void 0,list:"grade"===$?"grades":void 0,onInput:e=>{const t=e.target,i=parseFloat(t.value);if("Grade"!==$){(i<(("percentage"===$||"gpa"===$||"cgpa"===$?1:void 0)||0)||i>(("percentage"===$?100:"gpa"===$?4:"cgpa"===$?10:void 0)||1/0))&&(t.value=i.toString().slice(0,-1))}}}}),(0,f.jsx)(be.Kw,{name:"plus2.totalScore",component:"div",className:"error"})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"startDate",sx:{fontWeight:"500",color:"#8E9091",mb:1},children:"Start Date"}),(0,f.jsx)(ze.A,{selectedDate:null===a||void 0===a||null===(t=a.plus2)||void 0===t?void 0:t.startDate,onChange:e=>l({target:{name:"plus2.startDate",value:null===e||void 0===e?void 0:e.toISOString().slice(0,10)}}),maxDate:new Date,placeholderText:"Start Date"}),(0,f.jsx)(be.Kw,{name:"plus2.startDate",component:"div",className:"error"})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[("true"===a.plus2.isCompleted||!0===a.plus2.isCompleted)&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(ue.A,{id:"endDate",sx:{fontWeight:"500",color:"#8E9091",mb:1},children:"End Date"}),(0,f.jsx)(ze.A,{selectedDate:null===a||void 0===a||null===(i=a.plus2)||void 0===i?void 0:i.endDate,onChange:e=>l({target:{name:"plus2.endDate",value:null===e||void 0===e?void 0:e.toISOString().slice(0,10)}}),minDate:a.plus2.startDate?new Date(new Date(a.plus2.startDate).setFullYear(new Date(a.plus2.startDate).getFullYear()+1)):void 0,maxDate:a.plus2.startDate?(()=>{const e=new Date(new Date(a.plus2.startDate).setFullYear(new Date(a.plus2.startDate).getFullYear()+12));return e>new Date?new Date:e})():new Date,placeholderText:"End Date"})]}),(0,f.jsx)(be.Kw,{name:"plus2.endDate",component:"div",className:"error"})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"languageOfInstruction",sx:{fontWeight:"500",color:"#8E9091",mb:1},children:"Language of instruction"}),(0,f.jsx)(Fe,{label:"Language of Instruction",name:"plus2.languageOfInstruction",options:R.eo,value:a.plus2.languageOfInstruction,onChange:l,placeholder:"Select",searchEnabled:!0})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsxs)(ue.A,{id:"",sx:{color:"#8E9091",display:"flex",alignItems:"center",mb:1},children:["Backlogs",(0,f.jsx)(Z.A,{slotProps:{tooltip:{sx:{color:"#514E6A",backgroundColor:"#ffff",boxShadow:2,cursor:"pointer"}}},title:"Backlog refers to a failed subject or exam that you have not cleared in your first attempt",placement:"right",children:(0,f.jsx)(X.A,{sx:{color:"#3B3F76",ml:1,cursor:"pointer",fontSize:"1rem",float:"right"}})})]}),(0,f.jsx)(Se.A,{id:"backlogs",type:"number",placeholder:"Number of backlogs(if any)",name:"plus2.backlogs",value:a.plus2.backlogs,onChange:l,fullWidth:!0})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"country",sx:{fontWeight:"500",color:"#8E9091",mb:1},children:"Country"}),(0,f.jsx)(Fe,{label:"Country",name:"plus2.country",options:P.map((e=>e.name)),value:V,onChange:e=>Re({name:"Country",data:null===e||void 0===e?void 0:e.target.value}),placeholder:"Select",searchEnabled:!0})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"state",sx:{fontWeight:"500",color:"#8E9091",mb:1},children:"State/Province"}),(0,f.jsx)(Fe,{label:"State",name:"plus2.state",options:M.map((e=>e.name)),value:H,onChange:e=>Re({name:"State",data:null===e||void 0===e?void 0:e.target.value}),placeholder:"Select",searchEnabled:!0})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"city",sx:{fontWeight:"500",color:"#8E9091",mb:1},children:"City/Town"}),(0,f.jsx)(ve.A,{fullWidth:!0,children:(0,f.jsxs)(xe.A,{id:"city",name:"plus2.city",value:U,displayEmpty:!0,size:"small",defaultValue:"",onChange:e=>K(e.target.value),fullWidth:!0,IconComponent:v.A,onClose:()=>Le(""),MenuProps:{PaperProps:{sx:{maxHeight:300,"&.MuiPaper-root":{boxShadow:3,borderRadius:"15px !important"}}}},children:[(0,f.jsx)(je.A,{children:(0,f.jsx)(he.A,{size:"small",autoFocus:!0,placeholder:"Search City...",fullWidth:!0,autoComplete:"off",value:Ge,onChange:e=>Le(e.target.value),InputProps:{startAdornment:(0,f.jsx)(ye.A,{position:"start",children:(0,f.jsx)(Te.A,{})})},onKeyDown:e=>{"Escape"!==e.key&&e.stopPropagation()}})}),(0,f.jsx)(me.A,{value:"",disabled:!0,children:H?"Select city":"Please select state"}),Me.length>0?Me.map((e=>(0,f.jsx)(me.A,{value:e.name,children:e.name},e.name))):H&&(0,f.jsx)(me.A,{disabled:!0,children:"No cities available"}),!O.some((e=>e.name===U))&&void 0!==U&&""!==U&&(0,f.jsx)(me.A,{value:U,children:U},U),(0,f.jsx)(me.A,{sx:{fontSize:"14px !important",display:"flex",alignItems:"center",whiteSpace:"normal",color:"#1cbeb5 !important"},onClick:()=>{z((0,C.DE)({show:!0,data:{container:{name:"customfield",data:{name:"plus2.city",fieldName:U,setFieldName:Be,placeholder:"Enter your city"},dimensions:{width:"450px"}},type:"custom"}}))},children:"Can't find city"})]})})]}),(0,f.jsx)(j.Ay,{item:!0,xs:12,sx:{display:"flex",justifyContent:"end",my:2,mr:10},children:(0,f.jsx)(ke.S,{handleSubmit:()=>Oe,width:"100px",children:de?(0,f.jsx)("img",{src:b.A.standardLoader,alt:"load",style:{width:"1rem",height:"1rem"}}):"Save"})})]})})}})}):(0,f.jsx)(n.A,{sx:{boxShadow:2,borderRadius:3,background:"#fff",p:3},children:(0,f.jsxs)(j.Ay,{container:!0,spacing:2,children:[(0,f.jsxs)(j.Ay,{item:!0,xs:12,sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,f.jsx)(l.A,{variant:"h6",sx:{fontWeight:600,color:"#495052"},children:"Diploma/Grade 12 Details"}),(0,f.jsx)(G.A,{variant:"outlined",sx:[{border:"2px solid #F48438 ",borderRadius:"20px",color:"#3B3F76",fontSize:{lg:"16px",xs:"12px"},width:{lg:"100px",xs:"90px"},padding:{lg:"8px",xs:"6px"}}],onClick:()=>We(!0),children:"Edit"})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500},children:"Specialization/Subjects"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:ne||"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"Institution Name"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:(null===(y=F)||void 0===y?void 0:y.instituteName)||"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"Board"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:se||"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"Grading System"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:$||"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"Score"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:te||"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"Language of Instruction"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:(null===(S=F)||void 0===S?void 0:S.languageOfInstruction)||"NA"})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500},children:"Country"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:V||"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"State/Province"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:H||"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"City/Town"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:U||"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"Start Date"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:null!==(w=F)&&void 0!==w&&w.startDate?F.startDate.split("T")[0]:"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"End Date"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:null!==(D=F)&&void 0!==D&&D.endDate?F.endDate.split("T")[0]:"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"Backlogs"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:(null===(E=F)||void 0===E?void 0:E.backlogs)||"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"Education Status"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:!0===(null===(k=F)||void 0===k?void 0:k.isCompleted)||"true"===(null===(W=F)||void 0===W?void 0:W.isCompleted)?"Completed":!1===(null===(N=F)||void 0===N?void 0:N.isCompleted)||"false"===(null===(T=F)||void 0===T?void 0:T.isCompleted)?"Pursuing":"NA"})]})]})})})},Ge=e=>{var t,i,o,a,d,c,u,x,m,h,p,g,A,y;let{data:S}=e;const w=(0,r.jL)(),[D,E]=(0,s.useState)([]),[k,W]=(0,s.useState)([]),[N,T]=(0,s.useState)([]),[F,z]=(0,s.useState)((null===(t=S)||void 0===t?void 0:t.country)||"India"),[P,L]=(0,s.useState)((null===(i=S)||void 0===i?void 0:i.state)||""),[M,B]=(0,s.useState)((null===(o=S)||void 0===o?void 0:o.city)||""),O=D.find((e=>e.name===F)),q=k.find((e=>e.name===P)),[V,Y]=(0,s.useState)((null===(a=S)||void 0===a?void 0:a.gradingSystem)||""),[H,_]=(0,s.useState)((null===(d=S)||void 0===d?void 0:d.totalScore)||""),[U,K]=(0,s.useState)(!1),[J,Q]=(0,s.useState)((null===(c=S)||void 0===c?void 0:c.board)||""),[$,ee]=(0,s.useState)(!1),[te,ie]=(0,s.useState)(!1);(0,s.useEffect)((()=>{S&&(Y(S.gradingSystem||""),_(S.totalScore||""),Q(S.board||""),z(S.country||"India"),L(S.state||""),B(S.city||""))}),[S]);(0,s.useEffect)((()=>{(async()=>{const e=await we.A.getAllCountries();E(e)})()}),[]),(0,s.useEffect)((()=>{(async()=>{var e,t;const i=await De.Ay.getStatesOfCountry(null===O||void 0===O?void 0:O.isoCode);W(i);const n=await Ee.A.getCitiesOfState(null!==(e=null===q||void 0===q?void 0:q.countryCode)&&void 0!==e?e:"",null!==(t=null===q||void 0===q?void 0:q.isoCode)&&void 0!==t?t:"");T(n)})()}),[O,q]);const ne={PaperProps:{style:{maxHeight:224,width:150}}},oe={school:{instituteName:null===(u=S)||void 0===u?void 0:u.instituteName,city:M,state:P,country:F,languageOfInstruction:null===(x=S)||void 0===x?void 0:x.languageOfInstruction,gradingSystem:V,board:J,totalScore:H,startDate:null===(m=S)||void 0===m?void 0:m.startDate,endDate:null===(h=S)||void 0===h?void 0:h.endDate,custom:U}},ae=async e=>{switch(e.name){case"Country":z(e.data),L(""),B(""),T([]);const t=D.find((t=>t.name===e.data));if(t){const e=await De.Ay.getStatesOfCountry(t.isoCode);W(e)}break;case"State":B(""),L(e.data);const i=k.find((t=>t.name===e.data));if(i){const e=await Ee.A.getCitiesOfState(i.countryCode,i.isoCode);T(e)}break;case"City":B(e.data)}},[le,se]=(0,s.useState)(""),re=(0,s.useMemo)((()=>N.filter((e=>e.name.toLowerCase().includes(le.toLowerCase())))),[N,le]),de=e=>{B(e)};return(0,f.jsx)(f.Fragment,{children:$?(0,f.jsx)("div",{children:(0,f.jsx)(be.l1,{initialValues:oe,enableReinitialize:!0,onSubmit:e=>(async e=>{try{ie(!0);const t=await(0,I.oS)(e);if(t){const e=t.data.data.education.school;w((0,Ce.F5)(e)),Y(e.gradingSystem||""),_(e.totalScore||""),Q(e.board||""),z(e.country||"India"),L(e.state||""),B(e.city||""),S={...e},ie(!1),w((0,C.DE)({show:!0,data:{container:{name:"success",data:"Grade 10 details added successfully",dimensions:{width:"35%",height:"40%",show:"none"}},type:"custom"}}))}}catch(t){}})(e),children:e=>{var t,i;let{touched:n,errors:o,values:a,handleChange:l,resetForm:s,handleSubmit:r}=e;return(0,f.jsx)(be.lV,{style:{},children:(0,f.jsxs)(j.Ay,{container:!0,spacing:3,sx:{px:2},children:[(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsxs)(ue.A,{id:"instituteName",sx:{fontWeight:"500",color:"#8E9091",mb:1},children:["Name of Institution"," "]}),(0,f.jsx)(Se.A,{id:"name",type:"text",placeholder:"Name of Institution",name:"school.instituteName",value:a.school.instituteName,onChange:l,fullWidth:!0})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsxs)(ue.A,{id:"",sx:{color:"#8E9091",display:"flex",alignItems:"center",mb:1},children:["Board",(0,f.jsx)(Z.A,{slotProps:{tooltip:{sx:{color:"#514E6A",backgroundColor:"#ffff",boxShadow:2,cursor:"pointer"}}},title:"A board in education is a governing body that manages an educational system or part of it",placement:"right",children:(0,f.jsx)(X.A,{sx:{color:"#3B3F76",ml:1,cursor:"pointer",fontSize:"1rem",float:"right"}})})]}),(0,f.jsxs)(xe.A,{size:"small",id:"Country",name:"school.board",displayEmpty:!0,defaultValue:"",value:J,onChange:e=>Q(e.target.value),fullWidth:!0,IconComponent:v.A,MenuProps:ne,children:[(0,f.jsx)(me.A,{disabled:!0,value:"",sx:{"& .MuiTypography-root":{fontSize:"14px !important"}},children:"Select"}),R.kD.map((e=>(0,f.jsx)(me.A,{value:e,sx:{"& .MuiTypography-root":{fontSize:"14px !important"},"& .MuiSvgIcon-root ":{fontSize:"1rem"},whiteSpace:"normal"},children:e},e))),!R.kD.includes(J)&&""!==J&&(0,f.jsx)(me.A,{value:J,children:J},J),(0,f.jsx)(me.A,{sx:{fontSize:"14px !important",display:"flex",alignItems:"center",whiteSpace:"normal",color:"#1cbeb5  !important"},onClick:()=>{K(!0),w((0,C.DE)({show:!0,data:{container:{name:"customfield",data:{name:"school.board",fieldName:J,setFieldName:Q,placeholder:"Enter your board"},dimensions:{width:"450px"}},type:"custom"}}))},children:"Can't find your board"})]})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"instituteName",sx:{fontWeight:"500",color:"#8E9091",mb:1},children:"Grading System"}),(0,f.jsxs)(xe.A,{id:"Country",size:"small",name:"school.gradingSystem",displayEmpty:!0,defaultValue:"",value:V,onChange:e=>{Y(e.target.value)},fullWidth:!0,IconComponent:v.A,children:[(0,f.jsx)(me.A,{value:"",disabled:!0,children:"Select grade"}),(0,f.jsx)(me.A,{value:"percentage",children:"Percentage"}),(0,f.jsx)(me.A,{value:"gpa",children:"CGPA    4.0 scale"}),(0,f.jsx)(me.A,{value:"cgpa",children:"CGPA   10.0 scale"}),(0,f.jsx)(me.A,{value:"grade",children:"Grade"})]})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsxs)(ue.A,{id:"instituteName",sx:{fontWeight:"500",color:"#8E9091",mb:1},children:["Score"," "]}),"grade"===V?(0,f.jsxs)(xe.A,{size:"small",id:"totalScore",name:"school.totalScore",displayEmpty:!0,value:H,onChange:e=>_(e.target.value),fullWidth:!0,IconComponent:v.A,MenuProps:ne,children:[(0,f.jsx)(me.A,{disabled:!0,value:"",children:"Select Grade"}),["A","A+","B","B+","C","C+","D","D+"].map((e=>(0,f.jsx)(me.A,{value:e,children:e},e)))]}):(0,f.jsx)(he.A,{name:"school.totalScore",size:"small",fullWidth:!0,value:H,onChange:e=>_(e.target.value),placeholder:"percentage"===V?"Enter percentage":"grade"===V?"Enter grade":"Enter score",inputProps:{step:"0.1",min:"percentage"===V||"gpa"===V||"cgpa"===V?1:void 0,max:"percentage"===V?100:"gpa"===V?4:"cgpa"===V?10:void 0,list:"grade"===V?"grades":void 0,onInput:e=>{const t=e.target,i=parseFloat(t.value);if("Grade"!==V){(i<(("percentage"===V||"gpa"===V||"cgpa"===V?1:void 0)||0)||i>(("percentage"===V?100:"gpa"===V?4:"cgpa"===V?10:void 0)||1/0))&&(t.value=i.toString().slice(0,-1))}}}})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"instituteName",sx:{fontWeight:"500",color:"#8E9091",mb:1},children:"Language of instruction"}),(0,f.jsx)(Fe,{label:"Language of Instruction",name:"school.languageOfInstruction",options:R.eo,value:a.school.languageOfInstruction,onChange:l,placeholder:"Select",searchEnabled:!0})]}),(0,f.jsx)(j.Ay,{item:!0,xs:12,sm:6}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"instituteName",sx:{fontWeight:"500",color:"#8E9091",mb:1},children:"Start Date"}),(0,f.jsx)(ze.A,{selectedDate:null===a||void 0===a||null===(t=a.school)||void 0===t?void 0:t.startDate,onChange:e=>l({target:{name:"school.startDate",value:null===e||void 0===e?void 0:e.toISOString().slice(0,10)}}),maxDate:new Date,placeholderText:"Start Date"})]}),(0,f.jsx)(j.Ay,{item:!0,xs:12,sm:6,children:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(ue.A,{id:"instituteName",sx:{fontWeight:"500",color:"#8E9091",mb:1},children:"End Date"}),(0,f.jsx)(ze.A,{selectedDate:null===a||void 0===a||null===(i=a.school)||void 0===i?void 0:i.endDate,onChange:e=>l({target:{name:"school.endDate",value:null===e||void 0===e?void 0:e.toISOString().slice(0,10)}}),minDate:a.school.startDate?new Date(new Date(a.school.startDate).setFullYear(new Date(a.school.startDate).getFullYear()+1)):void 0,maxDate:a.school.startDate?(()=>{const e=new Date(new Date(a.school.startDate).setFullYear(new Date(a.school.startDate).getFullYear()+12));return e>new Date?new Date:e})():new Date,placeholderText:"End Date"})]})}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"instituteName",sx:{fontWeight:"500",color:"#8E9091",mb:1},children:"Country"}),(0,f.jsx)(Fe,{label:"Country",name:"school.country",options:D.map((e=>e.name)),value:F,onChange:e=>ae({name:"Country",data:null===e||void 0===e?void 0:e.target.value}),placeholder:"Select",searchEnabled:!0})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"instituteName",sx:{fontWeight:"500",color:"#8E9091",mb:1},children:"State/Province"}),(0,f.jsx)(Fe,{label:"State",name:"school.state",options:k.map((e=>e.name)),value:P,onChange:e=>ae({name:"State",data:null===e||void 0===e?void 0:e.target.value}),placeholder:"Select",searchEnabled:!0})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"instituteName",sx:{fontWeight:"500",color:"#8E9091",mb:1},children:"City/Town"}),(0,f.jsx)(ve.A,{fullWidth:!0,children:(0,f.jsxs)(xe.A,{id:"city",name:"school.city",value:M,displayEmpty:!0,size:"small",defaultValue:"",onChange:e=>B(e.target.value),fullWidth:!0,IconComponent:v.A,onClose:()=>se(""),MenuProps:{PaperProps:{sx:{maxHeight:300,"&.MuiPaper-root":{boxShadow:3,borderRadius:"15px !important"}}}},children:[(0,f.jsx)(je.A,{children:(0,f.jsx)(he.A,{size:"small",autoFocus:!0,placeholder:"Search City...",fullWidth:!0,autoComplete:"off",value:le,onChange:e=>se(e.target.value),InputProps:{startAdornment:(0,f.jsx)(ye.A,{position:"start",children:(0,f.jsx)(Te.A,{})})},onKeyDown:e=>{"Escape"!==e.key&&e.stopPropagation()}})}),(0,f.jsx)(me.A,{value:"",disabled:!0,children:P?"Select city":"Please select state"}),re.length>0?re.map((e=>(0,f.jsx)(me.A,{value:e.name,children:e.name},e.name))):P&&(0,f.jsx)(me.A,{disabled:!0,children:"No cities available"}),!N.some((e=>e.name===M))&&void 0!==M&&""!==M&&(0,f.jsx)(me.A,{value:M,children:M},M),(0,f.jsx)(me.A,{sx:{fontSize:"14px !important",display:"flex",alignItems:"center",whiteSpace:"normal",color:"#1cbeb5 !important"},onClick:()=>{w((0,C.DE)({show:!0,data:{container:{name:"customfield",data:{name:"school.city",fieldName:M,setFieldName:de,placeholder:"Enter your city"},dimensions:{width:"450px"}},type:"custom"}}))},children:"Can't find city"})]})})]}),(0,f.jsx)(j.Ay,{item:!0,xs:12,sx:{display:"flex",justifyContent:"end",my:2,mr:10},children:(0,f.jsx)(ke.S,{handleSubmit:r,width:"100px",children:te?(0,f.jsx)("img",{src:b.A.standardLoader,alt:"load",style:{width:"1rem",height:"1rem"}}):"Save"})})]})})}})}):(0,f.jsx)(n.A,{sx:{boxShadow:2,borderRadius:3,background:"#fff",p:3},children:(0,f.jsxs)(j.Ay,{container:!0,spacing:2,children:[(0,f.jsxs)(j.Ay,{item:!0,xs:12,sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,f.jsx)(l.A,{variant:"h6",sx:{fontWeight:600,color:"#495052"},children:"Grade 10 / School Details"}),(0,f.jsx)(G.A,{variant:"outlined",sx:[{border:"2px solid #F48438 ",borderRadius:"20px",color:"#3B3F76",fontSize:{lg:"16px",xs:"12px"},width:{lg:"100px",xs:"90px"},padding:{lg:"8px",xs:"6px"}}],onClick:()=>ee(!0),children:"Edit"})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500},children:"Institution Name"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:(null===(p=S)||void 0===p?void 0:p.instituteName)||"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"Board"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:J||"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"Grading System"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:V||"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"Score"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:H||"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"Language of Instruction"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:(null===(g=S)||void 0===g?void 0:g.languageOfInstruction)||"NA"})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500},children:"Country"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:F||"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"State/Province"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:P||"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"City/Town"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:M||"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"Start Date"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:null!==(A=S)&&void 0!==A&&A.startDate?S.startDate.split("T")[0]:"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"End Date"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:null!==(y=S)&&void 0!==y&&y.endDate?S.endDate.split("T")[0]:"NA"})]})]})})})},Le=e=>{var t;let{data:i,profileData:o}=e;const a=(0,r.jL)(),[d,c]=(0,s.useState)([]),[u,x]=(0,s.useState)([]),[m,h]=(0,s.useState)([]),[p,A]=(0,s.useState)([]),[y,S]=(0,s.useState)((null===i||void 0===i?void 0:i.instituteName)||""),[w]=(0,s.useState)((null===o||void 0===o?void 0:o.postGraduation)||{});console.log(w);const[D,E]=(0,s.useState)(null!==i&&void 0!==i&&i.affiliatedUniversity?[i.affiliatedUniversity]:[]),[k,W]=(0,s.useState)((null===i||void 0===i?void 0:i.affiliatedUniversity)||""),[N,T]=(0,s.useState)((null===i||void 0===i?void 0:i.specialization)||""),[F,z]=(0,s.useState)(null!==i&&void 0!==i&&i.degreeProgram?null===i||void 0===i?void 0:i.degreeProgram:""),[P,L]=(0,s.useState)(!1),[M,B]=(0,s.useState)(""),[O,q]=(0,s.useState)(null===i||void 0===i?void 0:i.gradingSystem),[V,Y]=(0,s.useState)(null===i||void 0===i?void 0:i.totalScore),H=(0,r.GV)((e=>e.profile)),[_,U]=(0,s.useState)(null===H||void 0===H||null===(t=H.data)||void 0===t?void 0:t.IEH),[K,J]=(0,s.useState)(!1),[Q,$]=(0,s.useState)(!1),[ee,te]=(0,s.useState)((null===i||void 0===i?void 0:i.country)||"India"),[ie,ne]=(0,s.useState)(null===i||void 0===i?void 0:i.state),[oe,ae]=(0,s.useState)(null===i||void 0===i?void 0:i.city),[le,se]=(0,s.useState)(!1),[re,de]=(0,s.useState)(""),ce=d.find((e=>e.name===ee)),Pe=u.find((e=>e.name===ie));(0,s.useEffect)((()=>{(async()=>{const e=await we.A.getAllCountries();c(e)})()}),[]);const Re=Ie.Ik().shape({postGraduation:Ie.Ik().shape({startDate:Ie.p6().required("Start Date is required"),endDate:Ie.p6().when("isCompleted",{is:!0,then:e=>e.required("End Date is required")}).nullable().test("not-same-date","Start date and end date cannot be the same.",(function(e){const{startDate:t}=this.parent;if(!t||!e)return!0;const i=new Date(t),n=new Date(e);return i.getFullYear()!==n.getFullYear()||i.getMonth()!==n.getMonth()||i.getDate()!==n.getDate()}))})});(0,s.useEffect)((()=>{(async()=>{var e,t;const i=await De.Ay.getStatesOfCountry(null===ce||void 0===ce?void 0:ce.isoCode);x(i);const n=await Ee.A.getCitiesOfState(null!==(e=null===Pe||void 0===Pe?void 0:Pe.countryCode)&&void 0!==e?e:"",null!==(t=null===Pe||void 0===Pe?void 0:Pe.isoCode)&&void 0!==t?t:"");h(n)})()}),[ce,Pe]);const Ge=e=>{const t=e.target.value;de(t),S(t)};(0,s.useEffect)((()=>{re.length>3?(se(!0),J(!0),(0,I.nw)(re,1,10,1,0,0,0,0).then((e=>{var t;A((null===(t=e.data)||void 0===t?void 0:t.institutions)||[]),se(!1)})).catch((e=>{console.error("Error fetching institutions:",e),se(!1)}))):(A([]),J(!1))}),[re]);const[Le,Me]=(0,s.useState)(!1),Be={PaperProps:{style:{maxHeight:224,width:150}}},Oe={postGraduation:{instituteName:y,city:oe,state:ie,country:ee,specialization:N,degreeProgram:F,gradingSystem:O,affiliatedUniversity:k,totalScore:V,startDate:null!==i&&void 0!==i&&i.startDate?null===i||void 0===i?void 0:i.startDate:(new Date).toISOString(),endDate:null!==i&&void 0!==i&&i.endDate?i.endDate:(new Date).toISOString(),backlogs:null===i||void 0===i?void 0:i.backlogs,isCompleted:null===i||void 0===i?void 0:i.isCompleted,custom:Le}};console.log("post",Oe);const[qe,Ve]=(0,s.useState)([]);(0,s.useEffect)((()=>{const e=R.bh[0][null===i||void 0===i?void 0:i.degreeProgram]||[];Ve(e)}),[null===i||void 0===i?void 0:i.degreeProgram]);const Ye=e=>{var t;"Other"===e?(S(""),L(!1),de(""),Me(!0),a((0,C.DE)({show:!0,data:{container:{name:"customfield",data:{name:"postGraduation.institutionName",fieldName:y,setFieldName:S,placeholder:"Enter your institution name"},dimensions:{width:"450px"}},type:"custom"}}))):(S(null===e||void 0===e?void 0:e.InstitutionName),E((null===e||void 0===e?void 0:e.university)||[]),L(null===e||void 0===e||null===(t=e.IEH)||void 0===t?void 0:t.exists),B(null===e||void 0===e?void 0:e._id),W(""),de(""))},[He,_e]=(0,s.useState)(""),Ue=(0,s.useMemo)((()=>m.filter((e=>e.name.toLowerCase().includes(He.toLowerCase())))),[m,He]),Ke=async e=>{switch(e.name){case"Country":te(e.data),ne(""),ae(""),h([]);const t=d.find((t=>t.name===e.data));if(t){const e=await De.Ay.getStatesOfCountry(t.isoCode);x(e)}break;case"State":ae(""),ne(e.data);const i=u.find((t=>t.name===e.data));if(i){const e=await Ee.A.getCitiesOfState(i.countryCode,i.isoCode);h(e)}break;case"City":ae(e.data)}},Je=async e=>{try{$(!0);const t=await(0,I.oS)(e);if(t){a((0,Ce.dy)(t.data.data.education.postGraduation));const e=t.data.data.education.postGraduation;i.startDate=e.startDate,i.endDate=e.endDate,i.isCompleted=e.isCompleted,i.affiliatedUniversity=e.affiliatedUniversity,i.specialization=e.specialization,i.degreeProgram=e.degreeProgram,i.gradingSystem=e.gradingSystem,i.totalScore=e.totalScore,i.backlogs=e.backlogs,i.country=e.country,i.state=e.state,i.city=e.city,i.instituteName=e.instituteName,$(!1),a((0,C.DE)({show:!0,data:{container:{name:"success",data:"Post graduate Details are added succesfully",dimensions:{width:"35%",height:"40%",show:"none"}},type:"custom"}}))}}catch(t){$(!1)}};console.log("Masters",i);const[Ze,Qe]=(0,s.useState)(!1);return(0,f.jsx)(f.Fragment,{children:Ze?(0,f.jsx)("div",{children:(0,f.jsx)(be.l1,{initialValues:Oe,validationSchema:Re,enableReinitialize:!0,onSubmit:e=>Je(e),children:e=>{var t,i,o,s,r;let{touched:c,errors:x,values:h,handleChange:w,setFieldValue:E}=e;return(0,f.jsx)(be.lV,{style:{},children:(0,f.jsxs)(j.Ay,{container:!0,spacing:3,sx:{px:2},children:[(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"instituteName",sx:{fontWeight:"500",color:"#8E9091",mb:1},children:"Degree Name"}),(0,f.jsxs)(xe.A,{size:"small",id:"Country",name:"postGraduation.degreeProgram",displayEmpty:!0,defaultValue:"",value:F,onChange:e=>{((e,t)=>{const i=e.target.value,n=R.bh[0][i]||[];Ve(n),t("postGraduation.programMajor","")})(e,E),z(e.target.value)},fullWidth:!0,sx:{"& .Mui-error .MuiOutlinedInput-notchedOutline":{borderColor:"red !important"}},MenuProps:Be,IconComponent:v.A,children:[(0,f.jsx)(me.A,{disabled:!0,value:"",sx:{"& .MuiTypography-root":{fontSize:"14px !important"}},children:"Select"}),Object.keys(R.bh[0]).map((e=>(0,f.jsx)(me.A,{value:e,sx:{"& .MuiTypography-root":{fontSize:"14px !important"},"& .MuiSvgIcon-root ":{fontSize:"1rem"},whiteSpace:"normal"},children:e},e))),!Object.keys(R.bh[0]).includes(F)&&""!==F&&(0,f.jsx)(me.A,{value:F,children:F},F),(0,f.jsx)(me.A,{sx:{fontSize:"14px !important",display:"flex",alignItems:"center",whiteSpace:"normal",color:"#1cbeb5  !important"},onClick:()=>{Me(!0),a((0,C.DE)({show:!0,data:{container:{name:"customfield",data:{name:"postGraduation.degreeProgram",fieldName:F,setFieldName:z,placeholder:"Enter your degree name"},dimensions:{width:"450px"}},type:"custom"}}))},children:"Can't find your degree"})]})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"instituteName",sx:{fontWeight:"500",color:"#8E9091",mb:1},children:"Specialization"}),(0,f.jsxs)(xe.A,{size:"small",id:"Country",name:"postGraduation.specialization",displayEmpty:!0,defaultValue:"",value:N,onChange:e=>T(e.target.value),fullWidth:!0,sx:{"& .Mui-error .MuiOutlinedInput-notchedOutline":{borderColor:"red !important"}},MenuProps:Be,IconComponent:v.A,children:[(0,f.jsx)(me.A,{disabled:!0,value:"",sx:{"& .MuiTypography-root":{fontSize:"14px !important"}},children:"Select"}),null===qe||void 0===qe?void 0:qe.map((e=>(0,f.jsx)(me.A,{value:e,sx:{"& .MuiTypography-root":{fontSize:"14px !important"},"& .MuiSvgIcon-root ":{fontSize:"1rem"},whiteSpace:"normal"},children:e},e))),!qe.includes(N)&&""!==N&&(0,f.jsx)(me.A,{value:N,children:N},N),(0,f.jsx)(me.A,{sx:{fontSize:"14px !important",display:"flex",alignItems:"center",whiteSpace:"normal",color:"#1cbeb5  !important"},onClick:()=>{Me(!0),a((0,C.DE)({show:!0,data:{container:{name:"customfield",data:{name:"postGraduation.specialization",fieldName:N,setFieldName:T,placeholder:"Enter your specialization"},dimensions:{width:"450px"}},type:"custom"}}))},children:"Can't find your specialization"})]}),(0,f.jsx)(be.Kw,{name:"postGraduation.specialization",component:"div",className:"error"})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"instituteName",sx:{fontWeight:"500",color:"#8E9091",mb:1},children:"Name of Institution"}),(0,f.jsxs)(n.A,{sx:{width:"100%",position:"relative"},children:[(0,f.jsx)(he.A,{value:y,onChange:Ge,placeholder:"Search for an institution",variant:"outlined",name:"postGraduation.instituteName",size:"small",autoComplete:"off",fullWidth:!0,InputProps:{endAdornment:(0,f.jsxs)(f.Fragment,{children:[le&&(0,f.jsx)(pe.A,{color:"inherit",size:20}),y&&(0,f.jsx)(We.A,{sx:{cursor:"pointer"},onClick:()=>{S(""),A([]),de(""),J(!1)}})]})}}),le||p.length>0||K&&0===p.length?(0,f.jsxs)(n.A,{sx:{position:"absolute",zIndex:1,backgroundColor:"#fff",boxShadow:1,maxHeight:"200px",overflowY:"auto",width:"100%"},children:[p.map(((e,t)=>{var i;return(0,f.jsxs)(me.A,{sx:{fontSize:"14px !important",display:"flex",alignItems:"center",whiteSpace:"normal"},onClick:()=>Ye(e),children:[null===e||void 0===e?void 0:e.InstitutionName,(null===e||void 0===e||null===(i=e.IEH)||void 0===i?void 0:i.exists)&&(0,f.jsx)(Ne.A,{sx:{fontSize:"1.1rem",color:"orange"}}),(null===e||void 0===e?void 0:e.District)&&", ".concat(null===e||void 0===e?void 0:e.District)]},t)})),!le&&K&&(0,f.jsx)(me.A,{sx:{fontSize:"14px !important",display:"flex",whiteSpace:"normal",color:"#1cbeb5  !important"},onClick:()=>Ye("Other"),children:"Can't find institution"})]}):null]}),(0,f.jsx)(be.Kw,{name:"postGraduation.instituteName",component:"div",className:"error"})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"affiliatedUniversity",sx:{fontWeight:"500",color:"#8E9091",mb:1},children:"Affiliated University"}),(0,f.jsxs)(xe.A,{size:"small",id:"affiliatedUniversity",name:"postGraduation.affiliatedUniversity",displayEmpty:!0,value:k,onChange:e=>W(e.target.value),fullWidth:!0,IconComponent:v.A,children:[(0,f.jsx)(me.A,{disabled:!0,value:"",children:"Select University"}),D.map((e=>(0,f.jsx)(me.A,{value:e,children:e},e))),!D.includes(k)&&""!==N&&(0,f.jsx)(me.A,{value:k,children:k},k),(0,f.jsx)(me.A,{sx:{fontSize:"14px !important",display:"flex",alignItems:"center",whiteSpace:"normal",color:"#1cbeb5  !important"},onClick:()=>{Me(!0),a((0,C.DE)({show:!0,data:{container:{name:"customfield",data:{name:"postGraduation.affiliatedUniversity",fieldName:k,setFieldName:W,placeholder:"Enter your university"},dimensions:{width:"450px"}},type:"custom"}}))},children:"Can't find university"})]}),(0,f.jsx)(be.Kw,{name:"postGraduation.affiliatedUniversity",component:"div",className:"error"})]}),P?(0,f.jsxs)(j.Ay,{item:!0,xs:12,sx:{display:"flex",gap:"1rem",alignItems:"center"},children:[(0,f.jsxs)(l.A,{children:["This college is a member of ",(0,f.jsx)("b",{style:{color:"#3b3f76"},children:"IEH"})," . You need to verify to get benefits."]}),"Verification Request Initiated"===(null===_||void 0===_?void 0:_.verificationStatus)?"":(0,f.jsx)(G.A,{sx:g.Q4,onClick:()=>a((0,C.DE)({show:!0,data:{container:{name:"ieh",data:{id:M,setIEHStatus:U},dimensions:{width:"450px"}},type:"custom"}})),children:"Verify"})]}):"","Verification Request Initiated"===(null===_||void 0===_?void 0:_.verificationStatus)?(0,f.jsx)(j.Ay,{item:!0,xs:12,children:(0,f.jsx)(l.A,{children:"Your IEH verification request is initiated"})}):"",(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"instituteName",sx:{fontWeight:"500",color:"#8E9091",mb:1},children:"Grading System"}),(0,f.jsxs)(xe.A,{id:"grading-system",size:"small",name:"gradingSystem",displayEmpty:!0,defaultValue:"",value:O,onChange:e=>(q(e.target.value),void Y("")),fullWidth:!0,IconComponent:v.A,children:[(0,f.jsx)(me.A,{value:"",disabled:!0,children:"Select grade"}),(0,f.jsx)(me.A,{value:"percentage",children:"Percentage"}),(0,f.jsx)(me.A,{value:"gpa",children:"CGPA    4.0 scale"}),(0,f.jsx)(me.A,{value:"cgpa",children:"CGPA   10.0 scale"}),(0,f.jsx)(me.A,{value:"grade",children:"Grade"})]}),(0,f.jsx)(be.Kw,{name:"postGraduation.gradingSystem",component:"div",className:"error"})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsxs)(ue.A,{id:"instituteName",sx:{fontWeight:"500",color:"#8E9091",mb:1},children:["Score"," "]}),"grade"===O?(0,f.jsxs)(xe.A,{size:"small",id:"totalScore",name:"postGraduation.totalScore",displayEmpty:!0,value:V,onChange:e=>Y(e.target.value),fullWidth:!0,IconComponent:v.A,MenuProps:Be,children:[(0,f.jsx)(me.A,{disabled:!0,value:"",children:"Select Grade"}),["A","A+","B","B+","C","C+","D","D+"].map((e=>(0,f.jsx)(me.A,{value:e,children:e},e)))]}):(0,f.jsx)(he.A,{name:"postGraduation.totalScore",size:"small",fullWidth:!0,value:V,onChange:e=>Y(e.target.value),placeholder:"percentage"===O?"Enter percentage":"grade"===O?"Enter grade":"Enter score",inputProps:{step:"0.1",min:"percentage"===O||"gpa"===O||"cgpa"===O?1:void 0,max:"percentage"===O?100:"gpa"===O?4:"cgpa"===O?10:void 0,list:"grade"===O?"grades":void 0,onInput:e=>{const t=e.target,i=parseFloat(t.value);if("Grade"!==O){(i<(("percentage"===O||"gpa"===O||"cgpa"===O?1:void 0)||0)||i>(("percentage"===O?100:"gpa"===O?4:"cgpa"===O?10:void 0)||1/0))&&(t.value=i.toString().slice(0,-1))}}}}),(0,f.jsx)(be.Kw,{name:"postGraduation.totalScore",component:"div",className:"error"})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"",sx:{color:"#8E9091",fontWeight:500},children:"Education status"}),(0,f.jsx)(ve.A,{children:(0,f.jsxs)(ge.A,{row:!0,"aria-labelledby":"education-status",name:"postGraduation.isCompleted",value:h.postGraduation.isCompleted,onChange:e=>{w({target:{name:"postGraduation.isCompleted",value:"true"===e.target.value}})},children:[(0,f.jsx)(fe.A,{value:"true",control:(0,f.jsx)(Ae.A,{size:"small",sx:{"&.MuiRadio-root.Mui-checked":{color:"#3B3F76 !important"}}}),label:"Completed"}),(0,f.jsx)(fe.A,{value:"false",control:(0,f.jsx)(Ae.A,{size:"small",sx:{"&.MuiRadio-root.Mui-checked":{color:"#3B3F76 !important"}}}),label:"Pursuing"})]})})]}),(0,f.jsx)(j.Ay,{item:!0,xs:12,sm:6}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"instituteName",sx:{fontWeight:"500",color:"#8E9091",mb:1},children:"Start Date"}),(0,f.jsx)(ze.A,{selectedDate:null===h||void 0===h||null===(t=h.postGraduation)||void 0===t?void 0:t.startDate,onChange:e=>w({target:{name:"postGraduation.startDate",value:null===e||void 0===e?void 0:e.toISOString().slice(0,10)}}),maxDate:new Date,placeholderText:"Start Date"}),(0,f.jsx)(be.Kw,{name:"postGraduation.startDate",component:"div",className:"error"})]}),(0,f.jsx)(j.Ay,{item:!0,xs:12,sm:6,children:("true"===h.postGraduation.isCompleted||!0===h.postGraduation.isCompleted)&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(ue.A,{sx:{fontWeight:"500",color:"#8E9091",mb:1},children:"End Date"}),(0,f.jsx)(ze.A,{selectedDate:null===h||void 0===h||null===(i=h.postGraduation)||void 0===i?void 0:i.endDate,onChange:e=>w({target:{name:"postGraduation.endDate",value:null===e||void 0===e?void 0:e.toISOString().slice(0,10)}}),minDate:h.postGraduation.startDate?new Date(new Date(h.postGraduation.startDate).setFullYear(new Date(h.postGraduation.startDate).getFullYear()+1)):void 0,maxDate:h.postGraduation.startDate?(()=>{const e=new Date(new Date(h.postGraduation.startDate).setFullYear(new Date(h.postGraduation.startDate).getFullYear()+12));return e>new Date?new Date:e})():new Date,placeholderText:"End Date"}),(null===(o=c.postGraduation)||void 0===o?void 0:o.endDate)&&"string"===typeof(null===(s=x.postGraduation)||void 0===s?void 0:s.endDate)&&(0,f.jsx)("p",{style:{color:"red",marginTop:"5px"},children:null===(r=x.postGraduation)||void 0===r?void 0:r.endDate})]})}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsxs)(ue.A,{id:"",sx:{color:"#8E9091",display:"flex",alignItems:"center",mb:1},children:["Backlogs",(0,f.jsx)(Z.A,{slotProps:{tooltip:{sx:{color:"#514E6A",backgroundColor:"#ffff",boxShadow:2,cursor:"pointer"}}},title:"Backlog refers to a failed subject or exam that you have not cleared in your first attempt",placement:"right",children:(0,f.jsx)(X.A,{sx:{color:"#3B3F76",ml:1,cursor:"pointer",fontSize:"1rem",float:"right"}})})]}),(0,f.jsx)(Se.A,{id:"name",type:"number",placeholder:"Number of backlogs(if any)",name:"postGraduation.backlogs",value:h.postGraduation.backlogs,onChange:w,fullWidth:!0})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"instituteName",sx:{fontWeight:"500",color:"#8E9091",mb:1},children:"Country"}),(0,f.jsx)(Fe,{label:"Country",name:"postGraduation.country",options:d.map((e=>e.name)),value:ee,onChange:e=>Ke({name:"Country",data:null===e||void 0===e?void 0:e.target.value}),placeholder:"Select",searchEnabled:!0})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"instituteName",sx:{fontWeight:"500",color:"#8E9091",mb:1},children:"State/Province"}),(0,f.jsx)(Fe,{label:"State",name:"postGraduation.state",options:u.map((e=>e.name)),value:ie,onChange:e=>Ke({name:"State",data:null===e||void 0===e?void 0:e.target.value}),placeholder:"Select",searchEnabled:!0})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"instituteName",sx:{fontWeight:"500",color:"#8E9091",mb:1},children:"City/Town"}),(0,f.jsx)(ve.A,{fullWidth:!0,children:(0,f.jsxs)(xe.A,{id:"city",name:"postGraduation.city",value:oe,displayEmpty:!0,size:"small",defaultValue:"",onChange:e=>ae(e.target.value),fullWidth:!0,IconComponent:v.A,onClose:()=>_e(""),MenuProps:{PaperProps:{sx:{maxHeight:300,"&.MuiPaper-root":{boxShadow:3,borderRadius:"15px !important"}}}},children:[(0,f.jsx)(je.A,{children:(0,f.jsx)(he.A,{size:"small",autoFocus:!0,placeholder:"Search City...",fullWidth:!0,autoComplete:"off",value:He,onChange:e=>_e(e.target.value),InputProps:{startAdornment:(0,f.jsx)(ye.A,{position:"start",children:(0,f.jsx)(Te.A,{})})},onKeyDown:e=>{"Escape"!==e.key&&e.stopPropagation()}})}),(0,f.jsx)(me.A,{value:"",disabled:!0,children:ie?"Select city":"Please select state"}),Ue.length>0?Ue.map((e=>(0,f.jsx)(me.A,{value:e.name,children:e.name},e.name))):ie&&(0,f.jsx)(me.A,{disabled:!0,children:"No cities available"}),!m.some((e=>e.name===oe))&&void 0!==oe&&""!==oe&&(0,f.jsx)(me.A,{value:oe,children:oe},oe),(0,f.jsx)(me.A,{sx:{fontSize:"14px !important",display:"flex",alignItems:"center",whiteSpace:"normal",color:"#1cbeb5 !important"},onClick:()=>{a((0,C.DE)({show:!0,data:{container:{name:"customfield",data:{name:"postGraduation.city",fieldName:oe,setFieldName:ae,placeholder:"Enter your city"},dimensions:{width:"450px"}},type:"custom"}}))},children:"Can't find city"})]})})]}),(0,f.jsx)(j.Ay,{item:!0,xs:12,sx:{display:"flex",justifyContent:"end",my:2,mr:10},children:(0,f.jsx)(ke.S,{handleSubmit:()=>Je,width:"100px",children:Q?(0,f.jsx)("img",{src:b.A.standardLoader,alt:"load",style:{width:"1rem",height:"1rem"}}):"Save"})})]})})}})}):(0,f.jsx)(n.A,{sx:{boxShadow:2,borderRadius:3,background:"#fff",p:3},children:(0,f.jsxs)(j.Ay,{container:!0,spacing:2,children:[(0,f.jsxs)(j.Ay,{item:!0,xs:12,sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,f.jsx)(l.A,{variant:"h6",sx:{fontWeight:600,color:"#495052"},children:"Post Graduation Details"}),(0,f.jsx)(G.A,{variant:"outlined",sx:[{border:"2px solid #F48438 ",borderRadius:"20px",color:"#495052",fontSize:{lg:"16px",xs:"12px"},width:{lg:"100px",xs:"90px"},padding:{lg:"8px",xs:"6px"}}],onClick:()=>Qe(!0),children:"Edit"})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500},children:"Degree Name"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:F||"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"Specialization"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:N||"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"Institution Name"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:y||"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"Affiliated University"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:k||"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"Grading System"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:O||"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"Score"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:V||"NA"})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500},children:"Country"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:ee||"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"State/Province"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:ie||"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"City/Town"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:oe||"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"Start Date"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:null!==i&&void 0!==i&&i.startDate?i.startDate.split("T")[0]:"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"End Date"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:null!==i&&void 0!==i&&i.endDate?i.endDate.split("T")[0]:"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"Backlogs"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:(null===i||void 0===i?void 0:i.backlogs)||"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"Education Status"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:!0===(null===i||void 0===i?void 0:i.isCompleted)||"true"===(null===i||void 0===i?void 0:i.isCompleted)?"Completed":!1===(null===i||void 0===i?void 0:i.isCompleted)||"false"===(null===i||void 0===i?void 0:i.isCompleted)?"Pursuing":"NA"})]})]})})})};var Me=i(77154);const Be=()=>{const e=(0,r.GV)((e=>e.educationhistory)),[t,i]=(0,s.useState)(null),{profileData:o}=(()=>{const[e,t]=(0,s.useState)(null),i=(0,s.useCallback)((async()=>{try{const e=await Me.A.get("https://campusroot.com/api/v1/student/profile",{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))}});t(e.data),localStorage.setItem("user-profile",JSON.stringify(e.data))}catch(e){console.error("\u274c Error fetching profile data:",e)}}),[]);return(0,s.useEffect)((()=>{i()}),[i]),{profileData:e,fetchProfileData:i}})(),a=[{title:"Masters",component:(0,f.jsx)(Le,{data:e.data.postGraduation,profileData:o})},{title:"Under Graduation",component:(0,f.jsx)(Pe,{data:e.data.underGraduation,profileData:o})},{title:"Diploma / Grade 12",component:(0,f.jsx)(Re,{data:e.data.plus2,profileData:o})},{title:"Grade 10",component:(0,f.jsx)(Ge,{data:e.data.school,profileData:o})}];return(0,f.jsxs)(n.A,{sx:{background:"#fff",borderRadius:"10px",height:"75vh",overflowY:"scroll",px:3},children:[(0,f.jsx)(l.A,{fontSize:"1rem",gutterBottom:!0,color:"#495052",sx:{m:1,fontWeight:"500"},children:"Enter your current and last education details"}),a.map(((e,n)=>(0,f.jsx)(N,{title:e.title,isOpen:t===n,onToggle:()=>(e=>{i((t=>t===e?null:e))})(n),children:e.component},n)))]})};var Oe=i(39336),qe=i(90035),Ve=i(68137),Ye=i(4675),He=i(74802),_e=i(43608),Ue=i(59845),Ke=i(93610);const Je=e=>{var t,i,o,d,c,u,m,h,p,v,g,A;const{setQaTab:y,qaTab:S}=e,C=Array.isArray(e.missingFields)?e.missingFields:[],[w,D]=(C.indexOf(S),(0,a.Zp)(),(0,s.useState)()),E=(0,r.jL)(),[k,W]=(0,s.useState)(!1),N=(0,r.GV)((e=>e.testscores)),[T,F]=((0,r.GV)((e=>e.sharedInfo)),(0,s.useState)("")),[z,P]=(0,s.useState)({}),R=null===N||void 0===N||null===(t=N.data)||void 0===t?void 0:t.find((e=>["english","ielts","toefl","international english language testing system","test of english as a foreign language","pearson test of english","duolingo","pte","det"].some((t=>{var i;return null===(i=e.name)||void 0===i?void 0:i.toLowerCase().includes(t)})))),[L,M]=(0,s.useState)(!1),[B,O]=(0,s.useState)(!1),[q,V]=(0,s.useState)("yes"),[Y,H]=(0,s.useState)(""),[_,U]=(0,s.useState)(""),[K,J]=(0,s.useState)(""),[Z,Q]=(b.A.pdfIcon,(0,s.useState)(!1)),[$,X]=(0,s.useState)(null),[ee,te]=(0,s.useState)(null),[ie,ne]=(0,s.useState)(null),[oe,ae]=(0,s.useState)(null),[le,se]=(0,s.useState)(!1),[re,de]=(0,s.useState)(!1),[ce,pe]=(0,s.useState)(!1),[je,ye]=(0,s.useState)(!1),[be,Se]=(0,s.useState)({}),[Ce,we]=(0,s.useState)({});(0,s.useEffect)((()=>{var e,t;console.log("testscoresData.data",null===N||void 0===N?void 0:N.data);const i=null===N||void 0===N||null===(e=N.data)||void 0===e?void 0:e.find((e=>Ke.q6.find((t=>t.fullForm==e.name))));if(console.log("Raw English Test Data:",i),i&&i.scores&&Array.isArray(i.scores[0])){const e=i,t=e.scores[0].map((e=>({label:e.description||"",value:e.count||"",range:e.range})));if(1===t.length&&"total"===t[0].label.toLowerCase())te({name:e.name,scores:t,testDate:e.testDate||"",document:e.document||{name:"",icon:b.A.pdfIcon}});else if(t.find((e=>"total"===e.label.toLowerCase())))te({name:e.name,scores:t,testDate:e.testDate||"",document:e.document||{name:"",icon:b.A.pdfIcon}});else{const i=t.filter((e=>e.value&&!isNaN(Number(e.value)))).reduce(((e,t)=>e+Number(t.value)),0);t.push({label:"Total",value:String(i)}),te({name:e.name,scores:t,testDate:e.testDate||"",document:e.document||{name:"",icon:b.A.pdfIcon}})}}else te(null);const n=null===N||void 0===N||null===(t=N.data)||void 0===t?void 0:t.find((e=>["gre","graduate record examination","gmat","graduate management admission test"].some((t=>{var i;return null===(i=e.name)||void 0===i?void 0:i.toLowerCase().includes(t)}))));if(console.log("Raw GRE Test Data:",n),n&&n.scores&&Array.isArray(n.scores[0])){const e=n,t=e.scores[0].map((e=>({label:e.description||"",value:e.count||"",range:e.range})));if(1===t.length&&"total"===t[0].label.toLowerCase())X({name:e.name,scores:t,testDate:e.testDate||"",document:e.document||{name:"",icon:b.A.pdfIcon}});else if(t.find((e=>"total"===e.label.toLowerCase())))X({name:e.name,scores:t,testDate:e.testDate||"",document:e.document||{name:"",icon:b.A.pdfIcon}});else{const i=t.filter((e=>e.value&&!isNaN(Number(e.value)))).reduce(((e,t)=>e+Number(t.value)),0);t.push({label:"Total",value:String(i)}),X({name:e.name,scores:t,testDate:e.testDate||"",document:e.document||{name:"",icon:b.A.pdfIcon}})}}else X(null);console.log("englishTestData",ee),console.log("greTestData",$)}),[null===N||void 0===N?void 0:N.data]);let De=null;if(R&&Array.isArray(R.scores)&&R.scores.length>0){let e=null;var Ee;if(Array.isArray(R.scores[0])?R.scores[0].length>0&&(e=R.scores[0][0]):e=R.scores[0],e)De=(0,f.jsxs)(n.A,{children:[(0,f.jsx)(l.A,{color:"#8E9091",fontWeight:600,sx:{mb:1,color:"#8E9091"},children:null===(Ee=Ue.p.find((e=>e.fullform==R.name)))||void 0===Ee?void 0:Ee.text}),(0,f.jsx)(n.A,{sx:{display:"flex",gap:3},children:(0,f.jsxs)(n.A,{sx:{minWidth:90},children:[(0,f.jsx)(l.A,{fontWeight:700,color:"#495052",children:e.count}),(0,f.jsx)(l.A,{color:"#8E9091",fontSize:14,children:e.description})]})})]})}const ke=null===N||void 0===N||null===(i=N.data)||void 0===i?void 0:i.find((e=>["gre","graduate record examination","gmat","graduate management admission test"].some((t=>{var i;return null===(i=e.name)||void 0===i?void 0:i.toLowerCase().includes(t)}))));let We=null;if(ke&&Array.isArray(ke.scores)&&ke.scores.length>0){let e=null;Array.isArray(ke.scores[0])?ke.scores[0].length>0&&(e=ke.scores[0][0]):e=ke.scores[0],e&&(We=(0,f.jsxs)(n.A,{children:[(0,f.jsx)(l.A,{fontWeight:600,sx:{mb:1,color:"#8E9091"},children:ke.name}),(0,f.jsx)(n.A,{sx:{display:"flex",gap:3},children:(0,f.jsxs)(n.A,{sx:{minWidth:90},children:[(0,f.jsx)(l.A,{fontWeight:700,color:"#495052",children:e.count}),(0,f.jsx)(l.A,{color:"#8E9091",fontSize:14,children:e.description})]})})]}))}return console.log("English Test ",ee),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(n.A,{sx:{background:"#fff",borderRadius:"20px",boxShadow:1,p:3,mb:3,display:"flex",flexDirection:"column",minWidth:0},children:[(0,f.jsxs)(n.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,f.jsx)(l.A,{sx:{color:"#8E9091"},variant:"h6",fontWeight:700,children:"English Proficiency Test"}),(0,f.jsxs)(n.A,{sx:{display:"flex",gap:1},children:[(0,f.jsx)(G.A,{variant:"outlined",size:"small",sx:[{border:"2px solid #F48438 ",borderRadius:"20px",color:"#495052",fontSize:{lg:"16px",xs:"12px"},width:{lg:"100px",xs:"90px"},padding:{lg:"4px",xs:"2px"}}],onClick:()=>{se(!0),pe(!1),ne(ee||{name:"",scores:[{label:"Reading",value:""},{label:"Writing",value:""},{label:"Speaking",value:""},{label:"Listening",value:""}],testDate:"",document:{name:"",icon:b.A.pdfIcon}})},children:"Edit"}),(0,f.jsx)(G.A,{variant:"outlined",size:"small",sx:{borderRadius:"50%",border:"2px solid #F48438 ",minWidth:32,width:36,height:36,color:"#495052"},onClick:()=>{pe(!0),se(!0),ne({name:"",scores:[{label:"Reading",value:""},{label:"Writing",value:""},{label:"Speaking",value:""},{label:"Listening",value:""}],testDate:"",document:{name:"",icon:b.A.pdfIcon}})},children:"+"})]})]}),(0,f.jsxs)(n.A,{sx:{mt:2,borderRadius:"10px",p:1},children:[(0,f.jsx)(l.A,{sx:{color:"#495052",fontSize:15,mb:1},children:"Have you taken any English Proficiency test"}),ee&&De?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(n.A,{children:[(0,f.jsx)(l.A,{fontWeight:600,sx:{mb:1},children:null===(o=Ue.p.find((e=>e.fullform==ee.name)))||void 0===o?void 0:o.text}),(0,f.jsx)(n.A,{sx:{display:"flex",gap:3},children:ee.scores.map(((e,t)=>(0,f.jsxs)(n.A,{sx:{minWidth:90},children:[(0,f.jsx)(l.A,{fontWeight:700,color:"#495052",children:e.value}),(0,f.jsx)(l.A,{color:"#8E9091",fontSize:14,children:e.label})]},t)))})]}),(0,f.jsx)(Oe.A,{sx:{my:2}}),(0,f.jsx)(n.A,{children:De})]}):ee?(0,f.jsxs)(n.A,{children:[(0,f.jsx)(l.A,{fontWeight:600,sx:{mb:1},children:ee.name}),(0,f.jsx)(n.A,{sx:{display:"flex",gap:3},children:ee.scores.map(((e,t)=>(0,f.jsxs)(n.A,{sx:{minWidth:90},children:[(0,f.jsx)(l.A,{fontWeight:700,color:"#1C1F40",children:e.value}),(0,f.jsx)(l.A,{color:"#8E9091",fontSize:14,children:e.label})]},t)))})]}):De?(0,f.jsx)(n.A,{children:De}):(0,f.jsx)(l.A,{fontWeight:700,children:"NA"})]})]}),(0,f.jsxs)(n.A,{sx:{background:"#fff",borderRadius:"20px",boxShadow:1,p:3,mb:3,display:"flex",flexDirection:"column",minWidth:0},children:[(0,f.jsxs)(n.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,f.jsx)(l.A,{sx:{color:"#8E9091"},variant:"h6",fontWeight:700,children:"Graduate Record Examination/Graduate Management Admission Test"}),(0,f.jsxs)(n.A,{sx:{display:"flex",gap:1},children:[(0,f.jsx)(G.A,{variant:"outlined",size:"small",sx:[{border:"2px solid #F48438 ",borderRadius:"20px",color:"#495052",fontSize:{lg:"16px",xs:"12px"},width:{lg:"100px",xs:"90px"},padding:{lg:"4px",xs:"2px"}}],onClick:()=>{de(!0),ye(!1),ae($||{name:"",scores:[{label:"Verbal Reasoning",value:""},{label:"Quantitative Reasoning",value:""},{label:"Analytical Writing",value:""}],testDate:"",document:{name:"",icon:b.A.pdfIcon}})},children:"Edit"}),(0,f.jsx)(G.A,{variant:"outlined",size:"small",sx:{borderRadius:"50%",border:"2px solid #F48438 ",minWidth:36,width:36,height:36,color:"#495052"},onClick:()=>{ye(!0),de(!0),ae({name:"",scores:[{label:"Verbal Reasoning",value:""},{label:"Quantitative Reasoning",value:""},{label:"Analytical Writing",value:""}],testDate:"",document:{name:"",icon:b.A.pdfIcon}})},children:"+"})]})]}),(0,f.jsx)(n.A,{sx:{mt:2,borderRadius:"10px",p:1},children:$&&We?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(n.A,{children:[(0,f.jsx)(l.A,{fontWeight:600,sx:{mb:1},children:$.name}),(0,f.jsx)(n.A,{sx:{display:"flex",gap:3},children:$.scores.map(((e,t)=>(0,f.jsxs)(n.A,{sx:{minWidth:90},children:[(0,f.jsx)(l.A,{fontWeight:700,color:"#1C1F40",children:e.value}),(0,f.jsx)(l.A,{color:"#8E9091",fontSize:14,children:e.label})]},t)))})]}),(0,f.jsx)(Oe.A,{sx:{my:2}}),(0,f.jsx)(n.A,{children:We})]}):$?(0,f.jsxs)(n.A,{children:[(0,f.jsx)(l.A,{fontWeight:600,sx:{mb:1},children:$.name}),(0,f.jsx)(n.A,{sx:{display:"flex",gap:3},children:$.scores.map(((e,t)=>(0,f.jsxs)(n.A,{sx:{minWidth:90},children:[(0,f.jsx)(l.A,{fontWeight:700,color:"#1C1F40",children:e.value}),(0,f.jsx)(l.A,{color:"#8E9091",fontSize:14,children:e.label})]},t)))})]}):We?(0,f.jsx)(n.A,{children:We}):(0,f.jsx)(l.A,{fontWeight:700,children:"NA"})})]}),(0,f.jsx)(qe.A,{open:le,onClose:()=>{se(!1),pe(!1)},maxWidth:"md",fullWidth:!0,PaperProps:{sx:{borderRadius:"20px",background:"#fff",boxShadow:4,p:0}},children:(0,f.jsxs)(n.A,{sx:{p:4,position:"relative"},children:[(0,f.jsx)(l.A,{variant:"h6",fontWeight:700,sx:{mb:3,color:"#8E9091"},children:"English Proficiency Test"}),(0,f.jsx)(x.A,{onClick:()=>{se(!1),pe(!1)},sx:{position:"absolute",top:20,right:20},children:(0,f.jsx)(He.A,{})}),(0,f.jsxs)(j.Ay,{container:!0,spacing:3,alignItems:"center",sx:{mb:2},children:[(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,md:4,children:[(0,f.jsx)(l.A,{fontWeight:500,sx:{mb:1,color:"#8E9091"},children:"Have you taken any English Proficiency Test?"}),(0,f.jsxs)(ge.A,{row:!0,value:_,onChange:e=>{U(e.target.value),"no"===e.target.value&&ne({name:"",scores:[{label:"Reading",value:""},{label:"Writing",value:""},{label:"Listening",value:""},{label:"Speaking",value:""}],testDate:"",document:{name:"",icon:b.A.pdfIcon}})},children:[(0,f.jsx)(fe.A,{value:"yes",control:(0,f.jsx)(Ae.A,{sx:{color:"#3B3F76"}}),label:"Yes"}),(0,f.jsx)(fe.A,{value:"no",control:(0,f.jsx)(Ae.A,{sx:{color:"#3B3F76"}}),label:"No"})]}),be.radio&&(0,f.jsx)(l.A,{color:"error",fontSize:13,children:be.radio})]}),"yes"===_&&(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,md:4,children:[(0,f.jsxs)(ve.A,{fullWidth:!0,children:[(0,f.jsx)(ue.A,{children:"Select a Test"}),(0,f.jsx)(xe.A,{label:"Select a Test",value:(null===ie||void 0===ie?void 0:ie.name)||"",onChange:e=>ne((t=>t?{...t,name:e.target.value}:null)),children:[{label:"IELTS",value:"IELTS"},{label:"TOEFL",value:"TOEFL"},{label:"Duolingo",value:"Duolingo"},{label:"PET",value:"PET"}].map((e=>(0,f.jsx)(me.A,{value:e.label,children:e.label},e.value)))})]}),be.name&&(0,f.jsx)(l.A,{color:"error",fontSize:13,children:be.name})]})]}),"yes"===_&&(null===ie||void 0===ie?void 0:ie.name)&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(n.A,{sx:{background:"#f6f7ff",borderRadius:2,p:2,mb:3,fontWeight:600,fontSize:18},children:ie.name.toUpperCase()}),(0,f.jsxs)(j.Ay,{container:!0,spacing:3,children:[(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,md:3,children:[(0,f.jsx)(he.A,{label:"Reading",fullWidth:!0,value:(null===ie||void 0===ie||null===(d=ie.scores[0])||void 0===d?void 0:d.value)||"",onChange:e=>ne((t=>t?{...t,scores:t.scores.map(((t,i)=>0===i?{...t,value:e.target.value}:t))}:null))}),be.score0&&(0,f.jsx)(l.A,{color:"error",fontSize:13,children:be.score0})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,md:3,children:[(0,f.jsx)(he.A,{label:"Writing",fullWidth:!0,value:(null===ie||void 0===ie||null===(c=ie.scores[1])||void 0===c?void 0:c.value)||"",onChange:e=>ne((t=>t?{...t,scores:t.scores.map(((t,i)=>1===i?{...t,value:e.target.value}:t))}:null))}),be.score1&&(0,f.jsx)(l.A,{color:"error",fontSize:13,children:be.score1})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,md:3,children:[(0,f.jsx)(he.A,{label:"Listening",fullWidth:!0,value:(null===ie||void 0===ie||null===(u=ie.scores[2])||void 0===u?void 0:u.value)||"",onChange:e=>ne((t=>t?{...t,scores:t.scores.map(((t,i)=>2===i?{...t,value:e.target.value}:t))}:null))}),be.score2&&(0,f.jsx)(l.A,{color:"error",fontSize:13,children:be.score2})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,md:3,children:[(0,f.jsx)(he.A,{label:"Speaking",fullWidth:!0,value:(null===ie||void 0===ie||null===(m=ie.scores[3])||void 0===m?void 0:m.value)||"",onChange:e=>ne((t=>t?{...t,scores:t.scores.map(((t,i)=>3===i?{...t,value:e.target.value}:t))}:null))}),be.score3&&(0,f.jsx)(l.A,{color:"error",fontSize:13,children:be.score3})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,md:3,children:[(0,f.jsx)(he.A,{label:"Test Date",type:"date",fullWidth:!0,InputLabelProps:{shrink:!0},value:(null===ie||void 0===ie?void 0:ie.testDate)||"",onChange:e=>ne((t=>t?{...t,testDate:e.target.value}:null))}),be.testDate&&(0,f.jsx)(l.A,{color:"error",fontSize:13,children:be.testDate})]}),(0,f.jsx)(j.Ay,{item:!0,xs:12,sm:6,md:6,children:(0,f.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",gap:2,marginTop:"6px"},children:[(0,f.jsxs)(G.A,{component:"label",sx:{border:"1px dashed #aaa",borderRadius:2,minWidth:40,minHeight:40,color:"#3B3F76",background:"#fafaff","&:hover":{background:"#f4f4ff"}},children:[(0,f.jsx)(_e.A,{}),(0,f.jsx)("input",{type:"file",hidden:!0,onChange:e=>{var t;const i=null===(t=e.target.files)||void 0===t?void 0:t[0];i&&ne((e=>e?{...e,document:{name:i.name,icon:b.A.pdfIcon}}:null))}})]}),(0,f.jsx)(l.A,{fontWeight:600,children:"Upload File"}),(null===ie||void 0===ie||null===(h=ie.document)||void 0===h?void 0:h.name)&&(0,f.jsx)(he.A,{value:ie.document.name,size:"small",InputProps:{readOnly:!0},sx:{width:180}})]})})]})]}),(0,f.jsxs)(n.A,{sx:{display:"flex",justifyContent:"flex-end",gap:2,mt:4},children:[(0,f.jsx)(G.A,{onClick:()=>{se(!1),pe(!1)},variant:"outlined",sx:{border:"2px solid #F48438",borderRadius:"20px",px:4,py:1,fontWeight:700,fontSize:18,color:"#495052",background:"#f8f8ff"},children:"Cancel"}),(0,f.jsx)(G.A,{type:"button",variant:"contained",sx:{borderRadius:"20px",px:4,py:1,fontWeight:700,fontSize:18,color:"#fff",background:"#F48438"},onClick:async()=>{var e;if(!(()=>{const e={};return _||(e.radio="Please select Yes or No."),"yes"===_&&(null!==ie&&void 0!==ie&&ie.name||(e.name="Please select a test."),null===ie||void 0===ie||ie.scores.forEach(((t,i)=>{if(t.value){if("Reading"===t.label||"Writing"===t.label||"Listening"===t.label||"Speaking"===t.label){const n=Number(t.value);(isNaN(n)||n<1||n>30)&&(e["score".concat(i)]="Must be 1\u201330.")}}else e["score".concat(i)]="Required."})),null!==ie&&void 0!==ie&&ie.testDate||(e.testDate="Test date required.")),Se(e),0===Object.keys(e).length})())return;const t={name:(null===Ue.p||void 0===Ue.p||null===(e=Ue.p.find((e=>e.text==(null===ie||void 0===ie?void 0:ie.name))))||void 0===e?void 0:e.fullform)||"",scores:((null===ie||void 0===ie?void 0:ie.scores)||[]).map((e=>({description:e.label,count:e.value,range:e.range}))),testDate:(null===ie||void 0===ie?void 0:ie.testDate)||"",document:(null===ie||void 0===ie?void 0:ie.document)||{name:"",icon:b.A.pdfIcon}};let i=!1;const n=((null===N||void 0===N?void 0:N.data)||[]).map((e=>{var n,o;return e.name===t.name?(i=!0,{...e,...t,docId:null!==(n=e.docId)&&void 0!==n?n:void 0,_id:null!==(o=e._id)&&void 0!==o?o:void 0}):e}));i||n.push({...t,docId:void 0,_id:void 0}),E((0,Ve.ox)(n)),await(0,I.oS)({tests:n}),te(ie),se(!1),pe(!1)},children:"Save"}),(0,f.jsx)(G.A,{variant:"outlined",sx:{marginTop:"4px",borderRadius:"50%",minWidth:44,width:42,height:42,color:"#495052",borderColor:"#F48438",fontSize:28,ml:2,border:"2px solid #F48438"},children:"+"})]})]})}),(0,f.jsx)(qe.A,{open:re,onClose:()=>{de(!1),ye(!1)},maxWidth:"md",fullWidth:!0,PaperProps:{sx:{borderRadius:"20px",background:"#fff",boxShadow:4,p:0}},children:(0,f.jsxs)(n.A,{sx:{p:4,position:"relative"},children:[(0,f.jsx)(l.A,{variant:"h6",fontWeight:700,sx:{mb:3,color:"#8E9091"},children:"Graduate Record Examination/Graduate Management Admission Test"}),(0,f.jsx)(x.A,{onClick:()=>{de(!1),ye(!1)},sx:{position:"absolute",top:20,right:20},children:(0,f.jsx)(He.A,{})}),(0,f.jsxs)(j.Ay,{container:!0,spacing:3,alignItems:"center",sx:{mb:2},children:[(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,md:4,children:[(0,f.jsx)(l.A,{fontWeight:500,sx:{mb:1,color:"#8E9091"},children:"Have you taken GRE/GMAT Test?"}),(0,f.jsxs)(ge.A,{row:!0,value:q,onChange:e=>{V(e.target.value),"no"===e.target.value&&ae({name:"",scores:[{label:"Verbal Reasoning",value:""},{label:"Quantitative Reasoning",value:""},{label:"Analytical Writing",value:""}],testDate:"",document:{name:"",icon:b.A.pdfIcon}})},children:[(0,f.jsx)(fe.A,{value:"yes",control:(0,f.jsx)(Ae.A,{sx:{color:"#3B3F76"}}),label:"Yes"}),(0,f.jsx)(fe.A,{value:"no",control:(0,f.jsx)(Ae.A,{sx:{color:"#3B3F76"}}),label:"No"})]}),Ce.radio&&(0,f.jsx)(l.A,{color:"error",fontSize:13,children:Ce.radio})]}),"yes"===q&&(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,md:4,children:[(0,f.jsxs)(ve.A,{fullWidth:!0,children:[(0,f.jsx)(ue.A,{children:"Select a Test"}),(0,f.jsx)(xe.A,{label:"Select a Test",value:(null===oe||void 0===oe?void 0:oe.name)||"",onChange:e=>ae((t=>t?{...t,name:e.target.value}:null)),children:[{label:"GRE",value:"GRE"},{label:"GMAT",value:"GMAT"},{label:"SAT",value:"SAT"},{label:"ACT",value:"ACT"}].map((e=>(0,f.jsx)(me.A,{value:e.label,children:e.label},e.value)))})]}),Ce.name&&(0,f.jsx)(l.A,{color:"error",fontSize:13,children:Ce.name})]})]}),"yes"===q&&(null===oe||void 0===oe?void 0:oe.name)&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(n.A,{sx:{background:"#f6f7ff",borderRadius:2,p:2,mb:3,fontWeight:600,fontSize:18},children:oe.name.toUpperCase()}),(0,f.jsxs)(j.Ay,{container:!0,spacing:3,children:[(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,md:3,children:[(0,f.jsx)(he.A,{label:"Verbal Reasoning",fullWidth:!0,value:(null===oe||void 0===oe||null===(p=oe.scores[0])||void 0===p?void 0:p.value)||"",onChange:e=>ae((t=>t?{...t,scores:t.scores.map(((t,i)=>0===i?{...t,value:e.target.value}:t))}:null))}),Ce.score0&&(0,f.jsx)(l.A,{color:"error",fontSize:13,children:Ce.score0})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,md:3,children:[(0,f.jsx)(he.A,{label:"Quantitative Reasoning",fullWidth:!0,value:(null===oe||void 0===oe||null===(v=oe.scores[1])||void 0===v?void 0:v.value)||"",onChange:e=>ae((t=>t?{...t,scores:t.scores.map(((t,i)=>1===i?{...t,value:e.target.value}:t))}:null))}),Ce.score1&&(0,f.jsx)(l.A,{color:"error",fontSize:13,children:Ce.score1})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,md:3,children:[(0,f.jsx)(he.A,{label:"Analytical Writing",fullWidth:!0,value:(null===oe||void 0===oe||null===(g=oe.scores[2])||void 0===g?void 0:g.value)||"",onChange:e=>ae((t=>t?{...t,scores:t.scores.map(((t,i)=>2===i?{...t,value:e.target.value}:t))}:null))}),Ce.score2&&(0,f.jsx)(l.A,{color:"error",fontSize:13,children:Ce.score2})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,md:3,children:[(0,f.jsx)(he.A,{label:"Test Date",type:"date",fullWidth:!0,InputLabelProps:{shrink:!0},value:(null===oe||void 0===oe?void 0:oe.testDate)||"",onChange:e=>ae((t=>t?{...t,testDate:e.target.value}:null))}),Ce.testDate&&(0,f.jsx)(l.A,{color:"error",fontSize:13,children:Ce.testDate})]}),(0,f.jsx)(j.Ay,{item:!0,xs:12,sm:6,md:6,children:(0,f.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,f.jsxs)(G.A,{component:"label",sx:{border:"1px dashed #aaa",borderRadius:2,minWidth:30,minHeight:30,color:"#3B3F76",background:"#fafaff","&:hover":{background:"#f4f4ff"}},children:[(0,f.jsx)(_e.A,{}),(0,f.jsx)("input",{type:"file",hidden:!0,onChange:e=>{var t;const i=null===(t=e.target.files)||void 0===t?void 0:t[0];i&&ae((e=>e?{...e,document:{name:i.name,icon:b.A.pdfIcon}}:null))}})]}),(0,f.jsx)(l.A,{fontWeight:600,sx:{mb:1},children:"Upload File"}),(null===oe||void 0===oe||null===(A=oe.document)||void 0===A?void 0:A.name)&&(0,f.jsx)(he.A,{value:oe.document.name,size:"small",InputProps:{readOnly:!0},sx:{width:180}})]})})]})]}),(0,f.jsxs)(n.A,{sx:{display:"flex",justifyContent:"flex-end",gap:2,mt:4},children:[(0,f.jsx)(G.A,{onClick:()=>{de(!1),ye(!1)},variant:"outlined",sx:{border:"2px solid #F48438",borderRadius:"20px",px:4,fontWeight:700,fontSize:16,color:"#495052",background:"#f8f8ff","&:hover":{background:"#e6e6fa"}},children:"Cancel"}),(0,f.jsx)(G.A,{type:"button",variant:"contained",sx:{borderRadius:"20px",px:4,py:1,fontWeight:700,fontSize:18,color:"#fff",background:"#F48438","&:hover":{background:"#23245a"}},onClick:async()=>{if(!(()=>{const e={};return q||(e.radio="Please select Yes or No."),"yes"===q&&(null!==oe&&void 0!==oe&&oe.name||(e.name="Please select a test."),null===oe||void 0===oe||oe.scores.forEach(((t,i)=>{if(t.value){if("Verbal Reasoning"===t.label||"Quantitative Reasoning"===t.label){const n=Number(t.value);(isNaN(n)||n<130||n>170)&&(e["score".concat(i)]="Must be 130\u2013170.")}else if("Analytical Writing"===t.label){const n=Number(t.value);(isNaN(n)||n<1||n>6)&&(e["score".concat(i)]="Must be 1\u20136.")}}else e["score".concat(i)]="Required."})),null!==oe&&void 0!==oe&&oe.testDate||(e.testDate="Test date required.")),we(e),0===Object.keys(e).length})())return;const e={name:(null===oe||void 0===oe?void 0:oe.name)||"",scores:[((null===oe||void 0===oe?void 0:oe.scores)||[]).map((e=>({description:e.label,count:e.value,range:e.range})))],testDate:(null===oe||void 0===oe?void 0:oe.testDate)||"",document:(null===oe||void 0===oe?void 0:oe.document)||{name:"",icon:b.A.pdfIcon}};let t=!1;const i=((null===N||void 0===N?void 0:N.data)||[]).map((i=>{var n,o;return i.name===e.name?(t=!0,{...i,...e,docId:null!==(n=i.docId)&&void 0!==n?n:void 0,_id:null!==(o=i._id)&&void 0!==o?o:void 0}):i}));t||i.push({...e,docId:void 0,_id:void 0}),E((0,Ve.ox)(i)),await(0,I.oS)({tests:i}),X(oe),de(!1),ye(!1)},children:"Save"}),(0,f.jsx)(G.A,{variant:"outlined",sx:{marginTop:"4px",borderRadius:"50%",minWidth:40,width:42,height:42,color:"#495052",borderColor:"#3B3F76",fontSize:28,ml:2,border:"2px solid #F48438"},children:"+"})]})]})})]})};var Ze=i(68266),Qe=i(17564),$e=i(39232),Xe=i(50550),et=i(58987),tt=i(18723);const it=()=>{var e,t,i,o,a,d,c,u,x,m,h,p,g,A,y;const S=(0,r.GV)((e=>e.preferences)),w=(0,r.GV)((e=>e.educationhistory));console.log("educationDetails",w);const D=(0,r.jL)(),[E,k]=(0,s.useState)(!1),[W,N]=(0,s.useState)(null!==(e=S.data)&&void 0!==e&&e.intake?null===(t=S.data)||void 0===t?void 0:t.intake:""),T=new Date(W),[F,z]=(0,s.useState)(null!==(i=S.data)&&void 0!==i&&i.intake?T.getFullYear():""),[P,L]=(0,s.useState)(null!==(o=S.data)&&void 0!==o&&o.intake?T.getMonth():""),[M,B]=(0,s.useState)(""),[O,q]=(0,s.useState)((null===S||void 0===S||null===(a=S.data)||void 0===a?void 0:a.subCategory)||[]),[V,Y]=(0,s.useState)((null===S||void 0===S||null===(d=S.data)||void 0===d?void 0:d.country)||[]),[H,_]=(0,s.useState)(null===S||void 0===S||null===(c=S.data)||void 0===c?void 0:c.currency),U=(0,r.GV)((e=>e.advisor)),K=(null===U||void 0===U||null===(u=U.data)||void 0===u?void 0:u.flatMap((e=>e.assignedCountries)))||[],J=null===S||void 0===S||null===(x=S.data)||void 0===x||null===(m=x.country)||void 0===m?void 0:m.filter((e=>!K.includes(e))),Z=(Ie.Ik().shape({preference:Ie.Ik().shape({intake:Ie.Yj().required("Intake is required").matches(/^(January|February|March|April|May|June|July|August|September|October|November|December)-\d{4}$/,"Month & Year required"),budget:Ie.Ik().shape({lower:Ie.ai().required("Lower budget is required").min(0,"Lower budget must be greater than or equal to 0"),upper:Ie.ai().required("Upper budget is required").moreThan(Ie.KR("lower"),"Upper budget must be greater than lower budget")}),degree:Ie.Yj().required("Degree is required").oneOf(R.DP,"Invalid degree program selected"),country:Ie.YO().of(Ie.Yj()).min(1,"At least one country is required").required("Countries are required"),subCategory:Ie.YO().of(Ie.Yj()).min(1,"At least one course is required").required("Courses are required"),currency:Ie.Yj().required("Currency is required")})}),{PaperProps:{style:{maxHeight:224,width:150}}}),Q=R.zA.map((e=>{const[t,i]=e.split("-");return{label:e,value:i}})),$=async e=>{var t;switch(e.name){case"OptionChange":_(null===(t=e.data.newValue)||void 0===t?void 0:t.value);break;case"countryChange":Y(e.data.newValue);break;case"courseChange":q(e.data.newValue)}};(0,s.useEffect)((()=>{N(""!==P&&""!==F?"".concat(R.dF[P],"-").concat(F):"")}),[P,F]),(0,s.useEffect)((()=>{""!==F&&""!==P&&B("")}),[F,P]);const X={preference:{intake:W,budget:null===(h=Ke.RK.find((e=>{var t,i,n;return e.lower===(null===(t=S.data)||void 0===t||null===(i=t.budget)||void 0===i?void 0:i.lower)&&e.upper===(null===(n=S.data)||void 0===n?void 0:n.budget.upper)})))||void 0===h?void 0:h.name,degree:null===S||void 0===S||null===(p=S.data)||void 0===p?void 0:p.degree,country:V,subCategory:O,currency:H}},[ee,te]=(0,s.useState)(!1);return(0,f.jsx)(f.Fragment,{children:ee?(0,f.jsx)(n.A,{sx:{px:{lg:3}},children:(0,f.jsx)(be.l1,{initialValues:X,enableReinitialize:!0,onSubmit:e=>(async e=>{if(""===F||""===P)return B("Both year and month are required."),void k(!1);B("");let t=Ke.RK.find((t=>t.name===e.preference.budget));k(!0),console.log("Submit",{...e,preference:{...e.preference,budget:{upper:null===t||void 0===t?void 0:t.upper,lower:null===t||void 0===t?void 0:t.lower}}});try{const i=await(0,I.oS)({...e,preference:{...e.preference,budget:{upper:null===t||void 0===t?void 0:t.upper,lower:null===t||void 0===t?void 0:t.lower}}});i&&(D((0,$e.xX)(i.data.data.preference)),D((0,C.DE)({show:!0,data:{container:{name:"success",data:"Preferences updated ",dimensions:{width:"30%",height:"40%",show:"none"}},type:"custom"}})),k(!1))}catch(i){k(!1)}})(e),children:e=>{var t,i,o,a,s,r,d,c,u,x;let{touched:m,errors:h,values:p,handleChange:g,setFieldValue:A}=e;return(0,f.jsx)(be.lV,{className:"mt-5",children:(0,f.jsxs)(j.Ay,{container:!0,spacing:4,sx:{width:"100% !important"},children:[(0,f.jsxs)(j.Ay,{item:!0,xs:12,md:6,sx:{display:"flex",flexDirection:"column"},children:[(0,f.jsx)(l.A,{fontWeight:"500",gutterBottom:!0,sx:{color:"#8E9091"},children:"What program would you like to pursue?"}),(0,f.jsx)(Qe.A,{multiple:!0,id:"subdisciplines",sx:{"& .MuiOutlinedInput-root .MuiAutocomplete-input":{padding:"5px"},width:"100%"},limitTags:2,size:"small",options:R.Sy,getOptionLabel:e=>e,value:O,filterSelectedOptions:!0,ListboxProps:{style:{maxHeight:"180px",overflowY:"auto"}},onChange:(e,t)=>$({name:"courseChange",data:{event:e,newValue:t}}),renderInput:e=>(0,f.jsx)(he.A,{...e,placeholder:"Search programs",variant:"outlined",InputProps:{...e.InputProps}})}),null!==(t=m.preference)&&void 0!==t&&t.subCategory&&null!==(i=h.preference)&&void 0!==i&&i.subCategory?(0,f.jsx)("div",{className:"error",children:h.preference.subCategory}):null]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,md:6,sx:{display:"flex",flexDirection:"column"},children:[(0,f.jsx)(l.A,{fontWeight:"500",gutterBottom:!0,sx:{color:"#8E9091"},children:"What are your preferred study destinations?"}),(0,f.jsx)(Qe.A,{multiple:!0,id:"autocomplete",sx:{"& .MuiOutlinedInput-root .MuiAutocomplete-input":{padding:"5px"},width:"100%"},limitTags:2,size:"small",options:R.HH,getOptionLabel:e=>e,value:V,filterSelectedOptions:!0,ListboxProps:{style:{maxHeight:"180px",overflowY:"auto"}},onChange:(e,t)=>$({name:"countryChange",data:{event:e,newValue:t}}),renderInput:e=>(0,f.jsx)(he.A,{...e,placeholder:"Search country",variant:"outlined",InputProps:{...e.InputProps}})}),null!==(o=m.preference)&&void 0!==o&&o.country&&null!==(a=h.preference)&&void 0!==a&&a.country?(0,f.jsx)("div",{className:"error",children:h.preference.country}):null,null===J||void 0===J?void 0:J.map(((e,t)=>(0,f.jsx)(j.Ay,{item:!0,xs:12,children:(0,f.jsx)(n.A,{sx:{py:1,display:"flex",gap:"1rem",alignItems:"center"},children:(0,f.jsxs)(G.A,{onClick:t=>{t.preventDefault(),t.stopPropagation(),(async e=>{if(!e||"string"!==typeof e||""===e.trim())return console.error("Invalid country value:",e),void D((0,C.DE)({show:!0,data:{container:{name:"error",data:"Invalid country selected. Please try again.",dimensions:{width:"30%",height:"40%",show:"none"}},type:"custom"}}));try{const i={country:e.trim()};console.log("Requesting advisor with payload:",i);const n=await(0,I.id)(i);if(n&&n.data&&n.data.data&&n.data.data.advisor){var t;const e=n.data.data.advisor,i=null===U||void 0===U||null===(t=U.data)||void 0===t?void 0:t.find((t=>t._id===e._id));D(i?(0,et.UN)(e):(0,et.S6)(e)),null!==n.data.data.chat&&D((0,tt.Nl)(n.data.data.chat))}}catch(i){console.error("Error requesting advisor:",{error:i,country:e,errorType:typeof i,errorMessage:(null===i||void 0===i?void 0:i.message)||i})}})(e)},type:"button",sx:{border:"1px solid #3B3F76CC",borderRadius:"15px",p:.5,textTransform:"none",color:"#3B3F76CC","&:hover":{backgroundColor:"#3B3F7610",borderColor:"#3B3F76"}},children:["Request advisor for ",e]})})},t)))]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,md:6,sx:{display:"flex",flexDirection:"column"},children:[(0,f.jsx)(l.A,{fontWeight:"500",gutterBottom:!0,sx:{color:"#8E9091"},children:"Which degree program do you prefer?"}),(0,f.jsxs)(ve.A,{size:"small",children:[(0,f.jsx)(ue.A,{sx:{color:"#8E9091"},id:"degree",children:"Select Degree"}),(0,f.jsx)(xe.A,{labelId:"degree",id:"degree",size:"small",name:"preference.degree",MenuProps:Z,value:p.preference.degree,label:"Select Degree",onChange:g,children:R.DP.map(((e,t)=>(0,f.jsx)(me.A,{value:e,children:e},t)))}),null!==(s=m.preference)&&void 0!==s&&s.degree&&null!==(r=h.preference)&&void 0!==r&&r.degree?(0,f.jsx)("div",{className:"error",children:h.preference.degree}):null]})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,md:6,children:[(0,f.jsx)(l.A,{fontWeight:"500",gutterBottom:!0,sx:{color:"#8E9091"},children:"When would you like to begin your studies?"}),(0,f.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[(0,f.jsxs)(xe.A,{labelId:"degree",id:"degree",size:"small",MenuProps:Z,value:F,onChange:e=>z(e.target.value),defaultValue:"",displayEmpty:!0,children:[(0,f.jsx)(me.A,{sx:{color:"#8E9091"},value:"",disabled:!0,children:"Select Year"}),["2025","2026","2027","2028","2029","2030"].map(((e,t)=>(0,f.jsx)(me.A,{value:e,children:e},t)))]}),(0,f.jsxs)(xe.A,{labelId:"degree",id:"degree",size:"small",MenuProps:Z,value:P,onChange:e=>L(e.target.value),defaultValue:"",displayEmpty:!0,children:[(0,f.jsx)(me.A,{sx:{color:"#8E9091"},value:"",disabled:!0,children:"Select Month"}),R.dF.map(((e,t)=>(0,f.jsx)(me.A,{value:t,children:e},t)))]})]}),M&&(0,f.jsx)("div",{className:"error",style:{color:"red",marginTop:4},children:M})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,md:6,sx:{display:"flex",flexDirection:"column"},children:[(0,f.jsx)(l.A,{sx:{color:"#8E9091"},fontWeight:"500",gutterBottom:!0,children:"What is your estimated budget range for your studies?"}),(0,f.jsxs)(ve.A,{size:"small",children:[(0,f.jsx)(ue.A,{sx:{color:"#8E9091"},id:"budget",children:"Select Budget"}),(0,f.jsx)(xe.A,{labelId:"budget",id:"budget",size:"small",name:"preference.budget",MenuProps:Z,value:p.preference.budget,label:"Select budget",onChange:g,children:Ke.RK.map(((e,t)=>(0,f.jsx)(me.A,{value:e.name,children:e.name},e.id)))}),null!==(d=m.preference)&&void 0!==d&&d.budget&&null!==(c=h.preference)&&void 0!==c&&c.budget?(0,f.jsx)("div",{className:"error",children:h.preference.budget}):null]})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,md:6,children:[(0,f.jsx)(ue.A,{id:"degree",sx:{fontWeight:"500",color:"#8E9091",mb:.5},children:"Preferred currency?"}),(0,f.jsx)(Qe.A,{sx:{marginTop:"9px",width:"100%","& .MuiInputBase-input":{fontSize:"14px !important"},"&.MuiAutocomplete-listbox":{width:"400px"},"&.MuiAutocomplete-listbox .MuiAutocomplete-option ":{fontSize:"14px !important"},"& .MuiOutlinedInput-root":{paddingRight:"0 !important"}},options:Q,getOptionLabel:e=>null===e||void 0===e?void 0:e.label,value:Q.find((e=>e.value===H))||null,onChange:(e,t)=>$({name:"OptionChange",data:{event:e,newValue:t}}),renderInput:e=>(0,f.jsx)(he.A,{...e,placeholder:"Search currency",size:"small",InputProps:{...e.InputProps,type:"search",endAdornment:(0,f.jsx)(v.A,{sx:{color:"gray",marginRight:"5px"}}),style:{fontSize:"14px !important",color:"#000 !important"}}})}),null!==(u=m.preference)&&void 0!==u&&u.currency&&null!==(x=h.preference)&&void 0!==x&&x.currency?(0,f.jsx)("div",{className:"error",children:String(h.preference.currency)}):null]}),(0,f.jsx)(j.Ay,{item:!0,xs:12,sx:{justifyContent:"end",display:"flex"},children:(0,f.jsx)(ke.S,{width:"100px",handleSubmit:()=>console.log("first"),children:E?(0,f.jsx)("img",{src:b.A.standardLoader,alt:"load",style:{width:"1rem"}}):"Save"})})]})})}})}):(0,f.jsx)(n.A,{sx:{boxShadow:2,borderRadius:3,background:"#fff",p:3,mb:3},children:(0,f.jsxs)(j.Ay,{container:!0,spacing:2,children:[(0,f.jsxs)(j.Ay,{item:!0,xs:12,sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,f.jsx)(l.A,{variant:"h6",sx:{fontWeight:600,color:"#8E9091"},children:"Preferences"}),(0,f.jsx)(G.A,{variant:"outlined",sx:[{border:"2px solid #F48438 ",borderRadius:"20px",color:"#495052",fontSize:{lg:"16px",xs:"12px"},width:{lg:"100px",xs:"90px"},padding:{lg:"8px",xs:"6px"}}],onClick:()=>te(!0),children:"Edit"})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500},children:"Preferred Programs"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:O&&O.length>0?O.join(", "):"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"Preferred Study Destinations"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:V&&V.length>0?V.join(", "):"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"Degree Program"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:(null===S||void 0===S||null===(g=S.data)||void 0===g?void 0:g.degree)||"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"Intake"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:W||"NA"})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500},children:"Budget"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:null!==S&&void 0!==S&&null!==(A=S.data)&&void 0!==A&&A.budget&&(null===(y=Ke.RK.find((e=>{var t,i,n,o;return e.lower===(null===S||void 0===S||null===(t=S.data)||void 0===t||null===(i=t.budget)||void 0===i?void 0:i.lower)&&e.upper===(null===S||void 0===S||null===(n=S.data)||void 0===n||null===(o=n.budget)||void 0===o?void 0:o.upper)})))||void 0===y?void 0:y.name)||"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"Currency"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:H||"NA"})]})]})})})},nt=()=>{const e=(0,r.GV)((e=>e.skills)),t=(0,r.jL)(),[i,o]=(0,s.useState)(e.data),[a,d]=(0,s.useState)(!1);return(0,f.jsxs)("div",{children:[(0,f.jsx)(l.A,{sx:{fontSize:"1.25rem",fontWeight:"500",color:"rgba(48, 51, 99, 0.5)"},children:"Skills"}),(0,f.jsx)(Qe.A,{multiple:!0,id:"autocomplete",sx:{"& .MuiOutlinedInput-root .MuiAutocomplete-input":{padding:"5px"},width:{lg:"50%"},"& .MuiTextField-root":{marginTop:"8px"},mb:1},disableClearable:!0,size:"small",fullWidth:!0,options:R.$q,getOptionLabel:e=>e,value:i,filterSelectedOptions:!0,ListboxProps:{style:{maxHeight:"180px",overflowY:"auto"}},onChange:(e,t)=>{o(t)},renderInput:e=>(0,f.jsx)(he.A,{...e,placeholder:"Ex: Problem-Solving",variant:"outlined",InputProps:{...e.InputProps,type:"search",endAdornment:null}})}),(0,f.jsx)(n.A,{sx:{justifyContent:"end",display:"flex",mr:{lg:10}},children:(0,f.jsxs)(G.A,{type:"submit",onClick:async()=>{d(!0);const e=await(0,I.oS)({skills:i});e?(t((0,Xe.pA)(e.data.data.skills)),t((0,C.DE)({show:!0,data:{container:{name:"success",data:"Skills added successfully",dimensions:{width:"30%",height:"40%",show:"none"}},type:"custom"}})),d(!1)):d(!1)},sx:[g.zr,{width:"100px"}],children:[a?(0,f.jsx)("img",{src:b.A.standardLoader,alt:"load",style:{width:"1rem"}}):"Save","        "]})})]})},ot={PaperProps:{style:{maxHeight:224,width:150}}},at=Ie.Ik().shape({activity:Ie.Yj().required("Activity is required"),description:Ie.Yj().required("Description is required"),startDate:Ie.p6().required("Start Date is required"),endDate:Ie.p6().nullable().when("status",{is:"completed",then:e=>e.required("End Date is required").min(Ie.KR("startDate"),"End Date cannot be earlier than Start Date"),otherwise:e=>e.nullable()}),status:Ie.Yj().required("Status is required")}),lt=Ie.YO().of(at),st=()=>{var e;const t=(0,r.jL)(),[i,o]=(0,s.useState)(!1),a=(0,r.GV)((e=>e.extracurriculum)),[d,c]=(0,s.useState)(!1),u={extraCurriculumActivities:(null!==(e=a.data)&&void 0!==e&&e.length?a.data:[{activity:"",description:"",designation:"",startDate:"",endDate:"",status:""}]).map((e=>{var t,i;return{...e,participatedPublication:null!==(t=e.participatedPublication)&&void 0!==t?t:"No",participationLevel:null!==(i=e.participationLevel)&&void 0!==i?i:""}}))},x=["Dance","Online Certification","Paper Publication","Project","Research","Student Government","Academic Teams and Clubs","The Debate Team Students","Internships"],[m]=(0,s.useState)([]),h=(0,r.GV)((e=>e.skills.data));(0,s.useEffect)((()=>{!async function(){try{const e=await(0,I.E$)();console.log("Fetched profile for extraCurricular:",e),e&&e.data&&e.data.extraCurriculumActivities?t((0,Ze.MP)(e.data.extraCurriculumActivities)):e&&e.extraCurriculumActivities&&t((0,Ze.MP)(e.extraCurriculumActivities))}catch(e){}}()}),[t]);const p=async e=>{if(!i)try{o(!0);const i=e.extraCurriculumActivities.map((e=>{var t,i;return{...e,participatedPublication:null!==(t=e.participatedPublication)&&void 0!==t?t:"No",participationLevel:null!==(i=e.participationLevel)&&void 0!==i?i:""}}));console.log("Submitting activities:",i);const n=await(0,I.oS)({extraCurriculumActivities:i,researchPapers:m});console.log("Submit response:",n),n&&n.data&&n.data.extraCurriculumActivities?t((0,Ze.MP)(n.data.extraCurriculumActivities)):n&&n.data&&n.data.data&&n.data.data.extraCurriculumActivities&&t((0,Ze.MP)(n.data.data.extraCurriculumActivities)),n&&t((0,C.DE)({show:!0,data:{container:{name:"success",data:"Extra curricular activities and research papers added successfully",dimensions:{width:"40%",height:"40%",show:"none"}},type:"custom"}})),o(!1)}catch(n){o(!1)}};return(0,f.jsxs)(f.Fragment,{children:[d?(0,f.jsxs)(n.A,{sx:{overflowY:"scroll",px:3,height:"75vh"},children:[(0,f.jsx)(n.A,{sx:{px:2},children:(0,f.jsx)(nt,{})}),(0,f.jsxs)(n.A,{children:[(0,f.jsx)(l.A,{sx:{fontSize:"1.25rem",fontWeight:"500",mb:1,color:"rgba(48, 51, 99, 0.5)",px:2},children:"Activities"}),(0,f.jsx)(be.l1,{initialValues:u,validationSchema:Ie.Ik().shape({extraCurriculumActivities:lt}),onSubmit:(e,t)=>{let{setSubmitting:i}=t;p(e),i(!1)},children:e=>{let{values:t,handleChange:o,handleBlur:a,isValid:s,dirty:r}=e;return(0,f.jsx)(be.lV,{children:(0,f.jsx)(be.ED,{name:"extraCurriculumActivities",children:e=>{let{push:s,remove:r}=e;return(0,f.jsxs)(f.Fragment,{children:[t.extraCurriculumActivities.map(((e,i)=>(0,f.jsx)("div",{className:"mb-5",children:(0,f.jsxs)(j.Ay,{container:!0,spacing:4,sx:{px:2},children:[(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"",sx:{color:"#8E9091",fontWeight:500},children:"Activity"}),(0,f.jsxs)(ve.A,{fullWidth:!0,variant:"outlined",size:"small",sx:{mt:1,color:"#8E9091"},children:[(0,f.jsxs)(be.D0,{as:xe.A,size:"small",name:"extraCurriculumActivities.".concat(i,".activity"),value:e.activity,onBlur:a,onChange:o,fullWidth:!0,displayEmpty:!0,IconComponent:v.A,MenuProps:ot,children:[(0,f.jsx)(me.A,{sx:{color:"#8E9091"},disabled:!0,value:"",children:"Select activity"}),x.map((e=>(0,f.jsx)(me.A,{sx:{color:"#495052"},value:e,children:e},e)))]}),(0,f.jsx)(be.Kw,{name:"extraCurriculumActivities.".concat(i,".activity"),component:"div",className:"error"})]})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"",sx:{color:"#8E9091",fontWeight:500,mb:1},children:"Designation"}),(0,f.jsx)(be.D0,{as:he.A,size:"small",name:"extraCurriculumActivities.".concat(i,".designation"),placeholder:"Designation",value:e.designation,onBlur:a,onChange:o,fullWidth:!0}),(0,f.jsx)(be.Kw,{name:"extraCurriculumActivities.".concat(i,".designation"),component:"div",className:"error"})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"",sx:{color:"#8E9091",fontWeight:500},children:"Active status"}),(0,f.jsxs)(be.D0,{as:ge.A,row:!0,name:"extraCurriculumActivities.".concat(i,".status"),value:e.status,onBlur:a,onChange:o,children:[(0,f.jsx)(fe.A,{value:"completed",control:(0,f.jsx)(Ae.A,{size:"small"}),label:"Completed"}),(0,f.jsx)(fe.A,{value:"ongoing",control:(0,f.jsx)(Ae.A,{size:"small"}),label:"Ongoing"})]}),(0,f.jsx)(be.Kw,{name:"extraCurriculumActivities.".concat(i,".status"),component:"div",className:"error"})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"",sx:{color:"#8E9091",fontWeight:500,mb:1},children:"Description"}),(0,f.jsx)(be.D0,{as:he.A,size:"small",name:"extraCurriculumActivities.".concat(i,".description"),placeholder:"Description",value:e.description,onBlur:a,onChange:o,fullWidth:!0}),(0,f.jsx)(be.Kw,{name:"extraCurriculumActivities.".concat(i,".description"),component:"div",className:"error"})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"",sx:{color:"#8E9091",fontWeight:500,mb:1},children:"Attended from"}),(0,f.jsx)(ze.A,{selectedDate:null===e||void 0===e?void 0:e.startDate,onChange:e=>o({target:{name:"extraCurriculumActivities.".concat(i,".startDate"),value:null===e||void 0===e?void 0:e.toISOString().slice(0,10)}}),maxDate:new Date,placeholderText:"Start Date"}),(0,f.jsx)(be.Kw,{name:"extraCurriculumActivities.".concat(i,".startDate"),component:"div",className:"error"})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(l.A,{sx:{fontWeight:500,color:"#8E9091",mb:1},children:"Did you participate any publication?"}),(0,f.jsxs)(be.D0,{as:ge.A,row:!0,name:"extraCurriculumActivities.".concat(i,".participatedPublication"),value:e.participatedPublication||"No",onChange:o,children:[(0,f.jsx)(fe.A,{value:"Yes",control:(0,f.jsx)(Ae.A,{size:"small"}),label:"Yes"}),(0,f.jsx)(fe.A,{value:"No",control:(0,f.jsx)(Ae.A,{size:"small"}),label:"No"})]})]}),(0,f.jsx)(j.Ay,{item:!0,xs:12,sm:6,children:"completed"===e.status&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(ue.A,{id:"",sx:{color:"#8E9091",fontWeight:500},children:"Attended till"}),(0,f.jsx)(ze.A,{selectedDate:null===e||void 0===e?void 0:e.endDate,onChange:e=>o({target:{name:"extraCurriculumActivities.".concat(i,".endDate"),value:null===e||void 0===e?void 0:e.toISOString().slice(0,10)}}),minDate:e.startDate?new Date(new Date(null===e||void 0===e?void 0:e.startDate).getTime()+864e6):void 0,maxDate:new Date,placeholderText:"End Date"}),(0,f.jsx)(be.Kw,{name:"extraCurriculumActivities.".concat(i,".endDate"),component:"div",className:"error"})]})}),"Yes"===e.participatedPublication&&(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(l.A,{sx:{fontWeight:500,color:"#8E9091",mb:1},children:"Participation Level"}),(0,f.jsxs)(be.D0,{as:ge.A,row:!0,name:"extraCurriculumActivities.".concat(i,".participationLevel"),value:e.participationLevel||"",onChange:o,children:[(0,f.jsx)(fe.A,{value:"National",control:(0,f.jsx)(Ae.A,{size:"small"}),label:"National"}),(0,f.jsx)(fe.A,{value:"International",control:(0,f.jsx)(Ae.A,{size:"small"}),label:"International"})]})]}),t.extraCurriculumActivities.length>1&&(0,f.jsx)(j.Ay,{item:!0,xs:12,children:(0,f.jsx)(n.A,{sx:{display:"flex",justifyContent:"end"},children:(0,f.jsx)("img",{src:b.A.deleteIcon,alt:"delete",style:{width:"1.5rem"},onClick:()=>r(i)})})})]})},i))),(0,f.jsxs)(y.A,{direction:"row",sx:{mt:5,mb:1,display:"flex",justifyContent:"end",mr:10},spacing:2,children:[(0,f.jsx)(G.A,{onClick:()=>s({activity:"",description:"",designation:"",startDate:"",endDate:"",status:"",participatedPublication:"No",participationLevel:""}),sx:g.zr,children:"Add new"}),(0,f.jsx)(ke.S,{width:"100px",handleSubmit:()=>p,children:i?(0,f.jsx)("img",{src:b.A.standardLoader,alt:"load",style:{width:"1rem",height:"1rem",padding:"4px"}}):"Save"})]})]})}})})}})]})]}):(0,f.jsx)(n.A,{sx:{boxShadow:2,borderRadius:3,background:"#fff",pl:3,mb:3},children:(0,f.jsxs)(j.Ay,{container:!0,spacing:2,children:[(0,f.jsxs)(j.Ay,{item:!0,xs:12,sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,f.jsx)("span",{style:{fontWeight:600,fontSize:"1.25rem",color:"#8E9091"},children:"Extra Curricular Details"}),(0,f.jsx)(G.A,{variant:"outlined",sx:[{border:"2px solid #F48438 ",borderRadius:"20px",color:"#495052",fontSize:{lg:"16px",xs:"12px"},width:{lg:"100px",xs:"90px"},padding:{lg:"8px",xs:"6px"}}],onClick:()=>c(!0),children:"Edit"})]}),a.data&&a.data.length>0?a.data.map(((e,t)=>(0,f.jsx)(j.Ay,{item:!0,xs:12,sx:{mb:2},children:(0,f.jsx)(n.A,{sx:{mb:2},children:(0,f.jsxs)(j.Ay,{container:!0,spacing:2,children:[(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)("span",{style:{color:"#8E9091",fontWeight:500,display:"block"},children:"Activity"}),(0,f.jsx)("div",{style:{color:"#495052"},children:e.activity||"NA"}),(0,f.jsx)("span",{style:{color:"#8E9091",fontWeight:500,marginTop:16,display:"block"},children:"Skills"}),(0,f.jsx)("div",{style:{color:"#495052"},children:h&&h.length>0?h.join(", "):"NA"}),(0,f.jsx)("span",{style:{color:"#8E9091",fontWeight:500,marginTop:16,display:"block"},children:"Description"}),(0,f.jsx)("div",{style:{color:"#495052"},children:e.description||"NA"}),(0,f.jsx)("span",{style:{color:"#8E9091",fontWeight:500,marginTop:16,display:"block"},children:"Publication Participation"}),(0,f.jsx)("div",{style:{color:"#495052"},children:e.participatedPublication||"NA"}),"Yes"===e.participatedPublication&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("span",{style:{color:"#8E9091",fontWeight:500,marginTop:16,display:"block"},children:"Participation Level"}),(0,f.jsx)("div",{style:{color:"#495052"},children:e.participationLevel||"NA"})]})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)("span",{style:{color:"#8E9091",fontWeight:500,display:"block"},children:"Start Date"}),(0,f.jsx)("div",{style:{color:"#495052"},children:e.startDate&&e.endDate?"".concat(e.startDate.split("T")[0]):e.startDate?e.startDate.split("T")[0]:e.endDate?e.endDate.split("T")[0]:""}),(0,f.jsx)("span",{style:{color:"#8E9091",fontWeight:500,marginTop:16,display:"block"},children:"End Date"}),(0,f.jsx)("div",{style:{color:"#495052"},children:e.startDate&&e.endDate?"".concat(e.endDate.split("T")[0]):e.startDate?e.startDate.split("T")[0]:e.endDate?e.endDate.split("T")[0]:""}),(0,f.jsx)("span",{style:{color:"#8E9091",fontWeight:500,marginTop:16,display:"block"},children:"Designation"}),(0,f.jsx)("div",{style:{color:"#495052"},children:e.designation||"NA"}),(0,f.jsx)("span",{style:{color:"#8E9091",fontWeight:500,marginTop:16,display:"block"},children:"Status"}),(0,f.jsx)("div",{style:{color:"#495052"},children:e.status||"NA"})]})]})})},t))):(0,f.jsx)(j.Ay,{item:!0,xs:12,children:(0,f.jsx)("div",{children:"No extra curricular details available."})})]})}),!d&&m&&m.length>0&&(0,f.jsxs)(n.A,{sx:{boxShadow:2,borderRadius:3,background:"#fff",p:3,mb:3,mt:3},children:[(0,f.jsx)(l.A,{variant:"h6",sx:{fontWeight:600,mb:2},children:"Research Papers"}),m.map(((e,t)=>(0,f.jsxs)(n.A,{sx:{border:"1px solid #eee",borderRadius:2,p:2,mb:2},children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("strong",{children:"Title:"})," ",e.title||"NA"]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("strong",{children:"Journal:"})," ",e.journal||"NA"]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("strong",{children:"Year:"})," ",e.year||"NA"]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("strong",{children:"Authors:"})," ",e.authors||"NA"]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("strong",{children:"Description:"})," ",e.description||"NA"]})]},t)))]})]})};var rt=i(57900),dt=i(17195),ct=i.n(dt),ut=(i(15935),i(64018));const xt=Ie.Ik({familyDetails:Ie.YO().of(Ie.Ik({GuardianFirstName:Ie.Yj().max(50,"First name cannot exceed 50 characters").required("First name is required"),GuardianLastName:Ie.Yj().max(50,"Last name cannot exceed 50 characters").required("Last name is required"),GuardianOccupation:Ie.Yj().required("Occupation is required"),RelationshipWithStudent:Ie.Yj().required("Relationship is required"),GuardianContactNumber:Ie.Ik({number:Ie.Yj().required("Phone number is required").test("is-valid-phone","Invalid phone number",(function(e){const{countryCode:t}=this.parent;if(!t||!e)return!1;try{const i=(0,ut.l)("".concat(t).concat(e),t);return null===i||void 0===i?void 0:i.isValid()}catch(i){return!1}})),countryCode:Ie.Yj().required("Country code is required")}).required("Phone number is required")})).required("Must have family members").min(1,"Minimum of 1 family member is required")}),mt=()=>{var e;const t=(0,r.GV)((e=>e.familyInfo)),i=(0,r.jL)(),[o,a]=(0,s.useState)(!1),[l,d]=(0,s.useState)(!1),c={familyDetails:(null===(e=t.data)||void 0===e?void 0:e.length)>0?t.data:[{GuardianFirstName:"",GuardianLastName:"",GuardianEmail:"",GuardianOccupation:"",GuardianQualification:"",RelationshipWithStudent:"",GuardianContactNumber:{number:"",countryCode:""}}]};return(0,f.jsx)(f.Fragment,{children:l?(0,f.jsx)(n.A,{sx:{overflowY:"scroll",px:3,height:"75vh"},children:(0,f.jsx)(be.l1,{initialValues:c,validationSchema:xt,onSubmit:async e=>{let t={familyDetails:e.familyDetails};try{a(!0);const e=await(0,I.oS)(t);e&&(i((0,rt.N9)(e.data.data.familyDetails)),i((0,C.DE)({show:!0,data:{container:{name:"success",data:"Family details added successfully",dimensions:{width:"30%",height:"40%",show:"none"}},type:"custom"}}))),a(!1)}catch(n){a(!1)}},children:e=>{let{values:t,handleChange:i,handleBlur:a,handleSubmit:l,setFieldValue:s}=e;return(0,f.jsx)("form",{onSubmit:l,children:(0,f.jsx)(be.ED,{name:"familyDetails",children:e=>{let{push:r,remove:d}=e;return(0,f.jsxs)("div",{children:[t.familyDetails.map(((e,o)=>(0,f.jsx)("div",{className:"mb-5",children:(0,f.jsxs)(j.Ay,{container:!0,spacing:4,sx:{px:2},children:[(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsxs)(ve.A,{fullWidth:!0,variant:"outlined",size:"small",sx:{mt:1,color:"#8E9091"},children:[(0,f.jsx)(ue.A,{id:"family",children:"Select Relation"}),(0,f.jsxs)(xe.A,{size:"small",id:"family",name:"familyDetails.".concat(o,".RelationshipWithStudent"),value:e.RelationshipWithStudent,onChange:i,fullWidth:!0,IconComponent:v.A,label:"Select Relation",children:[(0,f.jsx)(me.A,{sx:{color:"#8E9091"},disabled:!0,value:"",children:"Select"}),[{name:"Father",value:"father"},{name:"Mother",value:"mother"},{name:"Spouse",value:"spouse"},{name:"Guardian",value:"guardian"}].map((e=>(0,f.jsx)(me.A,{sx:{color:"#495052"},value:e.value,children:e.name},e.value)))]})]}),(0,f.jsx)(be.Kw,{name:"familyDetails.".concat(o,".RelationshipWithStudent"),component:"div",className:"error"})]}),(0,f.jsx)(j.Ay,{xs:12,sm:6}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(be.D0,{as:he.A,size:"small",name:"familyDetails.".concat(o,".GuardianFirstName"),placeholder:"First Name",value:e.GuardianFirstName,onChange:i,onBlur:a,fullWidth:!0,label:"First Name",onkeydown:t=>{var i;e.GuardianFirstName&&(null===(i=e.GuardianFirstName)||void 0===i?void 0:i.length)>=50&&"Backspace"!==t.key&&"Delete"!==t.key&&t.preventDefault()},inputProps:{maxLength:50}}),(0,f.jsx)(be.Kw,{name:"familyDetails.".concat(o,".GuardianFirstName"),component:"div",className:"error"})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(be.D0,{as:he.A,size:"small",name:"familyDetails.".concat(o,".GuardianLastName"),placeholder:"Last Name",value:e.GuardianLastName,onChange:i,onBlur:a,fullWidth:!0,label:"Last Name",inputProps:{maxLength:50},onkeydown:t=>{var i;e.GuardianLastName&&(null===(i=e.GuardianLastName)||void 0===i?void 0:i.length)>=50&&"Backspace"!==t.key&&"Delete"!==t.key&&t.preventDefault()}}),(0,f.jsx)(be.Kw,{name:"familyDetails.".concat(o,".GuardianLastName"),component:"div",className:"error"})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(be.D0,{as:he.A,size:"small",type:"email",name:"familyDetails.".concat(o,".GuardianEmail"),placeholder:"Email",value:e.GuardianEmail,onChange:i,onBlur:a,fullWidth:!0,label:"Email"}),(0,f.jsx)(be.Kw,{name:"familyDetails.".concat(o,".GuardianEmail"),component:"div",className:"error"})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ct(),{value:"".concat(e.GuardianContactNumber.countryCode).concat(e.GuardianContactNumber.number),onChange:(e,t)=>{const i=(null===t||void 0===t?void 0:t.dialCode)||"";s("familyDetails.".concat(o,".GuardianContactNumber.countryCode"),"+"+i),s("familyDetails.".concat(o,".GuardianContactNumber.number"),e.slice(i.length).trim())},country:"in"}),(0,f.jsx)(be.Kw,{name:"familyDetails.".concat(o,".GuardianContactNumber.number"),component:"div",className:"error"})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(be.D0,{as:he.A,size:"small",name:"familyDetails.".concat(o,".GuardianOccupation"),placeholder:"Occupation",value:e.GuardianOccupation,onChange:i,onBlur:a,fullWidth:!0,label:"Occupation"}),(0,f.jsx)(be.Kw,{name:"familyDetails.".concat(o,".GuardianOccupation"),component:"div",className:"error"})]}),(0,f.jsx)(j.Ay,{item:!0,xs:12,sm:6,children:(0,f.jsx)(be.D0,{as:he.A,size:"small",name:"familyDetails.".concat(o,".GuardianQualification"),placeholder:"Educational Qualification",value:e.GuardianQualification,onChange:i,onBlur:a,fullWidth:!0,label:"Qualification"})}),(0,f.jsx)(j.Ay,{item:!0,xs:12,children:(0,f.jsx)(n.A,{sx:{display:"flex",justifyContent:"end"},children:(0,f.jsx)("img",{src:b.A.deleteIcon,alt:"delete",style:{width:"1.5rem"},onClick:()=>{s("familyDetails",((e,t)=>{if(1===e.length)return[{GuardianFirstName:"",GuardianLastName:"",GuardianEmail:"",GuardianOccupation:"",GuardianQualification:"",RelationshipWithStudent:"",GuardianContactNumber:{number:"",countryCode:""}}];const i=e.slice();return i.splice(t,1),i})(t.familyDetails,o))}})})})]})},o))),(0,f.jsxs)(y.A,{direction:"row",sx:{mt:5,mb:1,display:"flex",justifyContent:"end",mr:10},spacing:2,children:[(0,f.jsx)(G.A,{onClick:()=>r({GuardianFirstName:"",GuardianLastName:"",GuardianEmail:"",GuardianOccupation:"",GuardianQualification:"",RelationshipWithStudent:"",GuardianContactNumber:{number:"",countryCode:""}}),sx:[g.zr,{width:"100px",color:"#495052"}],children:"Add new"}),(0,f.jsx)(ke.S,{width:"35%",handleSubmit:l,children:o?(0,f.jsx)("img",{src:b.A.standardLoader,alt:"load",style:{width:"1rem",height:"1rem",padding:"4px",color:"#495052"}}):"Save"})]})]})}})})}})}):(0,f.jsx)(n.A,{sx:{boxShadow:2,borderRadius:3,background:"#fff",p:3},children:(0,f.jsxs)(j.Ay,{container:!0,children:[(0,f.jsxs)(j.Ay,{item:!0,xs:12,sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,f.jsx)("span",{style:{fontWeight:600,fontSize:"1.25rem",color:"#8E9091"},children:"Family Details"}),(0,f.jsx)(G.A,{variant:"outlined",sx:[{border:"2px solid #F48438 ",borderRadius:"20px",color:"#495052",fontSize:{lg:"16px",xs:"12px"},width:{lg:"100px",xs:"90px"},padding:{lg:"4px",xs:"6px"}}],onClick:()=>d(!0),children:"Edit"})]}),t.data&&t.data.length>0?t.data.map(((e,t)=>{var i,o;return(0,f.jsx)(j.Ay,{item:!0,xs:12,children:(0,f.jsx)(n.A,{sx:{p:2},children:(0,f.jsxs)(j.Ay,{container:!0,spacing:2,children:[(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsxs)("div",{style:{marginBottom:10},children:[(0,f.jsx)("span",{style:{color:"#8E9091",fontWeight:500,marginRight:8},children:"First Name"}),(0,f.jsx)("span",{style:{color:"#495052"},children:e.GuardianFirstName||"NA"})]}),(0,f.jsxs)("div",{style:{marginBottom:10},children:[(0,f.jsx)("span",{style:{color:"#8E9091",fontWeight:500,marginRight:8},children:"Last Name"}),(0,f.jsx)("span",{style:{color:"#495052"},children:e.GuardianLastName||"NA"})]}),(0,f.jsxs)("div",{style:{marginBottom:10},children:[(0,f.jsx)("span",{style:{color:"#8E9091",fontWeight:500,marginRight:8},children:"Email"}),(0,f.jsx)("span",{style:{color:"#495052"},children:e.GuardianEmail||"NA"})]}),(0,f.jsxs)("div",{style:{marginBottom:10},children:[(0,f.jsx)("span",{style:{color:"#8E9091",fontWeight:500,marginRight:8},children:"Relationship"}),(0,f.jsx)("span",{style:{color:"#495052"},children:e.RelationshipWithStudent||"NA"})]})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsxs)("div",{style:{marginBottom:10},children:[(0,f.jsx)("span",{style:{color:"#8E9091",fontWeight:500,marginRight:8},children:"Occupation"}),(0,f.jsx)("span",{style:{color:"#495052"},children:e.GuardianOccupation||"NA"})]}),(0,f.jsxs)("div",{style:{marginBottom:10},children:[(0,f.jsx)("span",{style:{color:"#8E9091",fontWeight:500,marginRight:8},children:"Qualification"}),(0,f.jsx)("span",{style:{color:"#495052"},children:e.GuardianQualification||"NA"})]}),(0,f.jsxs)("div",{style:{marginBottom:10},children:[(0,f.jsx)("span",{style:{color:"#8E9091",fontWeight:500,marginRight:8},children:"Contact Number"}),(0,f.jsx)("span",{style:{color:"#495052"},children:null!==(i=e.GuardianContactNumber)&&void 0!==i&&i.countryCode&&null!==(o=e.GuardianContactNumber)&&void 0!==o&&o.number?"".concat(e.GuardianContactNumber.countryCode," ").concat(e.GuardianContactNumber.number):"NA"})]})]})]})})},t)})):(0,f.jsx)(j.Ay,{sx:{color:"#495052"},item:!0,xs:12,children:(0,f.jsx)("div",{children:"No family details available."})})]})})})};var ht=i(56239),pt=i(75456);const vt={PaperProps:{style:{maxHeight:224,width:150}}},gt=()=>{var e,t;const i=(0,r.jL)(),[o,a]=(0,s.useState)(!1),[d,c]=(0,s.useState)(null),[u,x]=(0,s.useState)(null),m=(0,s.useRef)(null),[h,p]=(0,s.useState)(!1),[A,w]=(0,s.useState)(!1),[D,E]=(0,s.useState)(!1),k=(0,r.GV)((e=>e.workexperience)),[W,N]=(0,s.useState)((null===(e=k.data)||void 0===e?void 0:e.length)>0?k.data:[{companyName:"",sector:"",type:"",startDate:"",endDate:"",designation:"",docId:u}]),[F,P]=(0,s.useState)(W.map((e=>e.endDate?"completed":""))),[M,B]=(0,s.useState)({});(0,s.useEffect)((()=>{!async function(){try{const e=await(0,I.E$)();console.log("Fetched profile:",e),e&&e.data&&e.data.workExperience&&i((0,ht.E_)(e.data.workExperience))}catch(e){}}()}),[i]);const O=async e=>{var t;switch(e.name){case"addWork":N([...W,{companyName:"",sector:"",type:"",designation:"",startDate:"",endDate:"",docId:u}]),B({...M,[W.length]:{}});break;case"removeWorkExperience":const l=[...W];l.splice(e.data,1);const s={...M};delete s[e.data],B(s);try{let e={workExperience:l};const t=await(0,I.oS)(e);var n;if(t)i((0,ht.E_)(t.data.data.workExperience)),N((null===(n=t.data.data.workExperience)||void 0===n?void 0:n.length)>0?t.data.data.workExperience:[{companyName:"",sector:"",type:"",designation:"",startDate:"",endDate:"",docId:u}]),i((0,C.DE)({show:!0,data:{container:{name:"success",data:"Work experience removed",dimensions:{width:"30%",height:"40%",show:"none"}},type:"custom"}}))}catch(o){}break;case"inputChange":const{name:r,value:d}=e.data.e.target;N((t=>{const i=[...t];return i[e.data.index]={...i[e.data.index],[r]:d},i})),B((t=>{const i={...t};return i[e.data.index]&&(delete i[e.data.index][r],0===Object.keys(i[e.data.index]).length&&delete i[e.data.index]),i}));break;case"inputClick":null===m||void 0===m||null===(t=m.current)||void 0===t||t.click();break;case"statusChange":const c=[...F];c[e.data.index]=e.data.e.target.value,P(c);break;case"submitForm":if((()=>{const e={};return W.forEach(((t,i)=>{const n={};t.companyName||(n.companyName="Company Name is required"),t.sector||(n.sector="Sector is required"),t.designation||(n.designation="Designation is required"),t.startDate||(n.startDate="Start Date is required"),"completed"!==F[i]||t.endDate||(n.endDate="End Date is required"),t.type||(n.type="Work Type is required"),t.docId||h||(n.docId="Document upload is required"),Object.keys(n).length>0&&(e[i]=n)})),B(e),0===Object.keys(e).length})()){w(!0);try{let e={workExperience:W};const t=await(0,I.oS)(e);t&&(i((0,ht.E_)(t.data.data.workExperience)),i((0,C.DE)({show:!0,data:{container:{name:"success",data:"Work experience added",dimensions:{width:"30%",height:"40%",show:"none"}},type:"custom"}}))),w(!1)}catch(o){w(!1)}}break;case"documentUpload":const v=e.data.e.target.files&&e.data.e.target.files[0];if(v&&R.OD.includes(v.type))try{if(null!==v&&void 0!==v){p(!0);const e=new FormData;e.append("uploaded_file",v),e.append("fieldPath","workExperiences"),e.append("fileIdentifier","workExperiences".concat(v.name));const t=await(0,I.Lb)(e);if(t.data.success){i((0,T.FT)(t.data.data.docs));const e=t.data.data.docs.workExperiences[t.data.data.docs.workExperiences.length-1];x(e);const n=[...W];n[W.length-1].docId=e,N(n),p(!1)}else p(!1)}else p(!1)}catch(a){p(!1)}else i((0,C.DE)({show:!0,data:{container:{name:"error",data:"Only jpeg , png , pdf files are accepted",dimensions:{width:"250px",show:"none"}},type:"custom"}}))}};function q(){return W.reduce(((e,t,i)=>{if(t.startDate&&(t.endDate||"completed"===F[i])){const i=new Date(t.startDate),n=t.endDate?new Date(t.endDate):new Date,o=12*(n.getFullYear()-i.getFullYear())+(n.getMonth()-i.getMonth());return e+(o>0?o:0)}return e}),0)}return(0,f.jsx)(f.Fragment,{children:D?(0,f.jsxs)(n.A,{sx:{overflowY:"scroll",px:3,height:"75vh"},children:[(0,f.jsx)(l.A,{fontSize:"1rem",gutterBottom:!0,color:"#8E9091",sx:{ml:2,mb:2,fontWeight:"500"},children:"Provide details of your most recent or current experience"}),null===W||void 0===W?void 0:W.map(((e,t)=>{var o,s,r,d,u,x,p,A,w,D,E,I,T,z;return(0,f.jsx)("div",{className:"mb-5",children:(0,f.jsxs)(j.Ay,{container:!0,spacing:3,sx:{px:2},children:[(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"",sx:{color:"#8E9091",fontWeight:500},children:"Name of Organization"}),(0,f.jsx)(he.A,{size:"small",name:"companyName",placeholder:"Name of Organization",value:e.companyName,onChange:e=>O({name:"inputChange",data:{index:t,e:e}}),required:!0,fullWidth:!0,error:!(null===(o=M[t])||void 0===o||!o.companyName),helperText:null===(s=M[t])||void 0===s?void 0:s.companyName})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"",sx:{color:"#8E9091",fontWeight:500},children:"Sector"}),(0,f.jsxs)(xe.A,{size:"small",id:"Country",name:"sector",displayEmpty:!0,value:e.sector||"",onChange:e=>O({name:"inputChange",data:{index:t,e:e}}),IconComponent:v.A,required:!0,fullWidth:!0,error:!(null===(r=M[t])||void 0===r||!r.sector),MenuProps:vt,children:[(0,f.jsx)(me.A,{sx:{color:"#495052"},disabled:!0,value:"",children:"Select a sector"}),R.j$.map((e=>(0,f.jsx)(me.A,{sx:{color:"#495052"},value:e.value,children:e.name},e.name))),e.sector&&!R.j$.some((t=>t.value===e.sector))&&(0,f.jsx)(me.A,{value:e.sector,children:e.sector},e.sector),(0,f.jsx)(me.A,{sx:{fontSize:"14px !important",display:"flex",alignItems:"center",whiteSpace:"normal",color:"#1cbeb5  !important"},onClick:()=>{i((0,C.DE)({show:!0,data:{container:{name:"customfield",data:{name:"workExperience[".concat(t,"].sector"),fieldName:e.sector,setFieldName:e=>{const i=[...W];i[t].sector=e,N(i)},placeholder:"Enter your sector"},dimensions:{width:"450px"}},type:"custom"}}))},children:"Can't find your sector"})]}),(null===(d=M[t])||void 0===d?void 0:d.sector)&&(0,f.jsx)(n.A,{sx:{color:"error.main",fontSize:"0.75rem",mt:1},children:M[t].sector})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"",sx:{color:"#8E9091",fontWeight:500},children:"Type of Work"}),(0,f.jsxs)(xe.A,{size:"small",id:"Country",name:"type",displayEmpty:!0,defaultValue:"",value:e.type,onChange:e=>O({name:"inputChange",data:{index:t,e:e}}),IconComponent:v.A,required:!0,fullWidth:!0,error:!(null===(u=M[t])||void 0===u||!u.type),MenuProps:vt,children:[(0,f.jsx)(me.A,{sx:{color:"#495052"},disabled:!0,value:"",children:"Select"}),R.XB.map((e=>(0,f.jsx)(me.A,{sx:{color:"#495052"},value:e.value,children:e.name},e.name)))]}),(null===(x=M[t])||void 0===x?void 0:x.type)&&(0,f.jsx)(n.A,{sx:{color:"error.main",fontSize:"0.75rem",mt:1},children:M[t].type})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"",sx:{color:"#8E9091",fontWeight:500},children:"Designation"}),(0,f.jsx)(he.A,{size:"small",name:"designation",placeholder:"Designation",value:e.designation,onChange:e=>O({name:"inputChange",data:{index:t,e:e}}),required:!0,fullWidth:!0,error:!(null===(p=M[t])||void 0===p||!p.designation),helperText:null===(A=M[t])||void 0===A?void 0:A.designation})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"",sx:{color:"#8E9091",fontWeight:500},children:"Status"}),(0,f.jsx)(ve.A,{sx:{},children:(0,f.jsxs)(ge.A,{row:!0,name:"workStatus",value:F[t],onChange:e=>O({name:"statusChange",data:{index:t,e:e}}),children:[(0,f.jsx)(fe.A,{sx:{color:"#495052"},value:"completed",control:(0,f.jsx)(Ae.A,{}),label:"Completed"}),(0,f.jsx)(fe.A,{sx:{color:"#495052"},value:"ongoing",control:(0,f.jsx)(Ae.A,{}),label:"Ongoing"})]})})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"",sx:{color:"#8E9091",fontWeight:500},children:"Upload Document"}),(0,f.jsxs)(y.A,{direction:"row",spacing:1,alignItems:"center",onClick:()=>{var e;return null===m||void 0===m||null===(e=m.current)||void 0===e?void 0:e.click()},children:[e.docId?"":(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(G.A,{variant:"outlined",size:"small",component:"label",startIcon:(0,f.jsx)(L.A,{}),sx:{...g.zr,fontSize:"12px",textTransform:"capitalize",color:"#495052"},children:["Upload",(0,f.jsx)("input",{type:"file",hidden:!0,onChange:e=>O({name:"documentUpload",data:{index:t,e:e}})})]}),(0,f.jsx)(Z.A,{slotProps:{tooltip:{sx:{color:"#000",backgroundColor:"#fff",fontSize:"14px",boxShadow:1,"&.MuiTooltip-tooltip":{marginTop:"3px !important"}}}},title:"Only jpeg , png , pdf files are accepted",placement:"bottom",children:(0,f.jsx)(pt.A,{sx:{color:"#7d7d7d",fontSize:"1rem",cursor:"pointer"}})})]}),h?(0,f.jsx)(l.A,{variant:"body2",color:"textSecondary",children:"Uploading..."}):e.docId?(0,f.jsxs)(l.A,{variant:"body2",color:"textSecondary",sx:{display:"flex",gap:"1rem",alignItems:"center"},children:[null===e||void 0===e||null===(w=e.docId)||void 0===w||null===(D=w.data)||void 0===D?void 0:D.originalname,(0,f.jsx)(S.A,{sx:{fontSize:"large"},onClick:()=>{var t,n;i((0,C.DE)({show:!0,data:{container:{name:"fileViewer",data:null===(t=e.docId)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.preview_url,dimensions:{width:"500px"}},type:"custom"}}))}})]}):""]}),(null===(E=M[t])||void 0===E?void 0:E.docId)&&(0,f.jsx)(n.A,{sx:{color:"error.main",fontSize:"0.75rem",mt:1},children:M[t].docId})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"",sx:{color:"#8E9091",fontWeight:500},children:"Start Date"}),(0,f.jsx)(ze.A,{selectedDate:null===e||void 0===e?void 0:e.startDate,onChange:e=>O({name:"inputChange",data:{index:t,e:{target:{name:"startDate",value:e?e.toISOString().slice(0,10):""}}}}),maxDate:new Date,placeholderText:"Start Date"}),(null===(I=M[t])||void 0===I?void 0:I.startDate)&&(0,f.jsx)(n.A,{sx:{color:"error.main",fontSize:"0.75rem",mt:1},children:M[t].startDate})]}),"completed"===F[t]&&(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"",sx:{color:"#8E9091",fontWeight:500},children:"End Date"}),(0,f.jsx)(ze.A,{selectedDate:null===e||void 0===e?void 0:e.endDate,onChange:e=>O({name:"inputChange",data:{index:t,e:{target:{name:"endDate",value:e?e.toISOString().slice(0,10):""}}}}),minDate:null!==e&&void 0!==e&&e.startDate?new Date(new Date(null===e||void 0===e?void 0:e.startDate).getTime()+864e6):void 0,maxDate:new Date,placeholderText:"End Date"}),(null===(T=M[t])||void 0===T?void 0:T.endDate)&&(0,f.jsx)(n.A,{sx:{color:"error.main",fontSize:"0.75rem",mt:1},children:M[t].endDate})]}),(null===k||void 0===k||null===(z=k.data)||void 0===z?void 0:z.length)>0&&(0,f.jsx)(j.Ay,{item:!0,xs:12,sx:{mt:3},children:(0,f.jsx)(n.A,{sx:{display:"flex",justifyContent:"end"},children:(0,f.jsx)("img",{src:b.A.deleteIcon,alt:"delete",style:{width:"1.5rem",cursor:"pointer"},onClick:()=>{return e=t,a(!0),void c(e);var e}})})})]})},t)})),(0,f.jsx)(n.A,{sx:{mt:4},children:(0,f.jsxs)(y.A,{direction:"row",sx:{mt:5,mb:1,display:"flex",justifyContent:"end",mr:10},spacing:2,children:[(null===k||void 0===k||null===(t=k.data)||void 0===t?void 0:t.length)>0&&(0,f.jsx)(G.A,{variant:"outlined",sx:{...g.zr,textTransform:"capitalize"},onClick:()=>O({name:"addWork",data:{}}),children:"Add Previous"}),(0,f.jsx)(ke.S,{width:"100px",handleSubmit:()=>O({name:"submitForm",data:{}}),children:A?(0,f.jsx)("img",{src:b.A.standardLoader,alt:"load",style:{width:"1rem",height:"1rem",padding:"4px"}}):"Save"})]})}),(0,f.jsx)(z.A,{open:o,handleClose:()=>a(!1),additionalData:{onSubmit:()=>O({name:"removeWorkExperience",data:d}),title:"Are you sure you want to delete ?",content:""}})]}):(0,f.jsx)(n.A,{sx:{boxShadow:2,borderRadius:3,background:"#fff",p:3,mb:3},children:(0,f.jsxs)(j.Ay,{container:!0,spacing:2,children:[(0,f.jsxs)(j.Ay,{item:!0,xs:12,sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,f.jsx)(l.A,{variant:"h6",sx:{fontWeight:600,color:"#8E9091"},children:"Work Experience"}),(0,f.jsx)(G.A,{variant:"outlined",sx:[{border:"2px solid #F48438 ",borderRadius:"20px",color:"#495052",fontSize:{lg:"16px",xs:"12px"},width:{lg:"100px",xs:"90px"},padding:{lg:"8px",xs:"6px"}}],onClick:()=>E(!0),children:"Edit"})]}),W&&W.length>0?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(j.Ay,{item:!0,xs:12,children:(0,f.jsxs)(l.A,{sx:{color:"grey",fontWeight:500},children:["Total Work Experience in months: ",q()>0?q():"NA"]})}),(0,f.jsx)(j.Ay,{item:!0,xs:12,children:(0,f.jsxs)(j.Ay,{container:!0,sx:{fontWeight:600,background:"#f5f5f5",borderRadius:1,py:1},children:[(0,f.jsx)(j.Ay,{item:!0,xs:12,sm:3,md:2,children:(0,f.jsx)(l.A,{sx:{color:"#8E9091"},children:"Name of Organization"})}),(0,f.jsx)(j.Ay,{item:!0,xs:12,sm:2,md:1.5,children:(0,f.jsx)(l.A,{sx:{color:"#8E9091"},children:"Sector"})}),(0,f.jsx)(j.Ay,{item:!0,xs:12,sm:2,md:1.5,children:(0,f.jsx)(l.A,{sx:{color:"#8E9091"},children:"Type of Work"})}),(0,f.jsx)(j.Ay,{item:!0,xs:12,sm:2,md:1.5,children:(0,f.jsx)(l.A,{sx:{color:"#8E9091"},children:"Designation"})}),(0,f.jsx)(j.Ay,{item:!0,xs:12,sm:1,md:1,children:(0,f.jsx)(l.A,{sx:{color:"#8E9091"},children:"Status"})}),(0,f.jsx)(j.Ay,{item:!0,xs:12,sm:2,md:1.5,children:(0,f.jsx)(l.A,{sx:{color:"#8E9091"},children:"Start Date"})}),(0,f.jsx)(j.Ay,{item:!0,xs:12,sm:2,md:1.5,children:(0,f.jsx)(l.A,{sx:{color:"#8E9091"},children:"End Date"})}),(0,f.jsx)(j.Ay,{item:!0,xs:12,sm:2,md:1.5,children:(0,f.jsx)(l.A,{sx:{color:"#8E9091"},children:"Document"})})]})}),W.map(((e,t)=>{var i,n;return(0,f.jsx)(j.Ay,{item:!0,xs:12,children:(0,f.jsxs)(j.Ay,{container:!0,sx:{py:1,borderBottom:t<W.length-1?"1px solid #eee":"none"},children:[(0,f.jsx)(j.Ay,{item:!0,xs:12,sm:3,md:2,children:(0,f.jsx)(l.A,{sx:{color:"#495052"},children:e.companyName||"NA"})}),(0,f.jsx)(j.Ay,{item:!0,xs:12,sm:2,md:1.5,children:(0,f.jsx)(l.A,{sx:{color:"#495052"},children:e.sector||"NA"})}),(0,f.jsx)(j.Ay,{item:!0,xs:12,sm:2,md:1.5,children:(0,f.jsx)(l.A,{sx:{color:"#495052"},children:e.type||"NA"})}),(0,f.jsx)(j.Ay,{item:!0,xs:12,sm:2,md:1.5,children:(0,f.jsx)(l.A,{sx:{color:"#495052"},children:e.designation||"NA"})}),(0,f.jsx)(j.Ay,{item:!0,xs:12,sm:1,md:1,children:(0,f.jsx)(l.A,{sx:{color:"#495052"},children:e.endDate?"Completed":"Ongoing"})}),(0,f.jsx)(j.Ay,{item:!0,xs:12,sm:2,md:1.5,children:(0,f.jsx)(l.A,{sx:{color:"#495052"},children:e.startDate?e.startDate.split("T")[0]:"NA"})}),(0,f.jsx)(j.Ay,{item:!0,xs:12,sm:2,md:1.5,children:(0,f.jsx)(l.A,{sx:{color:"#495052"},children:e.endDate?e.endDate.split("T")[0]:"NA"})}),(0,f.jsx)(j.Ay,{item:!0,xs:12,sm:2,md:1.5,children:(0,f.jsx)(l.A,{sx:{color:"#495052"},children:(null===(i=e.docId)||void 0===i||null===(n=i.data)||void 0===n?void 0:n.originalname)||"NA"})})]})},t)}))]}):(0,f.jsx)(j.Ay,{item:!0,xs:12,children:(0,f.jsx)(l.A,{children:"No work experience added."})})]})})})};var ft=i(68620),At=i(83510),jt=i(95922),yt=i(20289),bt=i(87358),St=i(41302),Ct=i(41116),wt=i(92429),Dt=i(78496),Et=i(98468);const kt=()=>{var e,t,i,o,a,c,u,x,m,p,A,y,S,w,D,E,k,W,N,T,F,z,P,L,M,B,O,q,V,Y,H,_,U,K,J,Q,$,X;const ee=(0,r.jL)(),te=(0,r.GV)((e=>e.verification)),ie=null===(e=te.data)||void 0===e?void 0:e.phoneLoginOtp.verified,ne=null===(t=te.data)||void 0===t||null===(i=t.emailLoginOtp)||void 0===i?void 0:i.verified,oe=(0,r.GV)((e=>e.personalInfo)),ae=(0,r.GV)((e=>e.sharedInfo)),[le,se]=(0,s.useState)(void 0!==(null===oe||void 0===oe||null===(o=oe.data)||void 0===o?void 0:o.visaRejectedDetails)?"yes":"no"),[re,de]=(0,s.useState)(!1),[ce,pe]=(0,s.useState)(!1),[je,ye]=(0,s.useState)(!1),[Ce,De]=(0,s.useState)([]),[Ee,We]=(0,s.useState)(!1);(0,s.useEffect)((()=>{(async()=>{const e=await we.A.getAllCountries();De(e)})()}),[]);const Ne=Ie.Ik({firstName:Ie.Yj().max(50,"First name cannot exceed 50 characters").required("First name is required"),lastName:Ie.Yj().max(50,"Last name cannot exceed 50 characters").required("Last name is required"),email:Ie.Yj().matches(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,"Enter a valid Email Id").required("Enter Email ID").max(40,"Email ID must be at most 40 characters"),personalDetails:Ie.Ik({DOB:Ie.p6().required("Date of birth is required"),Gender:Ie.Yj().required("Gender is required"),nationality:Ie.Yj().required("Nationality is required"),countyOfBirth:Ie.Yj().required("County of birth is required"),maritalStatus:Ie.Yj().required("Marital status is required")})}),Te={firstName:null===ae||void 0===ae||null===(a=ae.data)||void 0===a?void 0:a.firstName,lastName:null===ae||void 0===ae||null===(c=ae.data)||void 0===c?void 0:c.lastName,email:null===ae||void 0===ae||null===(u=ae.data)||void 0===u?void 0:u.email,personalDetails:{DOB:null===oe||void 0===oe||null===(x=oe.data)||void 0===x?void 0:x.DOB,Gender:null===oe||void 0===oe||null===(m=oe.data)||void 0===m?void 0:m.Gender,nationality:null===oe||void 0===oe||null===(p=oe.data)||void 0===p?void 0:p.nationality,countyOfBirth:null===oe||void 0===oe||null===(A=oe.data)||void 0===A?void 0:A.countyOfBirth,maritalStatus:null===oe||void 0===oe||null===(y=oe.data)||void 0===y?void 0:y.maritalStatus,validPassport:null===oe||void 0===oe||null===(S=oe.data)||void 0===S?void 0:S.validPassport,validPermit:null===oe||void 0===oe||null===(w=oe.data)||void 0===w?void 0:w.validPermit,visaRejectedDetails:null===oe||void 0===oe||null===(D=oe.data)||void 0===D?void 0:D.visaRejectedDetails}},Pe=async e=>{try{var t,i;ye(!0);const V=await(0,I.oS)({...e,personalDetails:{...e.personalDetails,temporaryAddress:null===oe||void 0===oe||null===(t=oe.data)||void 0===t?void 0:t.temporaryAddress,permanentAddress:null===oe||void 0===oe||null===(i=oe.data)||void 0===i?void 0:i.permanentAddress}});if(V.data.success){var n,o,a,l,s,r,d,c,u,x,m,h,p,v,g,f,A,j,y,b,S,w,D,E,k,W,N,T,F,z,P,R,G,L,M,B,O,q;const e={_id:null===(n=V.data)||void 0===n||null===(o=n.data)||void 0===o?void 0:o._id,firstName:null===(a=V.data)||void 0===a||null===(l=a.data)||void 0===l?void 0:l.firstName,lastName:null===(s=V.data)||void 0===s||null===(r=s.data)||void 0===r?void 0:r.lastName,displayPicSrc:null===(d=V.data)||void 0===d||null===(c=d.data)||void 0===c?void 0:c.displayPicSrc,email:null===(u=V.data)||void 0===u||null===(x=u.data)||void 0===x?void 0:x.email,phone:null===(m=V.data)||void 0===m||null===(h=m.data)||void 0===h?void 0:h.phone,LeadSource:null===(p=V.data)||void 0===p||null===(v=p.data)||void 0===v?void 0:v.LeadSource,isPlanningToTakeAcademicTest:null===(g=V.data)||void 0===g||null===(f=g.data)||void 0===f?void 0:f.isPlanningToTakeAcademicTest,isPlanningToTakeLanguageTest:null===(A=V.data)||void 0===A||null===(j=A.data)||void 0===j?void 0:j.isPlanningToTakeLanguageTest},t={DOB:null===(y=V.data)||void 0===y||null===(b=y.data)||void 0===b?void 0:b.personalDetails.DOB,Gender:null===(S=V.data)||void 0===S||null===(w=S.data)||void 0===w?void 0:w.personalDetails.Gender,temporaryAddress:null===(D=V.data)||void 0===D||null===(E=D.data)||void 0===E?void 0:E.personalDetails.temporaryAddress,permanentAddress:null===(k=V.data)||void 0===k||null===(W=k.data)||void 0===W?void 0:W.personalDetails.permanentAddress,nationality:null===(N=V.data)||void 0===N||null===(T=N.data)||void 0===T?void 0:T.personalDetails.nationality,countyOfBirth:null===(F=V.data)||void 0===F||null===(z=F.data)||void 0===z?void 0:z.personalDetails.countyOfBirth,maritalStatus:null===(P=V.data)||void 0===P||null===(R=P.data)||void 0===R?void 0:R.personalDetails.maritalStatus,validPassport:null===(G=V.data)||void 0===G||null===(L=G.data)||void 0===L?void 0:L.personalDetails.validPassport,validPermit:null===(M=V.data)||void 0===M||null===(B=M.data)||void 0===B?void 0:B.personalDetails.validPermit,visaRejectedDetails:null===(O=V.data)||void 0===O||null===(q=O.data)||void 0===q?void 0:q.personalDetails.visaRejectedDetails};ee((0,Ye.q5)({...e})),ee((0,Dt.p5)({...t})),ee((0,C.DE)({show:!0,data:{container:{name:"success",data:"Profile updated successfully",dimensions:{width:"30%",height:"40%",show:"none"}},type:"custom"}})),ye(!1),We(!1)}else ye(!1)}catch(V){}},Re=()=>{const e=new Date;return new Date(e.getFullYear()-12,e.getMonth(),e.getDate())};return(0,f.jsx)(f.Fragment,{children:Ee?(0,f.jsx)("div",{children:(0,f.jsx)(be.l1,{initialValues:Te,validationSchema:Ne,enableReinitialize:!0,onSubmit:e=>Pe(e),children:e=>{var t,i,o,a,s,r,d,c,u,x,m;let{touched:h,errors:p,values:A,handleChange:y,setFieldValue:S}=e;return(0,f.jsxs)(be.lV,{style:{},children:[(0,f.jsxs)(j.Ay,{container:!0,spacing:4,sx:{px:{xs:.5,lg:2},width:"100% !important"},children:[(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsxs)(ue.A,{id:"firstName",sx:{fontWeight:"500",color:"#8E9091",mb:1},children:["First Name"," "]}),(0,f.jsx)(Se.A,{id:"name",type:"text",placeholder:"First Name",name:"firstName",value:A.firstName,onChange:y,fullWidth:!0,maxLength:50,onkeydown:e=>{var t;null!==A&&void 0!==A&&A.firstName&&(null===A||void 0===A||null===(t=A.firstName)||void 0===t?void 0:t.length)>=50&&"Backspace"!==e.key&&"Delete"!==e.key&&e.preventDefault()},error:h.firstName&&Boolean(p.firstName)}),(0,f.jsx)("div",{style:{color:"#e60c0c",fontSize:"12px"},children:(0,f.jsx)(be.Kw,{name:"firstName",component:"div"})})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsxs)(ue.A,{id:"firstName",sx:{fontWeight:"500",color:"#8E9091",mb:1},children:["Last Name"," "]}),(0,f.jsx)(Se.A,{id:"lastName",type:"text",placeholder:"Last Name",name:"lastName",value:A.lastName,onChange:y,fullWidth:!0,maxLength:50,onkeydown:e=>{var t;null!==A&&void 0!==A&&A.lastName&&(null===A||void 0===A||null===(t=A.lastName)||void 0===t?void 0:t.length)>=50&&"Backspace"!==e.key&&"Delete"!==e.key&&e.preventDefault()},error:h.lastName&&Boolean(p.lastName)}),(0,f.jsx)("div",{style:{color:"#e60c0c",fontSize:"12px"},children:(0,f.jsx)(be.Kw,{name:"lastName",component:"div"})})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,md:6,children:[(0,f.jsxs)(ue.A,{id:"firstName",sx:{fontWeight:"500",color:"#8E9091",mb:1},children:["Email"," "]}),(0,f.jsxs)(n.A,{sx:{display:"flex"},children:[ne?(0,f.jsx)(l.A,{sx:{border:"1px solid rgba(0, 0, 0, 0.23)",p:1,borderRadius:"5px",width:"100%"},children:null===ae||void 0===ae||null===(t=ae.data)||void 0===t?void 0:t.email}):(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(Se.A,{id:"lastName",type:"email",placeholder:"Email",name:"email",value:A.email,onChange:y,fullWidth:!0,error:h.email&&Boolean(p.email)})}),(0,f.jsx)(n.A,{sx:{display:"flex",justifyContent:"center",width:"20%"},children:ne&&null!==ae&&void 0!==ae&&null!==(i=ae.data)&&void 0!==i&&i.email?(0,f.jsx)(Z.A,{slotProps:{tooltip:{sx:{color:"#514E6A",backgroundColor:"#ffff",boxShadow:2,cursor:"pointer"}}},title:"Verified",placement:"right",children:(0,f.jsx)(Et.A,{sx:{fontSize:{xs:"1.2rem"},color:"green",marginLeft:"-8px",cursor:"pointer"}})}):A.email&&!ne?(0,f.jsx)(G.A,{sx:[g.zr,{width:"75px"}],onClick:()=>(async e=>{switch(e.name){case"verifyPhone":pe(!0);const i=await(0,I.qm)({});i?(pe(!1),ee((0,C.DE)({show:!0,data:{container:{name:"phoneverification",data:i.data.message,dimensions:{width:"400px"}},type:"custom"}}))):pe(!1);break;case"verifyemail":if(de(!0),e.data){if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.data))return ee((0,C.DE)({show:!0,data:{container:{name:"error",data:"Please enter a valid email address.",dimensions:{width:"400px",show:"none"}},type:"custom"}})),void de(!1);try{const t=await(0,I.cX)({email:e.data});t?(ee((0,C.DE)({show:!0,data:{container:{name:"verifyEmail",data:e.data,dimensions:{width:"500px"}},type:"custom"}})),de(!1)):console.log("Verification failed:",t)}catch(t){ee((0,C.DE)({show:!0,data:{container:{name:"error",data:t.response.data.message,dimensions:{width:"500px"}},type:"custom"}}))}finally{de(!1)}}else de(!1)}})({name:"verifyemail",data:A.email}),children:re?(0,f.jsx)("img",{src:b.A.standardLoader,alt:"load",style:{width:"1rem"}}):"Verify"}):""})]}),(0,f.jsx)("div",{style:{color:"#e60c0c",fontSize:"12px"},children:(0,f.jsx)(be.Kw,{name:"email",component:"div"})})]}),(0,f.jsx)(j.Ay,{item:!0,xs:12,sm:6,children:null!==ae&&void 0!==ae&&null!==(o=ae.data)&&void 0!==o&&o.phone&&(ae.data.phone.number||Object.keys(ae.data.phone).length>0)?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(ue.A,{id:"firstName",sx:{fontWeight:"500",color:"#8E9091",mb:1},children:"Contact number"}),(0,f.jsxs)(n.A,{sx:{display:"flex"},children:[(0,f.jsxs)(l.A,{sx:{border:"1px solid rgba(0, 0, 0, 0.23)",p:1,borderRadius:"5px",width:"100%"},onClick:()=>ee((0,C.DE)({show:!0,data:{container:{name:"phonenumber",dimensions:{width:"400px",show:"none"}},type:"custom"}})),children:[null===ae||void 0===ae||null===(a=ae.data)||void 0===a||null===(s=a.phone)||void 0===s?void 0:s.countryCode," ",null===ae||void 0===ae||null===(r=ae.data)||void 0===r||null===(d=r.phone)||void 0===d?void 0:d.number]}),(0,f.jsx)(n.A,{sx:{width:"20%",display:"flex",justifyContent:"center"},children:ie?(0,f.jsx)(Z.A,{slotProps:{tooltip:{sx:{color:"#514E6A",backgroundColor:"#ffff",boxShadow:2,cursor:"pointer"}}},title:"Verified",placement:"right",children:(0,f.jsx)(Et.A,{sx:{fontSize:{xs:"1.2rem"},color:"green",marginLeft:"-8px",cursor:"pointer"}})}):(0,f.jsx)(G.A,{sx:[g.zr,{width:"75px"}],onClick:()=>ee((0,C.DE)({show:!0,data:{container:{name:"phonenumber",dimensions:{width:"400px",show:"none"}},type:"custom"}})),children:ce?(0,f.jsx)("img",{src:b.A.standardLoader,alt:"load",style:{width:"1rem"}}):"Verify"})})]})]}):(0,f.jsx)(G.A,{sx:{textTransform:"none",fontSize:"1rem"},onClick:()=>ee((0,C.DE)({show:!0,data:{container:{name:"phonenumber",dimensions:{width:"400px",show:"none"}},type:"custom"}})),children:"+ Add contact number"})}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"firstName",sx:{fontWeight:"500",color:"#8E9091",mb:1},children:"Gender"}),(0,f.jsxs)(xe.A,{id:"Country",size:"small",name:"personalDetails.Gender",displayEmpty:!0,defaultValue:"",value:A.personalDetails.Gender,onChange:y,fullWidth:!0,IconComponent:v.A,error:Boolean((null===(c=h.personalDetails)||void 0===c?void 0:c.Gender)&&(null===(u=p.personalDetails)||void 0===u?void 0:u.Gender)),children:[(0,f.jsx)(me.A,{disabled:!0,value:"",sx:{"& .MuiTypography-root":{fontSize:"14px !important"}},children:"Gender"}),["Male","Female","Non-Binary","Prefer Not to Say"].map((e=>(0,f.jsx)(me.A,{value:e,sx:{"& .MuiTypography-root":{fontSize:"14px !important"},"& .MuiSvgIcon-root ":{fontSize:"1rem"},whiteSpace:"normal"},children:e},e)))]}),(0,f.jsx)("div",{style:{color:"#e60c0c",fontSize:"12px"},children:(0,f.jsx)(be.Kw,{name:"personalDetails.Gender",component:"div"})})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"firstName",sx:{fontWeight:"500",color:"#8E9091",mb:1},children:"Date of Birth"}),(0,f.jsx)(ze.A,{selectedDate:A.personalDetails.DOB,onChange:e=>S("personalDetails.DOB",null===e||void 0===e?void 0:e.toISOString().slice(0,10)),maxDate:Re(),placeholderText:"Date of Birth"}),(0,f.jsx)("div",{style:{color:"#e60c0c",fontSize:"12px"},children:(0,f.jsx)(be.Kw,{name:"personalDetails.DOB",component:"div"})})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"firstName",sx:{fontWeight:"500",color:"#8E9091",mb:1},children:"Nationality"}),(0,f.jsx)(Fe,{label:"Nationality",name:"personalDetails.nationality",options:R.bf,value:A.personalDetails.nationality,onChange:e=>S("personalDetails.nationality",e.target.value),placeholder:"Select",searchEnabled:!0}),(0,f.jsx)("div",{style:{color:"#e60c0c",fontSize:"12px"},children:(0,f.jsx)(be.Kw,{name:"personalDetails.nationality",component:"div"})})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"firstName",sx:{fontWeight:"500",color:"#8E9091",mb:1},children:"Country of Birth"}),(0,f.jsx)(Fe,{label:"Country",name:"personalDetails.countyOfBirth",options:Ce.map((e=>e.name)),value:A.personalDetails.countyOfBirth,onChange:y,placeholder:"Select",searchEnabled:!0}),(0,f.jsx)("div",{style:{color:"#e60c0c",fontSize:"12px"},children:(0,f.jsx)(be.Kw,{name:"personalDetails.countyOfBirth",component:"div"})})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"firstName",sx:{fontWeight:"500",color:"#8E9091",mb:1},children:"Marital status"}),(0,f.jsx)(ve.A,{children:(0,f.jsx)(ge.A,{"aria-label":"radio-group",name:"personalDetails.maritalStatus",value:A.personalDetails.maritalStatus,sx:{display:"flex",flexDirection:"row"},onChange:e=>S("personalDetails.maritalStatus",e.target.value),children:["Married","Single","Widowed","Seperated"].map((e=>(0,f.jsx)(fe.A,{value:e,control:(0,f.jsx)(Ae.A,{sx:{"&.Mui-checked.Mui-disabled":{color:"#14C6A4"}}}),label:e},e)))})}),(0,f.jsx)("div",{style:{color:"#e60c0c",fontSize:"12px"},children:(0,f.jsx)(be.Kw,{name:"personalDetails.maritalStatus",component:"div"})})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"firstName",sx:{fontWeight:"500",color:"#8E9091",mb:1},children:"Do you have valid passport ?"}),(0,f.jsxs)(xe.A,{size:"small",id:"Country",name:"personalDetails.validPassport",displayEmpty:!0,defaultValue:"",value:A.personalDetails.validPassport,onChange:y,fullWidth:!0,IconComponent:v.A,error:Boolean((null===(x=h.personalDetails)||void 0===x?void 0:x.validPassport)&&(null===(m=p.personalDetails)||void 0===m?void 0:m.validPassport)),children:[(0,f.jsx)(me.A,{disabled:!0,value:"",sx:{"& .MuiTypography-root":{fontSize:"14px !important"}},children:"Do you have a valid passport"}),[{name:"Yes",value:"yes"},{name:"No",value:"no"},{name:"Processing",value:"processing"}].map((e=>(0,f.jsx)(me.A,{value:e.value,sx:{"& .MuiTypography-root":{fontSize:"14px !important"},"& .MuiSvgIcon-root ":{fontSize:"1rem"},whiteSpace:"normal"},children:e.name},e)))]}),(0,f.jsx)("div",{style:{color:"#e60c0c",fontSize:"12px"},children:(0,f.jsx)(be.Kw,{name:"personalDetails.validPassport",component:"div"})})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"refusedLabel",sx:{fontWeight:"500",color:"#000",mb:1,whiteSpace:"normal"},children:"Have you ever been refused a visa from any country?"}),(0,f.jsxs)(xe.A,{size:"small",id:"Country",name:"refusal",displayEmpty:!0,defaultValue:"",value:"no"===le&&A.personalDetails.visaRejectedDetails?"yes":le,onChange:e=>{const t=e.target.value;console.log("newValue",t),se(t),"no"===t&&y({target:{name:"personalDetails.visaRejectedDetails",value:""}})},fullWidth:!0,IconComponent:v.A,children:[(0,f.jsx)(me.A,{disabled:!0,value:"",sx:{"& .MuiTypography-root":{fontSize:"14px !important"}},children:"Select"}),[{name:"Yes",value:"yes"},{name:"No",value:"no"}].map((e=>(0,f.jsx)(me.A,{value:e.value,sx:{"& .MuiTypography-root":{fontSize:"14px !important"},"& .MuiSvgIcon-root ":{fontSize:"1rem"},whiteSpace:"normal"},children:e.name},e.value)))]})]}),("yes"===le||A.personalDetails.visaRejectedDetails)&&(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"visaRejectedDetailsLabel",sx:{fontWeight:"500",color:"#000",mb:1},children:"Reason for visa rejection"}),(0,f.jsx)(he.A,{variant:"outlined",size:"small",type:"text",id:"visaRejectedDetails",multiline:!0,fullWidth:!0,rows:3,placeholder:"Reason for visa rejection",onChange:y,name:"personalDetails.visaRejectedDetails",value:A.personalDetails.visaRejectedDetails})]})]}),(0,f.jsx)(n.A,{sx:{display:"flex",justifyContent:"end",pb:2,mr:10,mt:3},children:(0,f.jsx)(ke.S,{width:"100px",handleSubmit:()=>Pe,children:je?(0,f.jsx)("img",{src:b.A.standardLoader,alt:"load",style:{width:"1rem",height:"1rem",padding:"6px"}}):"Save"})})]})}})}):(0,f.jsx)(d.A,{sx:{boxShadow:2,borderRadius:3},children:(0,f.jsx)(h.A,{children:(0,f.jsxs)(j.Ay,{container:!0,spacing:2,children:[(0,f.jsxs)(j.Ay,{item:!0,xs:12,sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,f.jsxs)(n.A,{sx:{display:"flex",alignItems:"center"},children:[(null===ae||void 0===ae||null===(E=ae.data)||void 0===E?void 0:E.displayPicSrc)&&(0,f.jsx)("img",{src:ae.data.displayPicSrc,alt:"profile",style:{width:48,height:48,borderRadius:"50%",marginRight:16}}),(0,f.jsxs)(n.A,{children:[(0,f.jsxs)(l.A,{variant:"h6",sx:{fontWeight:600},children:[(null===ae||void 0===ae||null===(k=ae.data)||void 0===k?void 0:k.firstName)||"NA"," ",(null===ae||void 0===ae||null===(W=ae.data)||void 0===W?void 0:W.lastName)||"NA"]}),(0,f.jsx)(l.A,{variant:"body2",color:"text.secondary",children:(null===ae||void 0===ae||null===(N=ae.data)||void 0===N?void 0:N.email)||"NA"})]})]}),(0,f.jsx)(G.A,{variant:"outlined",sx:[{border:"2px solid #F48438 ",borderRadius:"20px",color:"#495052",fontSize:{lg:"16px",xs:"12px"},width:{lg:"100px",xs:"90px"},padding:{lg:"8px",xs:"6px"}}],onClick:()=>{We(!0)},children:"Edit"})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500},children:"First name"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:(null===ae||void 0===ae||null===(T=ae.data)||void 0===T?void 0:T.firstName)||"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"Email ID"}),(0,f.jsxs)(n.A,{sx:{display:"flex",alignItems:"center"},children:[(0,f.jsx)(l.A,{sx:{color:"#495052"},children:(null===ae||void 0===ae||null===(F=ae.data)||void 0===F?void 0:F.email)||"NA"}),ne&&(null===ae||void 0===ae||null===(z=ae.data)||void 0===z?void 0:z.email)&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(Et.A,{sx:{color:"green",fontSize:18,ml:1}}),(0,f.jsx)(l.A,{sx:{color:"green",fontSize:13,ml:.5},children:"Verified"})]})]}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"Gender"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:(null===oe||void 0===oe||null===(P=oe.data)||void 0===P?void 0:P.Gender)||"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"Nationality"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:(null===oe||void 0===oe||null===(L=oe.data)||void 0===L?void 0:L.nationality)||"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"Marital status"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:(null===oe||void 0===oe||null===(M=oe.data)||void 0===M?void 0:M.maritalStatus)||"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"Have you ever been refused a visa from any country"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:void 0===(null===oe||void 0===oe||null===(B=oe.data)||void 0===B?void 0:B.visaRejectedDetails)?"NA":""===(null===oe||void 0===oe||null===(O=oe.data)||void 0===O?void 0:O.visaRejectedDetails)?"No":"Yes"})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500},children:"Last name"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:(null===ae||void 0===ae||null===(q=ae.data)||void 0===q?void 0:q.lastName)||"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"Contact number"}),(0,f.jsxs)(n.A,{sx:{display:"flex",alignItems:"center"},children:[(0,f.jsxs)(l.A,{sx:{color:"#495052"},children:[null!==ae&&void 0!==ae&&null!==(V=ae.data)&&void 0!==V&&null!==(Y=V.phone)&&void 0!==Y&&Y.countryCode?"".concat(ae.data.phone.countryCode," "):"",(null===ae||void 0===ae||null===(H=ae.data)||void 0===H||null===(_=H.phone)||void 0===_?void 0:_.number)||"NA"]}),ie&&(null===ae||void 0===ae||null===(U=ae.data)||void 0===U?void 0:U.phone)&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(Et.A,{sx:{color:"green",fontSize:18,ml:1}}),(0,f.jsx)(l.A,{sx:{color:"green",fontSize:13,ml:.5},children:"Verified"})]})]}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"Date of birth"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:null!==oe&&void 0!==oe&&null!==(K=oe.data)&&void 0!==K&&K.DOB?oe.data.DOB.split("T")[0]:"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"Country of birth"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:(null===oe||void 0===oe||null===(J=oe.data)||void 0===J?void 0:J.countyOfBirth)||"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"Do you have valid passport"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:"yes"===(null===oe||void 0===oe||null===(Q=oe.data)||void 0===Q?void 0:Q.validPassport)?"Yes":"no"===(null===oe||void 0===oe||null===($=oe.data)||void 0===$?void 0:$.validPassport)?"No":"processing"===(null===oe||void 0===oe||null===(X=oe.data)||void 0===X?void 0:X.validPassport)?"Processing":"NA"})]})]})})})})},Wt=()=>{var e,t,i,o,a,d,c,u,x,m,h,p,g,A,y,S,w,D,E,k,W,N,T,F,z,P,R,L,M,B,O,q,V,Y,H,_,U,K,J,Z,Q,$,X,ee,te,ie,ne,oe,ae,le;const se=(0,r.jL)(),re=(0,r.GV)((e=>e.personalInfo)),[de,ce]=(0,s.useState)(""),[pe,Ce]=(0,s.useState)(!1),[We,Ne]=(0,s.useState)([]),[ze,Pe]=(0,s.useState)([]),[Re,Ge]=(0,s.useState)([]),[Le,Me]=(0,s.useState)([]),[Be,Oe]=(0,s.useState)([]),[qe,Ve]=(0,s.useState)(null===re||void 0===re||null===(e=re.data)||void 0===e||null===(t=e.temporaryAddress)||void 0===t?void 0:t.country),[Ye,He]=(0,s.useState)(null===re||void 0===re||null===(i=re.data)||void 0===i||null===(o=i.temporaryAddress)||void 0===o?void 0:o.state),[_e,Ue]=(0,s.useState)(null===re||void 0===re||null===(a=re.data)||void 0===a||null===(d=a.temporaryAddress)||void 0===d?void 0:d.city),[Ke,Je]=(0,s.useState)(null===re||void 0===re||null===(c=re.data)||void 0===c||null===(u=c.permanentAddress)||void 0===u?void 0:u.country),[Ze,Qe]=(0,s.useState)(null===re||void 0===re||null===(x=re.data)||void 0===x||null===(m=x.permanentAddress)||void 0===m?void 0:m.state),[$e,Xe]=(0,s.useState)(null===re||void 0===re||null===(h=re.data)||void 0===h||null===(p=h.permanentAddress)||void 0===p?void 0:p.city),et=We.find((e=>e.name===qe)),tt=ze.find((e=>e.name===Ye)),it=We.find((e=>e.name===Ke)),nt=ze.find((e=>e.name===Ze));(0,s.useEffect)((()=>{(async()=>{const e=await we.A.getAllCountries();Ne(e)})()}),[]),(0,s.useEffect)((()=>{(async()=>{var e,t;const i=await De.Ay.getStatesOfCountry(null===et||void 0===et?void 0:et.isoCode);Pe(i);const n=await Ee.A.getCitiesOfState(null!==(e=null===tt||void 0===tt?void 0:tt.countryCode)&&void 0!==e?e:"",null!==(t=null===tt||void 0===tt?void 0:tt.isoCode)&&void 0!==t?t:"");Ge(n)})()}),[et,tt]),(0,s.useEffect)((()=>{(async()=>{var e,t;const i=await De.Ay.getStatesOfCountry(null===it||void 0===it?void 0:it.isoCode);Me(i);const n=await Ee.A.getCitiesOfState(null!==(e=null===nt||void 0===nt?void 0:nt.countryCode)&&void 0!==e?e:"",null!==(t=null===nt||void 0===nt?void 0:nt.isoCode)&&void 0!==t?t:"");Oe(n)})()}),[it,nt]),(0,s.useEffect)((()=>{var e,t,i,n,o,a,l,s,r,d,c,u;null!==re&&void 0!==re&&re.data&&(Ve(null===re||void 0===re||null===(e=re.data)||void 0===e||null===(t=e.temporaryAddress)||void 0===t?void 0:t.country),He(null===re||void 0===re||null===(i=re.data)||void 0===i||null===(n=i.temporaryAddress)||void 0===n?void 0:n.state),Ue(null===re||void 0===re||null===(o=re.data)||void 0===o||null===(a=o.temporaryAddress)||void 0===a?void 0:a.city),Je(null===re||void 0===re||null===(l=re.data)||void 0===l||null===(s=l.permanentAddress)||void 0===s?void 0:s.country),Qe(null===re||void 0===re||null===(r=re.data)||void 0===r||null===(d=r.permanentAddress)||void 0===d?void 0:d.state),Xe(null===re||void 0===re||null===(c=re.data)||void 0===c||null===(u=c.permanentAddress)||void 0===u?void 0:u.city))}),[re]);const ot=async e=>{switch(e.name){case"temporaryCountry":Ve(e.data),He(""),Ue(""),Ge([]);const t=We.find((t=>t.name===e.data));if(t){const e=await De.Ay.getStatesOfCountry(t.isoCode);Pe(e)}break;case"temporaryState":Ue(""),He(e.data);const i=ze.find((t=>t.name===e.data));if(i){const e=await Ee.A.getCitiesOfState(i.countryCode,i.isoCode);Ge(e)}break;case"temporaryCity":Ue(e.data);break;case"permanentCountry":Je(e.data),Qe(""),Xe(""),Oe([]);const n=We.find((t=>t.name===e.data));if(n){const e=await De.Ay.getStatesOfCountry(n.isoCode);Me(e)}break;case"permanentState":Xe(""),Qe(e.data);const o=Le.find((t=>t.name===e.data));if(o){const e=await Ee.A.getCitiesOfState(null===o||void 0===o?void 0:o.countryCode,null===o||void 0===o?void 0:o.isoCode);Oe(e)}break;case"permanentCity":Xe(e.data)}},at=Ie.Ik({personalDetails:Ie.Ik({temporaryAddress:Ie.Ik({city:Ie.Yj().required("City is required"),state:Ie.Yj().required("State is required"),pinCode:Ie.Yj().required("Pincode is required"),country:Ie.Yj().required("Country is required"),addressLine1:Ie.Yj().required("Address Line1 is required")}),permanentAddress:Ie.Ik().when("permanent",{is:"no",then:e=>e.shape({city:Ie.Yj().required("City is required"),state:Ie.Yj().required("State is required"),pinCode:Ie.Yj().required("Pincode is required"),country:Ie.Yj().required("Country is required"),addressLine1:Ie.Yj().required("Address Line1 is required")})})})}),lt={personalDetails:{temporaryAddress:{city:_e,state:Ye,pinCode:null===re||void 0===re||null===(g=re.data)||void 0===g||null===(A=g.temporaryAddress)||void 0===A?void 0:A.pinCode,country:qe,addressLine1:null===re||void 0===re||null===(y=re.data)||void 0===y||null===(S=y.temporaryAddress)||void 0===S?void 0:S.addressLine1,addressLine2:null===re||void 0===re||null===(w=re.data)||void 0===w||null===(D=w.temporaryAddress)||void 0===D?void 0:D.addressLine2,addressLine3:null===re||void 0===re||null===(E=re.data)||void 0===E||null===(k=E.temporaryAddress)||void 0===k?void 0:k.addressLine3},permanentAddress:{city:$e,state:Ze,pinCode:null===re||void 0===re||null===(W=re.data)||void 0===W||null===(N=W.permanentAddress)||void 0===N?void 0:N.pinCode,country:Ke,addressLine1:null===re||void 0===re||null===(T=re.data)||void 0===T||null===(F=T.permanentAddress)||void 0===F?void 0:F.addressLine1,addressLine2:null===re||void 0===re||null===(z=re.data)||void 0===z||null===(P=z.permanentAddress)||void 0===P?void 0:P.addressLine2,addressLine3:null===re||void 0===re||null===(R=re.data)||void 0===R||null===(L=R.permanentAddress)||void 0===L?void 0:L.addressLine3}}};(0,s.useEffect)((()=>{var e;const t=lt.personalDetails.temporaryAddress,i=lt.personalDetails.permanentAddress;var n;null==(n=null===re||void 0===re||null===(e=re.data)||void 0===e?void 0:e.permanentAddress)||0===Object.keys(n).length&&n.constructor===Object?ce(""):t.city===i.city&&t.state===i.state&&t.pinCode===i.pinCode&&t.country===i.country&&t.addressLine1===i.addressLine1&&t.addressLine2===i.addressLine2&&t.addressLine3===i.addressLine3?ce("yes"):ce("no")}),[]);const st=async e=>{try{Ce(!0),"yes"===de&&(e.personalDetails.permanentAddress={...e.personalDetails.temporaryAddress});const a=await(0,I.oS)({personalDetails:{...re.data,temporaryAddress:null===e||void 0===e?void 0:e.personalDetails.temporaryAddress,permanentAddress:null===e||void 0===e?void 0:e.personalDetails.permanentAddress}});var t,i,n,o;if(a.data.success)se((0,Dt.p5)({...re.data,temporaryAddress:null===(t=a.data)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.personalDetails.temporaryAddress,permanentAddress:null===(n=a.data)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.personalDetails.permanentAddress})),se((0,C.DE)({show:!0,data:{container:{name:"success",data:"Address added successfully",dimensions:{width:"30%",height:"40%",show:"none"}},type:"custom"}})),Ce(!1);else Ce(!1)}catch(a){}},[rt,dt]=(0,s.useState)(""),[ct,ut]=(0,s.useState)(!1),[xt,mt]=(0,s.useState)(!1),ht=()=>{ut(!1)},pt=()=>{mt(!1)},vt=(0,s.useMemo)((()=>Re.filter((e=>e.name.toLowerCase().includes(rt.toLowerCase())))),[Re,rt]),gt=(0,s.useMemo)((()=>Be.filter((e=>e.name.toLowerCase().includes(rt.toLowerCase())))),[Be,rt]);return(0,f.jsx)(f.Fragment,{children:xt?(0,f.jsx)(be.l1,{initialValues:lt,validationSchema:at,enableReinitialize:!0,onSubmit:e=>st(e),children:e=>{var t,i,o,a,l,s,r,d;let{touched:c,errors:u,values:x,handleChange:m,setFieldValue:h}=e;return(0,f.jsxs)(be.lV,{style:{},children:[(0,f.jsxs)(j.Ay,{container:!0,spacing:4,sx:{px:{xs:.5,lg:2},width:"100% !important"},children:[(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"permAddressLine1",sx:{fontWeight:"500",color:"#000",mb:1},children:"Address Line 1"}),(0,f.jsx)(Se.A,{id:"permAddressLine1",type:"text",placeholder:"Address Line 1",name:"personalDetails.permanentAddress.addressLine1",value:x.personalDetails.permanentAddress.addressLine1,onChange:e=>h("personalDetails.permanentAddress.addressLine1",e.target.value),fullWidth:!0,error:Boolean((null===(t=c.personalDetails)||void 0===t||null===(i=t.permanentAddress)||void 0===i?void 0:i.addressLine1)&&(null===(o=u.personalDetails)||void 0===o||null===(a=o.permanentAddress)||void 0===a?void 0:a.addressLine1))}),(0,f.jsx)("div",{style:{color:"#e60c0c",fontSize:"12px"},children:(0,f.jsx)(be.Kw,{name:"personalDetails.permanentAddress.addressLine1",component:"div"})})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"permAddressLine2",sx:{fontWeight:"500",color:"#000",mb:1},children:"Address Line 2"}),(0,f.jsx)(Se.A,{id:"permAddressLine2",type:"text",placeholder:"Address Line 2",name:"personalDetails.permanentAddress.addressLine2",value:x.personalDetails.permanentAddress.addressLine2,onChange:m,fullWidth:!0})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"permAddressLine3",sx:{fontWeight:"500",color:"#000",mb:1},children:"Address Line 3"}),(0,f.jsx)(Se.A,{id:"permAddressLine3",type:"text",placeholder:"Address Line 3",name:"personalDetails.permanentAddress.addressLine3",value:x.personalDetails.permanentAddress.addressLine3,onChange:m,fullWidth:!0})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"permCountry",sx:{fontWeight:"500",color:"#000",mb:1},children:"Country"}),(0,f.jsx)(Fe,{label:"Country",name:"personalDetails.permanentAddress.country",options:We.map((e=>e.name)),value:Ke,onChange:e=>ot({name:"permanentCountry",data:null===e||void 0===e?void 0:e.target.value}),placeholder:"Select",searchEnabled:!0}),(0,f.jsx)("div",{style:{color:"#e60c0c",fontSize:"12px"},children:(0,f.jsx)(be.Kw,{name:"personalDetails.permanentAddress.country",component:"div"})})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"permState",sx:{fontWeight:"500",color:"#000",mb:1},children:"State/Province"}),(0,f.jsx)(Fe,{label:"State",name:"personalDetails.permanentAddress.state",options:Le.map((e=>e.name)),value:Ze,onChange:e=>ot({name:"permanentState",data:null===e||void 0===e?void 0:e.target.value}),placeholder:"Select",searchEnabled:!0}),(0,f.jsx)("div",{style:{color:"#e60c0c",fontSize:"12px"},children:(0,f.jsx)(be.Kw,{name:"personalDetails.permanentAddress.state",component:"div"})})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"permCity",sx:{fontWeight:"500",color:"#000",mb:1},children:"City/Town"}),(0,f.jsx)(ve.A,{fullWidth:!0,children:(0,f.jsxs)(xe.A,{id:"permCity",name:"personalDetails.permanentAddress.city",value:$e,displayEmpty:!0,size:"small",defaultValue:"",onChange:e=>Xe(e.target.value),fullWidth:!0,IconComponent:v.A,onClose:()=>dt(""),MenuProps:{PaperProps:{sx:{maxHeight:300,"&.MuiPaper-root":{boxShadow:3,borderRadius:"15px !important"}}}},children:[(0,f.jsx)(je.A,{children:(0,f.jsx)(he.A,{size:"small",autoFocus:!0,placeholder:"Search City...",fullWidth:!0,value:rt,onChange:e=>dt(e.target.value),InputProps:{startAdornment:(0,f.jsx)(ye.A,{position:"start",children:(0,f.jsx)(Te.A,{})})},onKeyDown:e=>{"Escape"!==e.key&&e.stopPropagation()}})}),(0,f.jsx)(me.A,{value:"",disabled:!0,children:"Select City"}),gt.length>0?gt.map((e=>(0,f.jsx)(me.A,{value:e.name,children:e.name},e.name))):(0,f.jsx)(me.A,{disabled:!0,children:"No cities available"}),!Be.some((e=>e.name===$e))&&void 0!==$e&&""!==$e&&(0,f.jsx)(me.A,{value:$e,children:$e},$e),(0,f.jsx)(me.A,{sx:{fontSize:"14px !important",display:"flex",alignItems:"center",whiteSpace:"normal",color:"#1cbeb5 !important"},onClick:()=>{se((0,C.DE)({show:!0,data:{container:{name:"customfield",data:{name:"personalDetails.permanentAddress.city",fieldName:$e,setFieldName:Xe,placeholder:"Enter your city"},dimensions:{width:"450px"}},type:"custom"}}))},children:"Can't find city"})]})}),(0,f.jsx)("div",{style:{color:"#e60c0c",fontSize:"12px"},children:(0,f.jsx)(be.Kw,{name:"personalDetails.permanentAddress.city",component:"div"})})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"permPinCode",sx:{fontWeight:"500",color:"#000",mb:1},children:"Zipcode"}),(0,f.jsx)(Se.A,{id:"permPinCode",type:"number",placeholder:"Pincode",name:"personalDetails.permanentAddress.pinCode",value:x.personalDetails.permanentAddress.pinCode,onChange:m,fullWidth:!0,error:Boolean((null===(l=c.personalDetails)||void 0===l||null===(s=l.permanentAddress)||void 0===s?void 0:s.pinCode)&&(null===(r=u.personalDetails)||void 0===r||null===(d=r.permanentAddress)||void 0===d?void 0:d.pinCode))}),(0,f.jsx)("div",{style:{color:"#e60c0c",fontSize:"12px"},children:(0,f.jsx)(be.Kw,{name:"personalDetails.permanentAddress.pinCode",component:"div"})})]})]}),(0,f.jsxs)(n.A,{sx:{display:"flex",justifyContent:"end",pb:2,mr:10,gap:2},children:[(0,f.jsx)(G.A,{variant:"outlined",color:"secondary",onClick:pt,children:"Cancel"}),(0,f.jsx)(ke.S,{width:"100px",handleSubmit:()=>st,children:pe?(0,f.jsx)("img",{src:b.A.standardLoader,alt:"load",style:{width:"1rem",height:"1rem",padding:"6px"}}):"Save"})]})]})}}):(0,f.jsx)(f.Fragment,{children:ct?(0,f.jsx)(be.l1,{initialValues:lt,validationSchema:at,enableReinitialize:!0,onSubmit:e=>st(e),children:e=>{var t,i,o,a,s,r,d,c,u,x,m,h,p,g,A,y,S,w,D,E,k,W;let{touched:N,errors:I,values:T,handleChange:F,setFieldValue:z}=e;return(0,f.jsxs)(be.lV,{style:{},children:[(0,f.jsxs)(j.Ay,{container:!0,spacing:4,sx:{px:{xs:.5,lg:2},width:"100% !important"},children:[(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"firstName",sx:{fontWeight:"500",color:"#495052",mb:1},children:"Address Line 1"}),(0,f.jsx)(Se.A,{id:"addressLine1",type:"text",placeholder:"Address Line 1",name:"personalDetails.temporaryAddress.addressLine1",value:T.personalDetails.temporaryAddress.addressLine1,onChange:e=>z("personalDetails.temporaryAddress.addressLine1",e.target.value),fullWidth:!0,error:Boolean((null===(t=N.personalDetails)||void 0===t||null===(i=t.temporaryAddress)||void 0===i?void 0:i.addressLine1)&&(null===(o=I.personalDetails)||void 0===o||null===(a=o.temporaryAddress)||void 0===a?void 0:a.addressLine1))}),(0,f.jsx)("div",{style:{color:"#e60c0c",fontSize:"12px"},children:(0,f.jsx)(be.Kw,{name:"personalDetails.temporaryAddress.addressLine1",component:"div"})})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"firstName",sx:{fontWeight:"500",color:"#495052",mb:1},children:"Address Line 2"}),(0,f.jsx)(Se.A,{id:"addressLine2",type:"text",placeholder:"Address Line 2",name:"personalDetails.temporaryAddress.addressLine2",value:T.personalDetails.temporaryAddress.addressLine2,onChange:F,fullWidth:!0})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"firstName",sx:{fontWeight:"500",color:"#495052",mb:1},children:"Address Line 3"}),(0,f.jsx)(Se.A,{id:"addressLine3",type:"text",placeholder:"Address Line 3",name:"personalDetails.temporaryAddress.addressLine3",value:T.personalDetails.temporaryAddress.addressLine3,onChange:F,fullWidth:!0})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"firstName",sx:{fontWeight:"500",color:"#495052",mb:1},children:"Country"}),(0,f.jsx)(Fe,{label:"Country",name:"personalDetails.temporaryAddress.country",options:We.map((e=>e.name)),value:qe,onChange:e=>ot({name:"temporaryCountry",data:null===e||void 0===e?void 0:e.target.value}),placeholder:"Select",searchEnabled:!0}),(0,f.jsx)("div",{style:{color:"#e60c0c",fontSize:"12px"},children:(0,f.jsx)(be.Kw,{name:"personalDetails.temporaryAddress.country",component:"div"})})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"firstName",sx:{fontWeight:"500",color:"#495052",mb:1},children:"State/Province"}),(0,f.jsx)(Fe,{label:"State",name:"personalDetails.temporaryAddress.state",options:ze.map((e=>e.name)),value:Ye,onChange:e=>ot({name:"temporaryState",data:null===e||void 0===e?void 0:e.target.value}),placeholder:"Select",searchEnabled:!0}),(0,f.jsx)("div",{style:{color:"#e60c0c",fontSize:"12px"},children:(0,f.jsx)(be.Kw,{name:"personalDetails.temporaryAddress.state",component:"div"})})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"firstName",sx:{fontWeight:"500",color:"#495052",mb:1},children:"City/Town"}),(0,f.jsx)(ve.A,{fullWidth:!0,children:(0,f.jsxs)(xe.A,{id:"city",name:"personalDetails.temporaryAddress.city",value:_e,displayEmpty:!0,size:"small",defaultValue:"",onChange:e=>Ue(e.target.value),fullWidth:!0,IconComponent:v.A,onClose:()=>dt(""),MenuProps:{PaperProps:{sx:{maxHeight:300,"&.MuiPaper-root":{boxShadow:3,borderRadius:"15px !important"}}}},children:[(0,f.jsx)(je.A,{children:(0,f.jsx)(he.A,{size:"small",autoFocus:!0,placeholder:"Search City...",fullWidth:!0,value:rt,onChange:e=>dt(e.target.value),InputProps:{startAdornment:(0,f.jsx)(ye.A,{position:"start",children:(0,f.jsx)(Te.A,{})})},onKeyDown:e=>{"Escape"!==e.key&&e.stopPropagation()}})}),(0,f.jsx)(me.A,{value:"",disabled:!0,children:"Select City"}),vt.length>0?vt.map((e=>(0,f.jsx)(me.A,{value:e.name,children:e.name},e.name))):(0,f.jsx)(me.A,{disabled:!0,children:"No cities available"}),!Re.some((e=>e.name===_e))&&void 0!==_e&&""!==_e&&(0,f.jsx)(me.A,{value:_e,children:_e},_e),(0,f.jsx)(me.A,{sx:{fontSize:"14px !important",display:"flex",alignItems:"center",whiteSpace:"normal",color:"#1cbeb5 !important"},onClick:()=>{se((0,C.DE)({show:!0,data:{container:{name:"customfield",data:{name:"personalDetails.temporaryAddress.city",fieldName:_e,setFieldName:Ue,placeholder:"Enter your city"},dimensions:{width:"450px"}},type:"custom"}}))},children:"Can't find city"})]})}),(0,f.jsx)("div",{style:{color:"#e60c0c",fontSize:"12px"},children:(0,f.jsx)(be.Kw,{name:"personalDetails.temporaryAddress.city",component:"div"})})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"firstName",sx:{fontWeight:"500",color:"#495052",mb:1},children:"Zipcode"}),(0,f.jsx)(Se.A,{id:"pinCode",type:"number",placeholder:"Pincode",name:"personalDetails.temporaryAddress.pinCode",value:T.personalDetails.temporaryAddress.pinCode,onChange:F,fullWidth:!0,error:Boolean((null===(s=N.personalDetails)||void 0===s||null===(r=s.temporaryAddress)||void 0===r?void 0:r.pinCode)&&(null===(d=I.personalDetails)||void 0===d||null===(c=d.temporaryAddress)||void 0===c?void 0:c.pinCode))}),(0,f.jsx)("div",{style:{color:"#e60c0c",fontSize:"12px"},children:(0,f.jsx)(be.Kw,{name:"personalDetails.temporaryAddress.pinCode",component:"div"})})]}),(0,f.jsx)(j.Ay,{item:!0,xs:12,sm:6}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(ue.A,{id:"",sx:{color:"#495052"},children:"Is your Home address same as Contact address?"}),(0,f.jsx)(ve.A,{children:(0,f.jsxs)(ge.A,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",value:de,onChange:e=>ce(e.target.value),children:[(0,f.jsx)(fe.A,{value:"yes",control:(0,f.jsx)(Ae.A,{size:"small",sx:{"&.MuiRadio-root.Mui-checked":{color:"#3B3F76 !important"}}}),label:"Yes"}),(0,f.jsx)(fe.A,{value:"no",control:(0,f.jsx)(Ae.A,{size:"small",sx:{"&.MuiRadio-root.Mui-checked":{color:"#3B3F76 !important"}}}),label:"No"})]})})]}),(0,f.jsx)(j.Ay,{item:!0,xs:12,sm:6}),"no"===de?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:4},children:"Address Line 1"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:(null===re||void 0===re||null===(u=re.data)||void 0===u||null===(x=u.permanentAddress)||void 0===x?void 0:x.addressLine1)||"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"Address Line 2"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:(null===re||void 0===re||null===(m=re.data)||void 0===m||null===(h=m.permanentAddress)||void 0===h?void 0:h.addressLine2)||"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"Country"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:(null===re||void 0===re||null===(p=re.data)||void 0===p||null===(g=p.permanentAddress)||void 0===g?void 0:g.country)||"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"State/Province"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:(null===re||void 0===re||null===(A=re.data)||void 0===A||null===(y=A.permanentAddress)||void 0===y?void 0:y.state)||"NA"})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:4},children:"Address Line 3"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:(null===re||void 0===re||null===(S=re.data)||void 0===S||null===(w=S.permanentAddress)||void 0===w?void 0:w.addressLine3)||"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"City/Town"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:(null===re||void 0===re||null===(D=re.data)||void 0===D||null===(E=D.permanentAddress)||void 0===E?void 0:E.city)||"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"Zipcode"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:(null===re||void 0===re||null===(k=re.data)||void 0===k||null===(W=k.permanentAddress)||void 0===W?void 0:W.pinCode)||"NA"})]})]}):null]}),(0,f.jsxs)(n.A,{sx:{display:"flex",justifyContent:"end",pb:2,mr:10,gap:2},children:[(0,f.jsx)(G.A,{variant:"outlined",color:"secondary",onClick:ht,children:"Cancel"}),(0,f.jsx)(ke.S,{width:"100px",handleSubmit:()=>st,children:pe?(0,f.jsx)("img",{src:b.A.standardLoader,alt:"load",style:{width:"1rem",height:"1rem",padding:"6px"}}):"Save"})]})]})}}):(0,f.jsx)(n.A,{sx:{boxShadow:2,borderRadius:3,background:"#fff",p:3},children:(0,f.jsxs)(j.Ay,{container:!0,spacing:2,children:[(0,f.jsxs)(j.Ay,{item:!0,xs:12,sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,f.jsx)(l.A,{variant:"h6",sx:{fontWeight:600,color:"#495052"},children:"Address Details"}),(0,f.jsx)(G.A,{variant:"outlined",sx:[{border:"2px solid #F48438 ",borderRadius:"20px",color:"#495052",fontSize:{lg:"16px",xs:"12px"},width:{lg:"100px",xs:"90px"},padding:{lg:"8px",xs:"6px"}}],onClick:()=>{ut(!0)},children:"Edit"})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500},children:"Address Line 1"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:(null===re||void 0===re||null===(M=re.data)||void 0===M||null===(B=M.temporaryAddress)||void 0===B?void 0:B.addressLine1)||"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"Address Line 2"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:(null===re||void 0===re||null===(O=re.data)||void 0===O||null===(q=O.temporaryAddress)||void 0===q?void 0:q.addressLine2)||"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"Country"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:qe||"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"State/Province"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:Ye||"NA"})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500},children:"Address Line 3"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:(null===re||void 0===re||null===(V=re.data)||void 0===V||null===(Y=V.temporaryAddress)||void 0===Y?void 0:Y.addressLine3)||"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"City/Town"}),(0,f.jsx)(l.A,{children:_e||"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"Zipcode"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:(null===re||void 0===re||null===(H=re.data)||void 0===H||null===(_=H.temporaryAddress)||void 0===_?void 0:_.pinCode)||"NA"})]}),"no"===de&&!xt&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(j.Ay,{item:!0,xs:12,sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mt:4},children:[(0,f.jsx)(l.A,{variant:"h6",sx:{fontWeight:600,color:"#495052"},children:"Permanent Address"}),(0,f.jsx)(G.A,{variant:"outlined",sx:[{border:"2px solid #F48438 ",borderRadius:"20px",color:"#495052",fontSize:{lg:"16px",xs:"12px"},width:{lg:"100px",xs:"90px"},padding:{lg:"8px",xs:"6px"}}],onClick:()=>{mt(!0)},children:"Edit"})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:4},children:"Address Line 1"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:(null===re||void 0===re||null===(U=re.data)||void 0===U||null===(K=U.permanentAddress)||void 0===K?void 0:K.addressLine1)||"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"Address Line 2"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:(null===re||void 0===re||null===(J=re.data)||void 0===J||null===(Z=J.permanentAddress)||void 0===Z?void 0:Z.addressLine2)||"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"Country"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:(null===re||void 0===re||null===(Q=re.data)||void 0===Q||null===($=Q.permanentAddress)||void 0===$?void 0:$.country)||"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"State/Province"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:(null===re||void 0===re||null===(X=re.data)||void 0===X||null===(ee=X.permanentAddress)||void 0===ee?void 0:ee.state)||"NA"})]}),(0,f.jsxs)(j.Ay,{item:!0,xs:12,sm:6,children:[(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:4},children:"Address Line 3"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:(null===re||void 0===re||null===(te=re.data)||void 0===te||null===(ie=te.permanentAddress)||void 0===ie?void 0:ie.addressLine3)||"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"City/Town"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:(null===re||void 0===re||null===(ne=re.data)||void 0===ne||null===(oe=ne.permanentAddress)||void 0===oe?void 0:oe.city)||"NA"}),(0,f.jsx)(l.A,{sx:{color:"#8E9091",fontWeight:500,mt:2},children:"Zipcode"}),(0,f.jsx)(l.A,{sx:{color:"#495052"},children:(null===re||void 0===re||null===(ae=re.data)||void 0===ae||null===(le=ae.permanentAddress)||void 0===le?void 0:le.pinCode)||"NA"})]})]})]})})})})},Nt=()=>{const[e,t]=(0,s.useState)(null),i=[{title:"My Details",component:(0,f.jsx)(kt,{})},{title:"Address",component:(0,f.jsx)(Wt,{})}];return(0,f.jsx)(n.A,{sx:{background:"#fff",borderRadius:"10px",height:"75vh",overflowY:"scroll",px:3},children:i.map(((i,n)=>(0,f.jsx)(N,{title:i.title,isOpen:e===n,onToggle:()=>(e=>{t((t=>t===e?null:e))})(n),children:i.component},n)))})},It=e=>{let{initialTab:t}=e;const i=[{label:"Personal Information",image:(0,f.jsx)(jt.A,{}),Component:(0,f.jsx)(Nt,{})},{label:"Education",image:(0,f.jsx)(At.A,{}),Component:(0,f.jsx)(Be,{})},{label:"Test Scores",image:(0,f.jsx)(wt.A,{}),Component:(0,f.jsx)(Je,{})},{label:"Work experience",image:(0,f.jsx)(yt.A,{}),Component:(0,f.jsx)(gt,{})},{label:"Preferences",image:(0,f.jsx)(ft.A,{}),Component:(0,f.jsx)(it,{})},{label:"Family",image:(0,f.jsx)(Ct.A,{}),Component:(0,f.jsx)(mt,{})},{label:"Extra Curriculum Activities ",image:(0,f.jsx)(St.A,{}),Component:(0,f.jsx)(st,{})}];return(0,f.jsxs)(n.A,{sx:{},children:[(0,f.jsx)(n.A,{sx:{display:{xs:"block",lg:"none"}},children:null===i||void 0===i?void 0:i.map((e=>(0,f.jsx)(A,{title:e.label,imageUrl:e.image,children:e.Component},e)))}),(0,f.jsx)(n.A,{sx:{display:{xs:"none",lg:"block"}},children:(0,f.jsx)(bt.A,{tabs:i,initialValue:t})})]})},Tt=s.memo((function(e){let{children:t,title:i,titleIcon:o,badgeColor:a="#ffff",badgePosition:l="top-right",sx:s={},badgeStyle:r,...c}=e;const u="top-left"===l?{top:18,left:18,right:"auto"}:{top:-10,right:22,left:"auto"};return(0,f.jsx)(n.A,{sx:{position:"relative",mb:1,width:"100%"},children:(0,f.jsxs)(d.A,{sx:{background:"#F5F5F5",borderRadius:"12px",boxShadow:"none",minHeight:220,position:"relative",overflow:"visible",p:0,color:"inherit",transition:"all 0.2s ease-in-out","&:hover":{boxShadow:"0 2px 8px rgba(0,0,0,0.1)",transform:"translateY(-2px)"},...s},...c,children:[i&&(0,f.jsxs)(n.A,{sx:{position:"absolute",...u,background:(null===r||void 0===r?void 0:r.backgroundColor)||a,color:"#495052",paddingLeft:null!==r&&void 0!==r&&r.px?"".concat(8*r.px,"px"):(null===r||void 0===r?void 0:r.paddingLeft)||"16px",paddingRight:null!==r&&void 0!==r&&r.px?"".concat(8*r.px,"px"):(null===r||void 0===r?void 0:r.paddingRight)||"16px",paddingTop:null!==r&&void 0!==r&&r.py?"".concat(8*r.py,"px"):(null===r||void 0===r?void 0:r.paddingTop)||"4px",paddingBottom:null!==r&&void 0!==r&&r.py?"".concat(8*r.py,"px"):(null===r||void 0===r?void 0:r.paddingBottom)||"4px",borderRadius:(null===r||void 0===r?void 0:r.borderRadius)||"12px",border:(null===r||void 0===r?void 0:r.border)||"none",fontSize:"0.8rem",fontWeight:500,zIndex:2,display:"flex",alignItems:"center",whiteSpace:"nowrap",boxShadow:null!==r&&void 0!==r&&r.border?"none":"0 1px 3px rgba(0,0,0,0.1)",...r||{}},children:[o,i]}),(0,f.jsx)(n.A,{sx:{width:"100%",p:2,color:"inherit"},children:t})]})})})),Ft=()=>{var e,t;const i=(0,a.Zp)(),o=(0,r.GV)((e=>e.applications)),s=(0,r.jL)();function d(e){return e.toLocaleString("default",{month:"short"})+" "+e.getFullYear()}return(0,f.jsx)("div",{style:{overflowY:"scroll",paddingTop:"1rem"},children:(0,f.jsx)(j.Ay,{container:!0,spacing:3,children:null!==o&&void 0!==o&&o.data&&(null===o||void 0===o||null===(e=o.data)||void 0===e?void 0:e.length)>0?(0,f.jsx)(f.Fragment,{children:null===o||void 0===o||null===(t=o.data)||void 0===t?void 0:t.map(((e,t)=>{var i,o,a,r,c,u,x;return(0,f.jsx)(j.Ay,{item:!0,xs:12,sm:6,lg:4,sx:{paddingLeft:{xs:0,md:"1rem"}},children:(0,f.jsx)(Tt,{title:e.stage,i:t,titleIcon:(0,f.jsx)(Y.A,{sx:{fontSize:"1rem",marginRight:"4px",color:"#495052"}}),badgePosition:"top-left",badgeStyle:{backgroundColor:"#fff",border:"1px solid #D0D0D0",borderRadius:"20px",top:"-8px",left:"18px",paddingLeft:"12px",paddingRight:"12px",paddingTop:"6px",paddingBottom:"6px"},children:(0,f.jsxs)(n.A,{onClick:()=>s((0,C.DE)({show:!0,data:{container:{name:"applicationPopup",data:e._id,dimensions:{width:"800px",height:"85%"}},type:"custom"}})),sx:{position:"relative",height:"100%",display:"flex",flexDirection:"column",pt:5},children:[!0===(null===e||void 0===e?void 0:e.cancellationRequest)&&(0,f.jsx)(n.A,{sx:{position:"absolute",top:0,right:0,width:"140px",height:"140px",overflow:"hidden",zIndex:3},children:(0,f.jsx)(n.A,{sx:{position:"absolute",top:"25px",right:"-35px",width:"180px",height:"32px",backgroundColor:"#FF4444",transform:"rotate(45deg)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 6px rgba(0,0,0,0.25)"},children:(0,f.jsx)(l.A,{sx:{color:"#fff",fontSize:"0.7rem",fontWeight:600,transform:"rotate(-45deg)",textAlign:"center",px:1,letterSpacing:"0.3px"},children:"Rejection request"})})}),(0,f.jsx)(n.A,{sx:{display:"flex",alignItems:"center",mb:2,mt:1},children:(0,f.jsx)(n.A,{sx:{width:"48px",height:"48px",borderRadius:"8px",border:"1px solid #D0D0D0",backgroundColor:"#fff",display:"flex",alignItems:"center",justifyContent:"center",padding:"4px",flexShrink:0},children:(0,f.jsx)("img",{src:null===(i=e.course)||void 0===i||null===(o=i.university)||void 0===o?void 0:o.logoSrc,alt:"logo",style:{width:"100%",height:"100%",objectFit:"contain"}})})}),(0,f.jsx)(Z.A,{slotProps:{tooltip:{sx:{color:"#fff",backgroundColor:"#3B3F76",boxShadow:1}}},title:e.course.name,placement:"bottom",children:(0,f.jsx)(l.A,{sx:{fontSize:{xs:"1rem",lg:"1.1rem"},fontWeight:600,color:"#2C2F5C",mb:1,textOverflow:"ellipsis",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",lineHeight:1.3,minHeight:"2.6rem"},children:e.course.name})}),(0,f.jsxs)(l.A,{sx:{fontSize:{xs:"0.75rem",lg:"0.8rem"},color:"#8E9091",mb:3,textOverflow:"ellipsis",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:1,WebkitBoxOrient:"vertical"},children:[null===(a=e.course)||void 0===a||null===(r=a.university)||void 0===r?void 0:r.name," | ",null===(c=e.course)||void 0===c||null===(u=c.university)||void 0===u||null===(x=u.location)||void 0===x?void 0:x.country]}),(0,f.jsx)(n.A,{sx:{mt:"auto",pt:2},children:(0,f.jsxs)(l.A,{sx:{fontSize:{xs:"0.75rem",lg:"0.8rem"},fontWeight:500,color:"#495052",display:"flex",alignItems:"center",gap:.5},children:[(0,f.jsx)(Y.A,{sx:{fontSize:"1rem"}}),"Start date : ",null!==e&&void 0!==e&&e.intake?d(new Date(null===e||void 0===e?void 0:e.intake)):"N/A"]})})]})})},t)}))}):(0,f.jsxs)(j.Ay,{item:!0,xs:12,sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"60vh",minHeight:"350px"},children:[(0,f.jsx)("img",{src:b.A.Dull,alt:"noData",style:{width:"230px",height:"220px",marginBottom:"1.5rem"}}),(0,f.jsx)(l.A,{sx:{mb:1,fontSize:"1.6rem",fontWeight:600,color:"#495052",textAlign:"center"},children:"No Products Added Yet"}),(0,f.jsxs)(l.A,{sx:{mb:3,fontSize:"1rem",color:"#8E9091",textAlign:"center"},children:["You haven't saved any courses yet-start exploring and ",(0,f.jsx)("br",{})," discover your next opportunity!"]}),(0,f.jsx)(G.A,{sx:{background:"#F48438",color:"#fff",borderRadius:"20px",px:4,py:1,fontWeight:500,fontSize:"1rem",textTransform:"none",boxShadow:"none","&:hover":{background:"#F48438"}},onClick:()=>{const e="activeTab=".concat(encodeURIComponent(JSON.stringify("courses")),"&FilterData=").concat(encodeURIComponent(JSON.stringify([])),"&page=").concat(JSON.stringify(1),"&search=").concat(encodeURIComponent(JSON.stringify(""))),t=window.btoa(e);i("/explore?".concat(t))},children:"Add products"})]})})})};var zt=i(4598),Pt=i(59454),Rt=i(21834),Gt=i(81574),Lt=i(78030),Mt=i(26600),Bt=i(35316),Ot=i(51962),qt=i(43845),Vt=i(32044);const Yt=[{label:"Agribusiness",value:"Agribusiness"},{label:"Agricultural Science",value:"Agricultural Science"},{label:"Agronomy",value:"Agronomy"},{label:"Fisheries",value:"Fisheries"},{label:"Forestry",value:"Forestry"},{label:"Horticulture",value:"Horticulture"},{label:"Mariculture",value:"Mariculture"},{label:"Poultry, Dairy",value:"Poultry, Dairy"},{label:"Architecture",value:"Architecture"},{label:"Construction",value:"Construction"},{label:"Construction Management",value:"Construction Management"},{label:"Heating",value:"Heating"},{label:"Interior Design",value:"Interior Design"},{label:"Surveying",value:"Surveying"},{label:"Urban Planning",value:"Urban Planning"},{label:"Ventilation",value:"Ventilation"},{label:"Animation",value:"Animation"},{label:"Applied Arts - Printing, Studio Art",value:"Applied Arts - Printing, Studio Art"},{label:"Arts",value:"Arts"},{label:"Bakery and Pastry Arts",value:"Bakery and Pastry Arts"},{label:"Car Interior Design",value:"Car Interior Design"},{label:"Carpentry, Woodworking, Blacksmithing, Goldsmithing, Silversmithing, Ceramics",value:"Carpentry, Woodworking, Blacksmithing, Goldsmithing, Silversmithing, Ceramics"},{label:"Creative Writing",value:"Creative Writing"},{label:"Dance",value:"Dance"},{label:"Design - Fashion, Textile, Graphics, Product",value:"Design - Fashion, Textile, Graphics, Product"},{label:"English",value:"English"},{label:"Exhibition/Event",value:"Exhibition/Event"},{label:"Film, Cinematography, Interactive Media, Multimedia",value:"Film, Cinematography, Interactive Media, Multimedia"},{label:"Fine Arts-Drawing, Painting, Sculpture",value:"Fine Arts-Drawing, Painting, Sculpture"},{label:"General Studies",value:"General Studies"},{label:"Interdisciplinary Studies",value:"Interdisciplinary Studies"},{label:"Liberal Arts and Studies",value:"Liberal Arts and Studies"},{label:"Library",value:"Library"},{label:"Music",value:"Music"},{label:"Photography",value:"Photography"},{label:"Publishing",value:"Publishing"},{label:"Theatre,Drama",value:"Theatre,Drama"},{label:"Visual Arts",value:"Visual Arts"},{label:"Banking, Insurance, Risk Management, Taxation",value:"Banking, Insurance, Risk Management, Taxation"},{label:"Business Analytics, Management Consulting",value:"Business Analytics, Management Consulting"},{label:"Business Management, Business Administration, Entrepreneurship, Innovation, Operations, Project Management, Event Management, Organizational Management, Health Management",value:"Business Management, Business Administration, Entrepreneurship, Innovation, Operations, Project Management, Event Management, Organizational Management, Health Management"},{label:"Commerce",value:"Commerce"},{label:"Conflict Analysis and Management",value:"Conflict Analysis and Management"},{label:"Finance, Accounts, Commerce, Economics",value:"Finance, Accounts, Commerce, Economics"},{label:"Financial Management, International Management, Marketing Management, Technical Management",value:"Financial Management, International Management, Marketing Management, Technical Management"},{label:"Hospitality and Tourism Management",value:"Hospitality and Tourism Management"},{label:"Human Resource Management, Human Resource Development",value:"Human Resource Management, Human Resource Development"},{label:"Information Systems, Information Technology Management",value:"Information Systems, Information Technology Management"},{label:"International Business",value:"International Business"},{label:"Logistics, Supply Chain Management",value:"Logistics, Supply Chain Management"},{label:"Office Administration",value:"Office Administration"},{label:"Real Estate, Property Administeration",value:"Real Estate, Property Administeration"},{label:"Sales, Marketing, Public Relations, Public Services, E-business, Digital Business, Digital Marketing",value:"Sales, Marketing, Public Relations, Public Services, E-business, Digital Business, Digital Marketing"},{label:"Artificial Intelligence",value:"Artificial Intelligence"},{label:"Business Analysis, IT Business Analytics",value:"Business Analysis, IT Business Analytics"},{label:"Computer Information Systems",value:"Computer Information Systems"},{label:"Computer Science, Software Development",value:"Computer Science, Software Development"},{label:"Computer Technology",value:"Computer Technology"},{label:"Computer/ Game Programming",value:"Computer/ Game Programming"},{label:"Computing",value:"Computing"},{label:"Customer Intelligence and Analytics",value:"Customer Intelligence and Analytics"},{label:"Cyber Security, Information Security",value:"Cyber Security, Information Security"},{label:"Cytotechnology",value:"Cytotechnology"},{label:"Data Science and Analytics",value:"Data Science and Analytics"},{label:"Game Design",value:"Game Design"},{label:"Information Technology",value:"Information Technology"},{label:"Mobile Application",value:"Mobile Application"},{label:"Mobile Communication",value:"Mobile Communication"},{label:"Multimedia",value:"Multimedia"},{label:"Networking",value:"Networking"},{label:"Programmer",value:"Programmer"},{label:"Software Testing",value:"Software Testing"},{label:"Web Design, Web Applications",value:"Web Design, Web Applications"}],Ht=[{label:"IELTS",value:"IELTS"},{label:"TOEFL",value:"TOEFL"},{label:"Duolingo",value:"Duolingo"},{label:"PTE",value:"PTE"}],_t=[{label:"GRE",value:"GRE"},{label:"GMAT",value:"GMAT"},{label:"SAT",value:"SAT"},{label:"ACT",value:"ACT"}],Ut=[{label:"Percentage out of 100",value:100},{label:"CGPA out of 10",value:10},{label:"CGPA out of 7",value:7},{label:"CGPA out of 5",value:5},{label:"CGPA out of 4",value:4}],Kt=e=>{var t;let{open:i,onClose:o,data:d,onSubmit:c}=e;const u=(0,a.Zp)(),m=(0,r.jL)(),h=(0,r.GV)((e=>e.recommendations)),p=(0,r.GV)((e=>e.recommendEdit)),v=(null===h||void 0===h||null===(t=h.data)||void 0===t?void 0:t.criteria)||[],g=(0,r.GV)((e=>e.profile)),[A,j]=(0,s.useState)({}),y=(0,s.useRef)(""),b=(0,s.useRef)(!1);(0,s.useEffect)((()=>{console.log("Working 333",p);const e=v.length>0?JSON.stringify(v.map((e=>({label:e.label,value:e.data.value})))):"";console.log("Workinnggg",e,b),y.current=e;const t=e=>Ke.q6.find((t=>t.fullForm===e||t.shortForm===e)),n=e=>Ke.j0.find((t=>t.fullForm===e||t.shortForm===e));if(console.log("Working 222",v),v&&v.length>0){var o,a,l,s,r,d,c,u;const e=null===(o=v.find((e=>"GPA"===e.label)))||void 0===o?void 0:o.data.value,[i,x]=e?e.split("/").map((e=>e.trim())):["",""],h=v.find((e=>t(e.label))),p=v.find((e=>n(e.label))),g=!!h&&!!1,f=!!p&&!!1;let A={studyLevel:(null===(a=v.find((e=>"StudyLevel"===e.label)))||void 0===a?void 0:a.data.value)||"Bachelors",bachelorsScore:i,gradeScale:(null===(l=Ke._A.find((e=>e.maxScore.toString()===x)))||void 0===l?void 0:l.label)||"",backlogs:(null===(s=v.find((e=>"Backlogs"===e.label)))||void 0===s?void 0:s.data.value)||"",englishTestType:g&&(null===(r=t((null===h||void 0===h?void 0:h.label)||""))||void 0===r?void 0:r.shortForm)||"",englishTestScore:g&&(null===h||void 0===h?void 0:h.data.value)||"",academicTestType:f&&(null===(d=n((null===p||void 0===p?void 0:p.label)||""))||void 0===d?void 0:d.shortForm)||"",academicTestScore:f&&(null===p||void 0===p?void 0:p.data.value)||"",isPlanningToTakeLanguageTest:g,isPlanningToTakeAcademicTest:f,country:(e=>{const t=null===(e=v.find((e=>"Country"===e.label)))||void 0===e?void 0:e.data.value;return t?Array.isArray(t)?t:[t]:[]})(),subCategory:(null===(c=v.find((e=>"SubCategory"===e.label)))||void 0===c||null===(u=c.data.value)||void 0===u?void 0:u.map((e=>({label:e,value:e}))))||[]};console.log("FORM FOUND",A),j(A),m((0,Vt.nw)(A)),b.current=!0}else if(!e){if(p&&Object.keys(p).length>0){var x,h,g,f,A,S;const e={...p,isPlanningToTakeLanguageTest:null!==(x=p.isPlanningToTakeLanguageTest)&&void 0!==x&&x,isPlanningToTakeAcademicTest:null!==(h=p.isPlanningToTakeAcademicTest)&&void 0!==h&&h,englishTestType:null!==(g=p.isPlanningToTakeLanguageTest)&&void 0!==g&&g&&p.englishTestType||"",englishTestScore:null!==(f=p.isPlanningToTakeLanguageTest)&&void 0!==f&&f&&p.englishTestScore||"",academicTestType:null!==(A=p.isPlanningToTakeAcademicTest)&&void 0!==A&&A&&p.academicTestType||"",academicTestScore:null!==(S=p.isPlanningToTakeAcademicTest)&&void 0!==S&&S&&p.academicTestScore||""};j(e)}else{j({studyLevel:"Bachelors",bachelorsScore:"",gradeScale:"",backlogs:"",englishTestType:"",englishTestScore:"",academicTestType:"",academicTestScore:"",isPlanningToTakeLanguageTest:!1,isPlanningToTakeAcademicTest:!1,country:[],subCategory:[]})}b.current=!0}i||(b.current=!1,y.current="")}),[v,m,i]);const S=(e,t)=>{const i={...A,[e]:t};j(i),m((0,Vt.nw)(i))},w=async()=>{const e=(()=>{let e="";if(!0===A.isPlanningToTakeAcademicTest){if(!A.academicTestType||""===A.academicTestType)return e="Please select an academic test type",e;const t=_t.find((e=>e.label===A.academicTestType)),i=A.academicTestScore;if(!i||""===i)return e="Academic test score is required",e;const n=Number(i);"GRE"===(null===t||void 0===t?void 0:t.label)?(n<260||n>340||n%1!==0)&&(e="GRE score must be between 260 and 340 "):"GMAT"===(null===t||void 0===t?void 0:t.label)?(n<200||n>800||n%5!==0)&&(e="GMAT score must be between 200 and 800"):"SAT"===(null===t||void 0===t?void 0:t.label)?(n<200||n>1600||n%1!==0)&&(e="SAT score must be between 200 and 1600"):"ACT"===(null===t||void 0===t?void 0:t.label)&&(n<1||n>36||n%1!==0)&&(e="ACT score must be between 1 and 36 ")}if(!0===A.isPlanningToTakeLanguageTest){if(!A.englishTestType||""===A.englishTestType)return e="Please select an English test type",e;const t=Ht.find((e=>e.label===A.englishTestType)),i=A.englishTestScore;if(!i||""===i)return e="English test score is required",e;const n=Number(i);if("IELTS"===(null===t||void 0===t?void 0:t.label)){const t=Math.abs(10*n)%5===0;(n<0||n>9||!t)&&(e="IELTS score must be between 0 and 9 ")}else"TOEFL"===(null===t||void 0===t?void 0:t.label)?(n<0||n>120||n%1!==0)&&(e="TOEFL score must be between 0 and 120"):"Duolingo"===(null===t||void 0===t?void 0:t.label)?(n<0||n>160||n%1!==0)&&(e="Duolingo score must be between 0 and 160"):"PTE"===(null===t||void 0===t?void 0:t.label)&&(n<0||n>90||n%1!==0)&&(e="PTE score must be between 0 and 90")}const t=A.gradeScale,i=Number(A.bachelorsScore);return"Percentage out of 100"===t?(i<0||i>100)&&(e="Percentage must be between 0 and 100"):"CGPA out of 10"===t?(i<0||i>10)&&(e="CGPA out of 10 must be between 0 and 10"):"CGPA out of 7"===t?(i<0||i>7)&&(e="CGPA out of 7 must be between 0 and 7"):"CGPA out of 5"===t?(i<0||i>5)&&(e="CGPA out of 5 must be between 0 and 5"):"CGPA out of 4"===t&&(i<0||i>4)&&(e="CGPA out of 4 must be between 0 and 4"),e})();if(e)m((0,C.DE)({show:!0,data:{container:{name:"error",data:e,dimensions:{width:"30%",height:"40%",show:"none"}},type:"custom"}}));else if(g.data){var t,i,n,a;let e=[...null!==(t=null===(i=g.data)||void 0===i?void 0:i.tests)&&void 0!==t?t:[]];if(!0===A.isPlanningToTakeLanguageTest&&A.englishTestType&&A.englishTestScore){var l;const t=null===(l=Ke.q6.find((e=>e.shortForm===A.englishTestType)))||void 0===l?void 0:l.fullForm;if(t){let i=e.findIndex((e=>e.name===t));-1!==i?e[i]={...e[i],scores:[...e[i].scores.filter((e=>"Total"!==e.description)),{description:"Total",count:A.englishTestScore}]}:e.push({name:t,type:"language",scores:[{description:"Total",count:A.englishTestScore}]})}}else e=e.filter((e=>!Ke.q6.find((t=>t.fullForm===e.name))));if(!0===A.isPlanningToTakeAcademicTest&&A.academicTestType&&A.academicTestScore){var s;const t=null===(s=Ke.j0.find((e=>e.shortForm===A.academicTestType)))||void 0===s?void 0:s.fullForm;if(t){let i=e.findIndex((e=>e.name===t));-1!==i?e[i]={...e[i],scores:[...e[i].scores.filter((e=>"Total"!==e.description)),{description:"Total",count:A.academicTestScore}]}:e.push({name:t,type:"academic",scores:[{description:"Total",count:A.academicTestScore}]})}}else e=e.filter((e=>!Ke.j0.find((t=>t.fullForm===e.name))));const d={tests:e,education:{...g.data.education,underGraduation:{...g.data.education.underGraduation,totalScore:parseInt(A.bachelorsScore),backlogs:parseInt(A.backlogs),maxScore:null===(n=Ke._A.find((e=>e.label===A.gradeScale)))||void 0===n?void 0:n.maxScore,gradingSystem:null===(a=Ke._A.find((e=>e.label===A.gradeScale)))||void 0===a?void 0:a.value}},preference:{...g.data.preference,subCategory:A.subCategory.map((e=>e.value)),country:A.country}};o(),m((0,Lt.tZ)());if(await(0,I.oS)(d))try{const e=await(0,I.Dz)(d);if(!e||!e.data)throw console.error("No recommendations data received"),new Error("No recommendations data received");m((0,Lt.M2)(e.data)),m((0,C.DE)({show:!0,data:{container:{name:"success",data:"Criteria Updated Successfully! Recommendations have been regenerated with your new preferences.",dimensions:{width:"35%",height:"40%",show:"none"}},type:"custom"}}))}catch(r){console.error("Failed to regenerate recommendations:",r),m((0,Lt.C$)()),m((0,C.DE)({show:!0,data:{container:{name:"error",data:"Profile updated successfully, but failed to regenerate recommendations. Please try again later.",dimensions:{width:"35%",height:"40%",show:"none"}},type:"custom"}}))}else console.error("Failed to update profile"),m((0,Lt.C$)()),m((0,C.DE)({show:!0,data:{container:{name:"error",data:"Failed to update profile. Please try again.",dimensions:{width:"35%",height:"40%",show:"none"}},type:"custom"}}))}};return(0,f.jsxs)(qe.A,{open:i,onClose:o,fullWidth:!0,maxWidth:"sm",children:[(0,f.jsxs)(Mt.A,{sx:{fontWeight:600,fontSize:"1.2rem",pr:4,borderBottom:"1px solid #eee",pb:2},children:["Your recommendations are based on:",(0,f.jsx)(x.A,{onClick:o,sx:{position:"absolute",top:12,right:12},children:(0,f.jsx)(He.A,{})})]}),(0,f.jsx)(Bt.A,{sx:{mt:2},children:(0,f.jsxs)(n.A,{display:"flex",flexDirection:"column",gap:3,children:[(0,f.jsxs)(n.A,{children:[(0,f.jsx)(l.A,{variant:"subtitle1",fontWeight:500,gutterBottom:!0,children:A.studyLevel||"Bachelors"}),(0,f.jsxs)(n.A,{display:"flex",gap:2,children:[(0,f.jsx)(he.A,{size:"small",label:"Enter Score",value:A.bachelorsScore||"",onChange:e=>S("bachelorsScore",e.target.value),sx:{flex:1}}),(0,f.jsxs)(ve.A,{size:"small",sx:{flex:1},children:[(0,f.jsx)(ue.A,{children:"Grade scale"}),(0,f.jsx)(xe.A,{label:"Grade scale",value:A.gradeScale||"",onChange:e=>S("gradeScale",e.target.value),children:Ut.map((e=>(0,f.jsx)(me.A,{value:e.label,children:e.label},e.value)))})]}),(0,f.jsx)(he.A,{size:"small",label:"Backlogs",value:A.backlogs||"",onChange:e=>S("backlogs",e.target.value),sx:{flex:1}})]})]}),(0,f.jsxs)(n.A,{children:[(0,f.jsx)(l.A,{variant:"subtitle1",fontWeight:500,gutterBottom:!0,children:"English proficiency test"}),(0,f.jsxs)(n.A,{display:"flex",gap:2,alignItems:"center",flexWrap:{xs:"wrap",md:"nowrap"},children:[(0,f.jsxs)(ve.A,{size:"small",sx:{flex:1},children:[(0,f.jsx)(ue.A,{children:"Select test"}),(0,f.jsx)(xe.A,{label:"Select test type",value:A.englishTestType||"",onChange:e=>S("englishTestType",e.target.value),disabled:!1===A.isPlanningToTakeLanguageTest||void 0===A.isPlanningToTakeLanguageTest,children:Ht.map((e=>(0,f.jsx)(me.A,{value:e.label,children:e.label},e.value)))})]}),(0,f.jsx)(he.A,{size:"small",label:"Enter score",value:A.englishTestScore||"",onChange:e=>S("englishTestScore",e.target.value),disabled:!1===A.isPlanningToTakeLanguageTest||void 0===A.isPlanningToTakeLanguageTest,required:!0===A.isPlanningToTakeLanguageTest&&!!A.englishTestType,sx:{width:!1===A.isPlanningToTakeLanguageTest||void 0===A.isPlanningToTakeLanguageTest?"120px":void 0,flex:!1===A.isPlanningToTakeLanguageTest||void 0===A.isPlanningToTakeLanguageTest?"none":1}}),(0,f.jsx)(fe.A,{control:(0,f.jsx)(Ot.A,{checked:!1===A.isPlanningToTakeLanguageTest||void 0===A.isPlanningToTakeLanguageTest,onChange:e=>{const t=e.target.checked,i={...A,isPlanningToTakeLanguageTest:!t,englishTestType:"",englishTestScore:""};j(i),m((0,Vt.nw)(i))},sx:{mt:0}}),label:"Not planning to take",sx:{mt:0}})]})]}),(0,f.jsxs)(n.A,{children:[(0,f.jsx)(l.A,{variant:"subtitle1",fontWeight:500,gutterBottom:!0,children:"GRE, GMAT, SAT, ACT"}),(0,f.jsxs)(n.A,{display:"flex",gap:2,alignItems:"center",flexWrap:{xs:"wrap",md:"nowrap"},children:[(0,f.jsxs)(ve.A,{size:"small",sx:{flex:1},children:[(0,f.jsx)(ue.A,{children:"Select test type"}),(0,f.jsx)(xe.A,{label:"Select test type",value:A.academicTestType||"",onChange:e=>S("academicTestType",e.target.value),disabled:!1===A.isPlanningToTakeAcademicTest||void 0===A.isPlanningToTakeAcademicTest,children:_t.map((e=>(0,f.jsx)(me.A,{value:e.label,children:e.label},e.value)))})]}),(0,f.jsx)(he.A,{size:"small",label:"Enter score",value:A.academicTestScore||"",onChange:e=>S("academicTestScore",e.target.value),disabled:!1===A.isPlanningToTakeAcademicTest||void 0===A.isPlanningToTakeAcademicTest,required:!0===A.isPlanningToTakeAcademicTest&&!!A.academicTestType,sx:{width:!1===A.isPlanningToTakeAcademicTest||void 0===A.isPlanningToTakeAcademicTest?"120px":void 0,flex:!1===A.isPlanningToTakeAcademicTest||void 0===A.isPlanningToTakeAcademicTest?"none":1}}),(0,f.jsx)(fe.A,{control:(0,f.jsx)(Ot.A,{checked:!1===A.isPlanningToTakeAcademicTest||void 0===A.isPlanningToTakeAcademicTest,onChange:e=>{const t=e.target.checked,i={...A,isPlanningToTakeAcademicTest:!t,academicTestType:"",academicTestScore:""};j(i),m((0,Vt.nw)(i))},sx:{mt:0}}),label:"Not planning to take",sx:{mt:0}})]})]}),(0,f.jsxs)(n.A,{children:[(0,f.jsx)(l.A,{variant:"subtitle1",fontWeight:500,gutterBottom:!0,children:"Select Country"}),(0,f.jsx)(Qe.A,{multiple:!0,size:"small",options:R.HH,getOptionLabel:e=>e,value:A.country||[],onChange:(e,t)=>S("country",t),renderInput:e=>(0,f.jsx)(he.A,{...e,placeholder:"Search countries",sx:{"& .MuiOutlinedInput-root":{padding:"4px 8px"}}}),renderTags:(e,t)=>e.map(((e,i)=>(0,f.jsx)(qt.A,{...t({index:i}),label:e,size:"small",sx:{bgcolor:"primary.light",color:"white","& .MuiChip-deleteIcon":{color:"white"}}}))),ListboxProps:{style:{maxHeight:200}}})]}),(0,f.jsxs)(n.A,{children:[(0,f.jsx)(l.A,{variant:"subtitle1",fontWeight:500,gutterBottom:!0,children:"What program would you like to pursue?"}),(0,f.jsx)(Qe.A,{multiple:!0,size:"small",options:Yt,getOptionLabel:e=>e.label,value:A.subCategory||[],onChange:(e,t)=>S("subCategory",t),renderInput:e=>(0,f.jsx)(he.A,{...e,placeholder:"Search programs",sx:{"& .MuiOutlinedInput-root":{padding:"4px 8px"}}}),renderTags:(e,t)=>e.map(((e,i)=>(0,f.jsx)(qt.A,{...t({index:i}),label:e.label,size:"small",sx:{bgcolor:"primary.light",color:"white","& .MuiChip-deleteIcon":{color:"white"}}}))),ListboxProps:{style:{maxHeight:200}}})]}),(0,f.jsxs)(n.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:1,mt:2},children:[(0,f.jsx)(G.A,{variant:"contained",sx:{width:"30%",backgroundColor:"#F48438",color:"#fff",borderRadius:"999px",py:1.2,fontWeight:600,textTransform:"none","&:hover":{backgroundColor:"#F48438"}},onClick:()=>{w()},children:"Continue"}),(0,f.jsxs)(l.A,{variant:"body2",sx:{color:"#555",textAlign:"center"},children:["Want to edit further?"," ",(0,f.jsx)(n.A,{component:"span",onClick:()=>{localStorage.removeItem("user-profile"),u("/startpage")},sx:{textTransform:"none",fontWeight:600,color:"primary.main",cursor:"pointer","&:hover":{color:"primary.dark"}},children:"Edit"})]})]})]})})]})};var Jt=i(82736),Zt=i(17121);const Qt=()=>(0,f.jsx)(n.A,{sx:{display:"flex",gap:2,mb:3},children:Array.from({length:3}).map(((e,t)=>(0,f.jsx)(Zt.A,{variant:"rectangular",width:100,height:40},t)))}),$t=e=>{let{count:t=6}=e;return(0,f.jsx)(j.Ay,{container:!0,spacing:3,children:Array.from({length:t}).map(((e,t)=>(0,f.jsx)(j.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,f.jsxs)(n.A,{sx:{p:2,border:"1px solid #e0e0e0",borderRadius:2},children:[(0,f.jsx)(Zt.A,{variant:"rectangular",width:"100%",height:200,sx:{mb:2}}),(0,f.jsx)(Zt.A,{variant:"text",width:"90%",height:24,sx:{mb:1}}),(0,f.jsx)(Zt.A,{variant:"text",width:"70%",height:20,sx:{mb:2}}),(0,f.jsxs)(n.A,{sx:{display:"flex",gap:2,mb:2},children:[(0,f.jsx)(Zt.A,{variant:"text",width:80,height:16}),(0,f.jsx)(Zt.A,{variant:"text",width:60,height:16})]}),(0,f.jsxs)(n.A,{sx:{display:"flex",gap:1,mb:2},children:[(0,f.jsx)(Zt.A,{variant:"rectangular",width:60,height:24,sx:{borderRadius:1}}),(0,f.jsx)(Zt.A,{variant:"rectangular",width:80,height:24,sx:{borderRadius:1}})]}),(0,f.jsxs)(n.A,{sx:{display:"flex",gap:1},children:[(0,f.jsx)(Zt.A,{variant:"rectangular",width:100,height:36,sx:{borderRadius:1}}),(0,f.jsx)(Zt.A,{variant:"rectangular",width:80,height:36,sx:{borderRadius:1}})]})]})},t)))})},Xt=[{id:1,name:"All"},{id:2,name:"Recommended by AI"},{id:3,name:"Recommended by Student Advisor"}],ei=(Object.fromEntries(Object.entries(Jt.yZ).map((e=>{let[t,i]=e;return[i,t]}))),()=>{var e,t,i,o,d,c,u,x,m,h,p,v,g,A,y,S,w;const{id:D}=(0,a.g)(),E=(0,a.Zp)(),k=(0,r.jL)(),[W,N]=(0,s.useState)("Safe"),[T,F]=(0,s.useState)(Xt[0].name),[z,P]=(0,s.useState)(""),[L,M]=(0,s.useState)(!1),[B,O]=(0,s.useState)(null),[q,Y]=(0,s.useState)(!1),[_,U]=(0,s.useState)("interested"),[K,J]=(0,s.useState)([]),[Q,$]=(0,s.useState)(!1),[X,ee]=(0,s.useState)(!1),[te,ie]=(0,s.useState)(""),ne=(0,r.GV)((e=>e.recommendations)),oe=null===ne||void 0===ne||null===(e=ne.data)||void 0===e?void 0:e.criteria,ae=(0,r.GV)((e=>e.preferences)),le=(0,r.GV)((e=>e.educationhistory)),se=(0,r.GV)((e=>e.testscores)),re=(0,r.GV)((e=>e.userAuthStatus)),de=(0,r.GV)((e=>e.shortlistedcourses)),ce=se.data.find((e=>"Graduate Record Examination"===e.name));(0,s.useEffect)((()=>{console.log("\ud83d\udd0d Recommendations criteria in Redux changed:",oe),console.log("\ud83d\udccb Full recommendations data:",ne.data)}),[oe,ne.data]),(0,s.useEffect)((()=>{try{const e=sessionStorage.getItem("showAdvisorSupportMessage"),t=sessionStorage.getItem("advisorSupportCountries");"true"===e&&(ee(!0),ie(t||""),k((0,Lt.M2)({data:[],criteria:[]})))}catch{}}),[k,D]),(0,s.useEffect)((()=>()=>{try{"true"===sessionStorage.getItem("showAdvisorSupportMessage")&&(sessionStorage.removeItem("showAdvisorSupportMessage"),sessionStorage.removeItem("advisorSupportCountries"))}catch{}}),[]),(0,s.useEffect)((()=>{var e;X&&null!==ne&&void 0!==ne&&null!==(e=ne.data)&&void 0!==e&&e.data&&ne.data.data.length>0&&k((0,Lt.M2)({data:[],criteria:[]}))}),[null===ne||void 0===ne||null===(t=ne.data)||void 0===t?void 0:t.data,X,k]);(0,s.useMemo)((()=>{var e,t;const i=null===oe||void 0===oe?void 0:oe.find((e=>"SubCategory"===e.label));return(null===i||void 0===i?void 0:i.data.value)===JSON.stringify(null===ae||void 0===ae||null===(e=ae.data)||void 0===e?void 0:e.courses)&&(null===i||void 0===i?void 0:i.data.value)===JSON.stringify(null===le||void 0===le||null===(t=le.data)||void 0===t?void 0:t.underGraduation)&&(null===i||void 0===i?void 0:i.data.value)===JSON.stringify(null===ce||void 0===ce?void 0:ce.scores)}),[oe,null===ae||void 0===ae||null===(i=ae.data)||void 0===i?void 0:i.courses,null===le||void 0===le||null===(o=le.data)||void 0===o?void 0:o.underGraduation,null===ce||void 0===ce?void 0:ce.scores]);const{ambitious:ue,safe:xe,moderate:pe}=(0,s.useMemo)((()=>{var e;const t=null===ne||void 0===ne||null===(e=ne.data)||void 0===e?void 0:e.data;return t&&Array.isArray(t)?{ambitious:t.filter((e=>"Ambitious"===(null===e||void 0===e?void 0:e.possibilityOfAdmit))),safe:t.filter((e=>"Safe"===(null===e||void 0===e?void 0:e.possibilityOfAdmit))),moderate:t.filter((e=>"Moderate"===(null===e||void 0===e?void 0:e.possibilityOfAdmit)))}:{ambitious:[],safe:[],moderate:[]}}),[null===ne||void 0===ne||null===(d=ne.data)||void 0===d?void 0:d.data]),ve=(0,s.useMemo)((()=>{var e;const t=(null===ne||void 0===ne||null===(e=ne.data)||void 0===e?void 0:e.data)||[],i=new Set;return t.forEach((e=>{var t,n,o;const a=null===e||void 0===e||null===(t=e.course)||void 0===t||null===(n=t.university)||void 0===n||null===(o=n.location)||void 0===o?void 0:o.country;a&&i.add(a)})),Array.from(i).sort()}),[null===ne||void 0===ne||null===(c=ne.data)||void 0===c?void 0:c.data]),ge=(null===(u=ae.data)||void 0===u?void 0:u.subCategory)&&(null===(x=ae.data)||void 0===x||null===(m=x.subCategory)||void 0===m?void 0:m.length)>0,Ae=(0,s.useCallback)((e=>{U(e.target.checked?"interested":"notInterested")}),[]),je=(0,s.useCallback)((e=>{F(e.target.value)}),[]),ye=(0,s.useCallback)((e=>{P(e.target.value)}),[]),be=(0,s.useCallback)((e=>{if(!e||!Array.isArray(e))return[];let t=e;z&&(t=t.filter((e=>{var t,i,n;return(null===e||void 0===e||null===(t=e.course)||void 0===t||null===(i=t.university)||void 0===i||null===(n=i.location)||void 0===n?void 0:n.country)===z})));return("Recommended by AI"===T?t.filter((e=>!("counsellorRecommended"in e)||!0!==e.counsellorRecommended)):"Recommended by Student Advisor"===T?t.filter((e=>"counsellorRecommended"in e&&!0===e.counsellorRecommended)):t).filter((e=>{var t;return!(null===(t=e.course)||void 0===t||!t.duration)&&(!!Array.isArray(e.course.duration)&&e.course.duration.some((e=>"Full-time"===e.durationType)))})).filter((e=>"interested"===_?!e.notInterested:e.notInterested))}),[T,z,_]),Se=(0,s.useMemo)((()=>({ambitious:be(ue),safe:be(xe),moderate:be(pe)})),[ue,xe,pe,be]);!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const i=(0,s.useRef)(0),n=(0,s.useRef)(Date.now());(0,s.useEffect)((()=>{i.current+=1;const e=Date.now();n.current,n.current=e}),t),i.current}("RecommendationsComponent",[null===ne||void 0===ne||null===(h=ne.data)||void 0===h||null===(p=h.data)||void 0===p?void 0:p.length,T,_,W,L]);const Ce=(0,s.useCallback)((async()=>{M(!0),O(null);try{console.log("\ud83d\udce4 Calling getRecommendations()...");const o=await(0,I.Dz)({});var e,t,i,n;if(o)console.log("\u2705 Recommendations API response received"),console.log("\ud83d\udccb Criteria from API:",null===(e=o.data)||void 0===e?void 0:e.criteria),console.log("\ud83d\udcca Total recommendations:",null===(t=o.data)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.length),k((0,Lt.M2)(o.data)),console.log("\u2705 Dispatched to Redux, current criteria:",null===(n=o.data)||void 0===n?void 0:n.criteria)}catch(B){console.error("\u274c Failed to regenerate recommendations:",B),O("Failed to regenerate recommendations")}finally{M(!1)}}),[k]);(0,s.useEffect)((()=>{var e;"generate"===D&&null!==(e=re.data)&&void 0!==e&&e.isAuthorized&&(console.log("\ud83d\udd04 Auto-generating recommendations (explicit /generate route)"),E("/profile/recommendedCourses",{replace:!0}))}),[D,null===(v=re.data)||void 0===v?void 0:v.isAuthorized,Ce,E]);(0,s.useCallback)((async()=>{var e,t;const i=null!==(e=le.data.underGraduation)&&void 0!==e&&e.totalScore?le.data.underGraduation:null!==(t=le.data.postGraduation)&&void 0!==t&&t.totalScore?le.data.postGraduation:void 0;ge&&i&&ce?await Ce():k((0,C.DE)({show:!0,data:{container:{name:"qasection",dimensions:{width:"70%",height:"90%"}},type:"custom"}}))}),[ge,le,ce,k,Ce]);const we=(0,s.useCallback)((async e=>{var t;switch(e.name){case"cart":var i;if(null!==re&&void 0!==re&&null!==(t=re.data)&&void 0!==t&&t.isAuthorized)k((0,C.DE)({show:!0,data:{container:{name:"applynow",data:null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.course,dimensions:{width:"450px"}},type:"custom"}}));else k((0,C.DE)({show:!0,data:{container:{name:"login",dimensions:{width:"800px",height:"70%",show:"none"}},type:"custom"}}));break;case"shortlist":try{var n;if(null!==re&&void 0!==re&&null!==(n=re.data)&&void 0!==n&&n.isAuthorized){var o,a;const t={action:"push",courseId:null===(o=e.data)||void 0===o||null===(a=o.course)||void 0===a?void 0:a._id},i=await(0,I.ZK)(t);i.data.success&&k((0,V.u$)(i.data.data))}else k((0,C.DE)({show:!0,data:{container:{name:"login",dimensions:{width:"800px",height:"70%",show:"none"}},type:"custom"}}))}catch(B){console.error("An error occurred while shortlisting:",B)}break;case"delete":try{var l,s;const t={action:"pull",courseId:null===(l=e.data)||void 0===l||null===(s=l.course)||void 0===s?void 0:s._id},i=await(0,I.ZK)(t);i.data.success&&k((0,V.u$)(i.data.data))}catch(B){console.error("An error occurred while unshortlisting:",B)}break;case"hideRecommendation":try{const t=await(0,I.Gd)({recommendationId:e.data});k((0,Lt.M2)(t.data.data))}catch(r){console.error("An error occurred while hiding recommendation:",r)}}}),[k,re]),De=(0,s.useCallback)((e=>{J((t=>[...t,e]))}),[]);(0,s.useEffect)((()=>{if(D){const e=ke.find((e=>e.value.toLowerCase()===D.toLowerCase()));e&&N(e.value)}}),[D]);const Ee=s.memo((e=>{var t,i,o,a,s,r,d,c,u,x,m,h,p;const v=null===e||void 0===e?void 0:e.data,g=de.data.some((e=>{var t;return e._id===(null===(t=v.course)||void 0===t?void 0:t._id)})),A=(null!==v&&void 0!==v&&v.counsellorRecommended,null!==v&&void 0!==v&&v.counsellorRecommended?"Student Advisor Recommended":"AI Recommended"),j=e=>{var t,i;e.stopPropagation(),k((0,C.DE)({show:!0,data:{container:{name:"universityPopup",data:null===(t=v.course)||void 0===t||null===(i=t.university)||void 0===i?void 0:i._id,dimensions:{width:"80%"}},type:"custom"}}))};return(0,f.jsxs)(Tt,{title:A,badgeColor:"#fff",badgePosition:"top-right",sx:{height:"80%",minHeight:260,maxWidth:600,width:"100%",p:0,display:"flex",flexDirection:"column",backgroundColor:"#EFF4F7"},children:[(0,f.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",gap:2,mt:1,px:[1,2],pl:1},children:[(0,f.jsx)(n.A,{sx:{width:48,height:48,borderRadius:"50%",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center",background:"#fff",flexShrink:0,cursor:"pointer"},onClick:j,children:(0,f.jsx)("img",{src:null===(t=v.course)||void 0===t||null===(i=t.university)||void 0===i?void 0:i.logoSrc,alt:"logo",style:{width:48,height:48,objectFit:"cover",borderRadius:"50%"}})}),(0,f.jsxs)(n.A,{sx:{flex:1,minWidth:0},children:[(0,f.jsx)(l.A,{sx:{fontWeight:450,fontSize:"1.05rem",color:"#495052",mb:.2,lineHeight:1.2,overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",cursor:"pointer"},onClick:j,children:null===(o=v.course)||void 0===o||null===(a=o.university)||void 0===a?void 0:a.name}),(0,f.jsx)(n.A,{sx:{display:"flex",alignItems:"center",gap:1},children:(0,f.jsx)(l.A,{sx:{fontSize:"0.95rem",color:"#8E9091"},children:null===(s=v.course)||void 0===s||null===(r=s.university)||void 0===r||null===(d=r.location)||void 0===d?void 0:d.country})})]})]}),(0,f.jsx)(l.A,{sx:{fontWeight:700,fontSize:"1.13rem",color:"#222",mt:1,mb:.5,lineHeight:1.3,px:[1,2],pl:1,overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",cursor:"pointer"},onClick:e=>{e.stopPropagation(),k((0,C.DE)({show:!0,data:{container:{name:"mainPopup",data:v.course,dimensions:{width:"95%"}},type:"custom"}}))},children:null===v||void 0===v||null===(c=v.course)||void 0===c?void 0:c.name}),(0,f.jsxs)(n.A,{sx:{mb:.5,px:[1,2],pl:1,display:"flex",flexWrap:"wrap",gap:.5,alignItems:"center"},children:[(0,f.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",gap:.3,flexShrink:0},children:[(0,f.jsx)("img",{src:b.A.Calender1,alt:"calendar",style:{width:"1rem",height:"1rem"}}),(0,f.jsx)(l.A,{sx:{fontSize:"0.95rem",color:"#495052"},children:null===v||void 0===v||null===(u=v.course)||void 0===u||null===(x=u.startDate)||void 0===x?void 0:x.map((e=>R.dF[e.courseStartingMonth].substring(0,3))).join(", ")})]}),(0,f.jsx)(l.A,{sx:{fontSize:"0.95rem",color:"#495052",flexShrink:0},children:"|"}),(0,f.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",gap:.3,flexShrink:0},children:[(0,f.jsx)("img",{src:b.A.GraduateHat,alt:"degree",style:{width:"1rem",height:"1rem"}}),(0,f.jsx)(l.A,{sx:{fontSize:"0.95rem",color:"#495052"},children:v.course.studyLevel})]}),(0,f.jsx)(l.A,{sx:{fontSize:"0.95rem",color:"#495052",flexShrink:0},children:"|"}),(0,f.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",gap:.3,flexShrink:0},children:[(0,f.jsx)("img",{src:b.A.Dollar1,alt:"fee",style:{width:"1rem",height:"1rem"}}),(0,f.jsxs)(l.A,{sx:{fontSize:"0.95rem",color:"#495052"},children:[(null===(m=v.course.tuitionFee)||void 0===m||null===(h=m.tuitionFee)||void 0===h?void 0:h.toLocaleString())||"N/A",(0,f.jsx)(n.A,{component:"span",sx:{fontSize:"0.65em",lineHeight:1,fontWeight:600,color:"#495052",ml:.2,verticalAlign:"super",position:"relative",top:"-0.3em"},children:null===(p=v.course.currency)||void 0===p?void 0:p.code}),(0,f.jsx)("span",{style:{color:"#8D8B8B",fontWeight:400,fontSize:"0.8em",marginLeft:"2px"},children:"/ year"})]})]}),(0,f.jsx)(l.A,{sx:{fontSize:"0.95rem",color:"#495052",flexShrink:0},children:"|"}),(0,f.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",gap:.3,flexShrink:0,minWidth:0},children:[(0,f.jsx)("img",{src:b.A.Timmer,alt:"duration",style:{width:"1rem",height:"1rem"}}),(0,f.jsx)(l.A,{sx:{fontSize:"0.95rem",color:"#495052",wordBreak:"break-word",overflowWrap:"break-word",hyphens:"auto"},children:Array.isArray(v.course.duration)?(()=>{const e=v.course.duration.filter((e=>"Full-time"===e.durationType));return e.length>0?e.map((e=>"".concat(e.duration," ").concat(e.durationType))).join(", "):"N/A"})():v.course.duration||"N/A"})]})]}),(0,f.jsxs)(n.A,{sx:{display:"flex",gap:1,mb:.5,px:[1,2],pl:1},children:[(0,f.jsx)(n.A,{sx:{background:"#F87171",color:"#fff",borderRadius:"8px",px:1.5,py:.2,fontSize:"0.85rem",fontWeight:600},children:"Apply Soon"}),(0,f.jsx)(n.A,{sx:{background:"#9ADBFF",color:"#3B3F76",borderRadius:"8px",px:1.5,py:.2,fontSize:"0.85rem",fontWeight:600},children:"Sponsored"})]}),(0,f.jsxs)(n.A,{sx:{mr:3.5,mt:2,display:"flex",gap:1.5,justifyContent:"flex-end",px:5,pb:2},children:[(0,f.jsx)(G.A,{sx:{minWidth:0,width:36,height:36,borderRadius:"50%",border:"1px solid #1C1F40",display:"flex",alignItems:"center",justifyContent:"center",background:"#fff",boxShadow:"none",p:0},onClick:()=>we({name:"cart",data:v}),children:(0,f.jsx)(H.A,{sx:{fontSize:"1.2rem",color:"#495052"}})}),(0,f.jsx)(G.A,{sx:{minWidth:0,width:36,height:36,borderRadius:"50%",border:"1px solid #495052",display:"flex",alignItems:"center",justifyContent:"center",background:"#fff",boxShadow:"none",p:0},onClick:()=>we(g?{name:"delete",data:v}:{name:"shortlist",data:v}),children:g?(0,f.jsx)(Rt.A,{sx:{color:"#495052",fontSize:"1.2rem"}}):(0,f.jsx)(Pt.A,{sx:{color:"#495052",fontSize:"1.2rem"}})}),"notInterested"!==_?(0,f.jsx)(G.A,{sx:{minWidth:0,width:36,height:36,borderRadius:"50%",border:"1px solid #495052",display:"flex",alignItems:"center",justifyContent:"center",background:"#fff",boxShadow:"none",p:0},onClick:()=>we({name:"hideRecommendation",data:v._id}),children:(0,f.jsx)(Gt.A,{sx:{color:"#495052",fontSize:"1.2rem"}})}):null,"notInterested"===_&&(0,f.jsx)(Z.A,{title:"Delete",placement:"bottom",children:(0,f.jsx)(n.A,{component:"img",src:b.A.deleteIcon,alt:"delete",sx:{width:"2rem",height:"2rem",cursor:"pointer"},onClick:()=>De(v._id)})})]})]})})),ke=[{label:"Safe (".concat(xe&&be(xe).filter((e=>!K.includes(e._id))).length,")"),Component:(0,f.jsx)(n.A,{className:"recommend-section-padding",sx:{width:"100%",boxSizing:"border-box"},children:"notInterested"===_&&0===Se.safe.filter((e=>!K.includes(e._id))).length?(0,f.jsxs)(j.Ay,{item:!0,xs:8,sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"60vh",minHeight:"350px"},children:[(0,f.jsx)("img",{src:b.A.Dull,alt:"noData",style:{width:"260px",height:"200px",marginBottom:"1.5rem"}}),(0,f.jsx)(l.A,{sx:{mb:1,fontSize:"1.6rem",fontWeight:600,color:"#495052",textAlign:"center"},children:"Your Not Interested List is empty"}),(0,f.jsx)(l.A,{sx:{mb:3,fontSize:"1rem",color:"#8E9091",textAlign:"center"},children:"Don't worry, our expert counsellors are here to help you explore the right options just for you!"}),(0,f.jsx)(G.A,{sx:{background:"#F48438",color:"#fff",borderRadius:"20px",px:4,py:1,fontWeight:500,fontSize:"1rem",textTransform:"none",boxShadow:"none","&:hover":{background:"#F48438"}},onClick:()=>E("/connect"),children:"Connect"})]}):xe&&be(xe).length>0?(0,f.jsx)(j.Ay,{container:!0,spacing:3,children:xe&&be(xe).filter((e=>!K.includes(e._id))).map(((e,t)=>(0,f.jsx)(j.Ay,{item:!0,xs:12,sm:6,md:6,sx:{minWidth:0},children:(0,f.jsx)(Ee,{data:e,i:t})},t)))}):(0,f.jsxs)(j.Ay,{item:!0,xs:8,sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"60vh",minHeight:"350px"},children:[(0,f.jsx)("img",{src:b.A.Dull,alt:"noData",style:{width:"260px",height:"200px",marginBottom:"1.5rem"}}),(0,f.jsx)(l.A,{sx:{mb:1,fontSize:"1.6rem",fontWeight:600,color:"#495052",textAlign:"center"},children:"No safe courses found at the moment"}),(0,f.jsx)(l.A,{sx:{mb:3,fontSize:"1rem",color:"#8E9091",textAlign:"center"},children:"Don't worry, our expert counsellors are here to help you explore the right options just for you!"}),(0,f.jsx)(G.A,{sx:{background:"#F48438",color:"#fff",borderRadius:"20px",px:4,py:1,fontWeight:500,fontSize:"1rem",textTransform:"none",boxShadow:"none","&:hover":{background:"#F48438"}},onClick:()=>E("/connect"),children:"Connect"})]})}),value:"Safe"},{label:"Moderate (".concat(pe&&be(pe).filter((e=>!K.includes(e._id))).length,")"),Component:(0,f.jsx)(n.A,{className:"recommend-section-padding",sx:{width:"100%",boxSizing:"border-box"},children:"notInterested"===_&&pe&&0===be(pe).filter((e=>!K.includes(e._id))).length?(0,f.jsxs)(j.Ay,{item:!0,xs:8,sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"60vh",minHeight:"350px"},children:[(0,f.jsx)("img",{src:b.A.Dull,alt:"noData",style:{width:"260px",height:"200px",marginBottom:"1.5rem"}}),(0,f.jsx)(l.A,{sx:{mb:1,fontSize:"1.6rem",fontWeight:600,color:"#495052",textAlign:"center"},children:"Your Not Interested List is empty"}),(0,f.jsx)(l.A,{sx:{mb:3,fontSize:"1rem",color:"#8E9091",textAlign:"center"},children:"Don't worry, our expert counsellors are here to help you explore the right options just for you!"}),(0,f.jsx)(G.A,{sx:{background:"#\xa0F48438",color:"#fff",borderRadius:"20px",px:4,py:1,fontWeight:500,fontSize:"1rem",textTransform:"none",boxShadow:"none","&:hover":{background:"#\xa0F48438"}},onClick:()=>E("/connect"),children:"Connect"})]}):Se.moderate.length>0?(0,f.jsx)(j.Ay,{container:!0,spacing:3,children:Se.moderate.filter((e=>!K.includes(e._id))).map(((e,t)=>(0,f.jsx)(j.Ay,{item:!0,xs:12,sm:6,md:6,sx:{minWidth:0},children:(0,f.jsx)(Ee,{data:e,i:t},e._id)},t)))}):(0,f.jsxs)(j.Ay,{item:!0,xs:8,sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"60vh",minHeight:"350px"},children:[(0,f.jsx)("img",{src:b.A.Dull,alt:"noData",style:{width:"260px",height:"200px",marginBottom:"1.5rem"}}),(0,f.jsx)(l.A,{sx:{mb:1,fontSize:"1.6rem",fontWeight:600,color:"#495052",textAlign:"center"},children:"Looks like there aren't any moderate matches right now"}),(0,f.jsx)(l.A,{sx:{mb:3,fontSize:"1rem",color:"#8E9091",textAlign:"center"},children:"Don't worry - connect with our advisors to find the best-fit courses for you!"}),(0,f.jsx)(G.A,{sx:{background:"#F48438",color:"#fff",borderRadius:"20px",px:4,py:1,fontWeight:500,fontSize:"1rem",textTransform:"none",boxShadow:"none","&:hover":{background:"#F48438"}},onClick:()=>E("/connect"),children:"Connect"})]})}),value:"Moderate"},{label:"Ambitious (".concat(ue&&be(ue).filter((e=>!K.includes(e._id))).length,")"),Component:(0,f.jsx)(n.A,{className:"recommend-section-padding",sx:{width:"100%",boxSizing:"border-box"},children:"notInterested"===_&&ue&&0===be(ue).filter((e=>!K.includes(e._id))).length?(0,f.jsxs)(j.Ay,{item:!0,xs:8,sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"60vh",minHeight:"350px"},children:[(0,f.jsx)("img",{src:b.A.Dull,alt:"noData",style:{width:"260px",height:"200px",marginBottom:"1.5rem"}}),(0,f.jsx)(l.A,{sx:{mb:1,fontSize:"1.6rem",fontWeight:600,color:"#495052",textAlign:"center"},children:"Your Not Interested List is empty"}),(0,f.jsx)(l.A,{sx:{mb:3,fontSize:"1rem",color:"#8E9091",textAlign:"center"},children:"Don't worry, our expert counsellors are here to help you explore the right options just for you!"}),(0,f.jsx)(G.A,{sx:{background:"#F48438",color:"#fff",borderRadius:"20px",px:4,py:1,fontWeight:500,fontSize:"1rem",textTransform:"none",boxShadow:"none","&:hover":{background:"#F48438"}},onClick:()=>E("/connect"),children:"Connect"})]}):Se.ambitious.length>0?(0,f.jsx)(j.Ay,{container:!0,spacing:3,children:Se.ambitious.filter((e=>!K.includes(e._id))).map(((e,t)=>(0,f.jsx)(j.Ay,{item:!0,xs:12,sm:6,md:6,sx:{minWidth:0},children:(0,f.jsx)(Ee,{data:e,i:t},e._id)},t)))}):(0,f.jsxs)(j.Ay,{item:!0,xs:8,sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"60vh",minHeight:"350px"},children:[(0,f.jsx)("img",{src:b.A.Dull,alt:"noData",style:{width:"260px",height:"200px",marginBottom:"1.5rem"}}),(0,f.jsx)(l.A,{sx:{mb:1,fontSize:"1.6rem",fontWeight:600,color:"#495052",textAlign:"center"},children:"No ambitious courses in sight yet"}),(0,f.jsx)(l.A,{sx:{mb:3,fontSize:"1rem",color:"#8E9091",textAlign:"center"},children:"Don't worry - our counsellors can guide you towards bold and exciting opportunities!"}),(0,f.jsx)(G.A,{sx:{background:"#F48438",color:"#fff",borderRadius:"20px",px:4,py:1,fontWeight:500,fontSize:"1rem",textTransform:"none",boxShadow:"none","&:hover":{background:"#F48438"}},onClick:()=>E("/connect"),children:"Connect"})]})}),value:"Ambitious"}],We="initiated"===ne.requestStatus&&"not_recieved"===ne.responseStatus;return L||We?(0,f.jsxs)(n.A,{sx:{p:{xs:1,sm:2,md:4}},children:[(0,f.jsx)(Qt,{}),(0,f.jsx)($t,{count:6})]}):B?(0,f.jsx)(n.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"500px"},children:(0,f.jsx)(l.A,{color:"error",children:B})}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(n.A,{children:X?(0,f.jsxs)(j.Ay,{item:!0,xs:8,sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"60vh",minHeight:"350px"},children:[(0,f.jsx)("img",{src:b.A.Dull,alt:"noData",style:{width:"220px",height:"200px",marginBottom:"1.5rem"}}),(0,f.jsx)(l.A,{sx:{mb:1,fontSize:"1.6rem",fontWeight:500,color:"#495052",textAlign:"center"},children:te?"We've reviewed your study profile and recommend connecting with our Student Advisor for personalized assistance.":"No Recommendations Available"}),(0,f.jsx)(l.A,{sx:{mb:1,fontSize:"1.2rem",color:"#495052",textAlign:"center",maxWidth:"600px"},children:te?"You\u2019ll soon hear from our Student Advisor to guide you through ".concat(te,"."):"You require Student Advisor support for your selected country."}),(0,f.jsx)(l.A,{sx:{mb:3,fontSize:"1rem",color:"#8E9091",textAlign:"center"},children:"Meanwhile you can explore courses and universities"}),(0,f.jsx)(G.A,{sx:{background:"#F48438",color:"#fff",borderRadius:"20px",px:4,py:1,fontWeight:500,fontSize:"1rem",textTransform:"none",boxShadow:"none","&:hover":{background:"#F48438"}},onClick:()=>{k((0,C.DE)({show:!0,data:{container:{name:"explorePopup",dimensions:{width:"90%",height:"90%",show:"none"}},type:"custom"}}))},children:"Explore"})]}):null!==ne&&void 0!==ne&&ne.data&&(null===ne||void 0===ne||null===(g=ne.data)||void 0===g||null===(A=g.data)||void 0===A?void 0:A.length)>0?(0,f.jsx)(f.Fragment,{children:(null===ne||void 0===ne||null===(y=ne.data)||void 0===y?void 0:y.criteria)&&(0,f.jsxs)(n.A,{sx:{display:"flex",flexDirection:"column",gap:2,mb:2},children:[(0,f.jsxs)(n.A,{sx:{p:2,borderRadius:3,backgroundColor:"#EFF4F7",display:"flex",justifyContent:"space-between",alignItems:"center",boxShadow:"0px 1px 4px rgba(0, 0, 0, 0.05)",border:"1px solid #e0e0e0",mt:2,mb:2},children:[(0,f.jsx)(l.A,{sx:{fontSize:"1rem",color:"#495052",fontWeight:500},children:"If you wish to revise the recommendations, please make the necessary edits now to ensure their accuracy."}),(0,f.jsx)(G.A,{variant:"outlined",onClick:()=>Y(!0),sx:{px:3,py:.75,border:"2px solid #F48438 ",borderRadius:"20px",borderColor:"#F48438",color:"#495052",fontWeight:500,textTransform:"none",boxShadow:"none"},children:"Edit"})]}),(0,f.jsx)(n.A,{className:"recommend-filter-container",sx:{alignItems:"center",gap:2,width:"100%"},children:(0,f.jsxs)(n.A,{className:"recommend-filter-row",sx:{display:"flex",flex:1,flexDirection:{xs:"column",md:"row"},gap:{xs:2}},children:[(0,f.jsx)(n.A,{sx:{display:"flex",flex:1,gap:2},children:ke.map((e=>(0,f.jsx)(G.A,{onClick:()=>N(e.value),className:"recommend-title",sx:{borderBottom:e.value===W?"2px solid #3b3f76":"none",textTransform:"none",borderRadius:0,color:e.value===W?"#495052":"#8E9091",fontWeight:e.value===W?600:400,minWidth:0,px:2,pb:1,"&:hover":{color:"#8E9091"}},children:e.label},e.label)))}),(0,f.jsxs)(n.A,{className:"recommend-filter-actions",sx:{display:{xs:"flex",md:"flex"},flex:1,alignItems:"center"},children:[(0,f.jsx)(fe.A,{control:(0,f.jsx)(zt.A,{checked:"interested"===_,onChange:Ae,size:"small",sx:{m:0,p:0,height:18,"& .MuiSwitch-switchBase":{color:"#495052",p:0,"&.Mui-checked":{color:"#495052"},"&.Mui-checked + .MuiSwitch-track":{backgroundColor:"#495052",width:34}},"& .MuiSwitch-track":{backgroundColor:"#e0e0e0",height:18}}}),label:"interested"===_?"Interested":"Not Interested",sx:{m:0,".MuiFormControlLabel-label":{color:"#495052",fontWeight:400,textTransform:"capitalize",borderRadius:"8px",padding:"2px 6px",lineHeight:1.5}}}),(0,f.jsx)(he.A,{select:!0,name:"All",variant:"outlined",size:"small",value:T,onChange:je,className:"recommend-filter-select",sx:{"& .MuiOutlinedInput-root":{borderRadius:"10px",height:36,padding:"0 8px"},"& .MuiSelect-select":{color:"#495052",padding:"6px 10px",minHeight:"unset"}},children:Xt.map((e=>(0,f.jsx)(me.A,{value:e.name,className:"recommend-menu-item",sx:{py:.5,color:"#495052"},children:e.name},e.id)))}),(0,f.jsxs)(he.A,{select:!0,name:"Country",variant:"outlined",size:"small",value:z,onChange:ye,className:"recommend-filter-select",sx:{marginLeft:2,"& .MuiOutlinedInput-root":{borderRadius:"10px",height:36,padding:"0 8px"},"& .MuiSelect-select":{color:z?"#495052":"#757575",padding:"6px 10px",minHeight:"unset"}},SelectProps:{displayEmpty:!0,renderValue:e=>e&&""!==e?e:(0,f.jsx)(l.A,{sx:{color:"#757575",fontSize:"14px"},children:"All Countries"})},children:[(0,f.jsx)(me.A,{value:"",sx:{py:.5,color:"#495052"},children:"All Countries"}),ve.map((e=>(0,f.jsx)(me.A,{value:e,className:"recommend-menu-item",sx:{py:.5,color:"#495052"},children:e},e)))]})]})]})}),null===(S=ke.find((e=>e.value===W)))||void 0===S?void 0:S.Component]})}):(0,f.jsx)(j.Ay,{item:!0,xs:8,sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"60vh",minHeight:"350px"},children:"initiated"===ne.requestStatus&&"not_recieved"===ne.responseStatus?(0,f.jsxs)(n.A,{sx:{width:"100%"},children:[(0,f.jsx)(Qt,{}),(0,f.jsx)($t,{count:6})]}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(l.A,{sx:{mb:1,fontSize:"1.6rem",fontWeight:600,color:"#495052",textAlign:"center"},children:"No Recommendations"}),(0,f.jsx)(l.A,{sx:{mb:3,fontSize:"1rem",color:"#8E9091",textAlign:"center"},children:"Try our AI-powered Course Finder: enter your preferences to generate recommendations."}),(0,f.jsx)(G.A,{sx:{background:"#F48438",color:"#fff",borderRadius:"20px",px:4,py:1,fontWeight:500,fontSize:"1rem",textTransform:"none",boxShadow:"none","&:hover":{background:"#F48438"}},onClick:()=>E("/studylevel"),children:"Generate"})]})})}),(0,f.jsx)(Kt,{open:q,onClose:()=>Y(!1),data:(null===ne||void 0===ne||null===(w=ne.data)||void 0===w?void 0:w.criteria)||[],onSubmit:e=>{console.log("Updated form data",e)}})]})}),ti=()=>{var e,t,i,o;const a=(0,r.GV)((e=>e.preferences)),s=(0,r.GV)((e=>e.advisor)),d=(0,r.jL)(),c=(null===s||void 0===s||null===(e=s.data)||void 0===e?void 0:e.flatMap((e=>e.assignedCountries)))||[],u=null===a||void 0===a||null===(t=a.data)||void 0===t||null===(i=t.country)||void 0===i?void 0:i.filter((e=>!c.includes(e)));return(0,f.jsx)("div",{children:(0,f.jsx)(n.A,{sx:{borderRadius:"1rem"},children:(0,f.jsxs)(j.Ay,{container:!0,spacing:3,children:[null===s||void 0===s||null===(o=s.data)||void 0===o?void 0:o.map(((e,t)=>{var i,o,a,s,r,c;return(0,f.jsx)(j.Ay,{item:!0,xs:12,sm:6,lg:4,sx:{cursor:"pointer"},onClick:()=>d((0,C.DE)({show:!0,data:{container:{name:"advisor",data:e,dimensions:{width:"1200px",height:"85%"}},type:"custom"}})),children:(0,f.jsxs)(n.A,{sx:{px:2,pt:1,pb:2,borderRadius:"1rem",display:"flex",gap:"1rem",position:"relative",height:"160px",backgroundColor:"#EFF4F7",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[(0,f.jsx)(J.A,{src:null===e||void 0===e||null===(i=e.info)||void 0===i?void 0:i.displayPicSrc,alt:""}),(0,f.jsxs)("div",{style:{width:"100%",display:"flex",flexDirection:"column",height:"100%"},children:[(0,f.jsxs)(n.A,{sx:{flex:1},children:[(0,f.jsx)(l.A,{gutterBottom:!0,fontSize:"1.2rem",fontWeight:"600",color:"#1C1F40",children:(0,Q.r0)(null===e||void 0===e||null===(o=e.info)||void 0===o?void 0:o.firstName)}),(0,f.jsx)(l.A,{sx:{color:"#858585",fontSize:"0.9rem"},children:(0,Q.r0)(null===e||void 0===e||null===(a=e.info)||void 0===a?void 0:a.email)}),(0,f.jsx)(n.A,{sx:{mt:1},children:(0,f.jsx)(l.A,{fontSize:"0.8rem",sx:{display:"inline-block",px:1.5,py:.5,borderRadius:"12px",border:"1px solid #E0E0E0",backgroundColor:"#F5F5F5",color:"#666666",fontWeight:500},children:(0,Q.Tl)(null===e||void 0===e||null===(s=e.info)||void 0===s?void 0:s.role)})})]}),(null===e||void 0===e||null===(r=e.assignedCountries)||void 0===r?void 0:r.length)>0?(0,f.jsxs)(n.A,{sx:{mt:"auto",width:"100%",display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[(0,f.jsx)(l.A,{fontSize:"0.8rem",sx:{textAlign:"right",fontWeight:600,color:"#1C1F40",lineHeight:1.2},children:null===e||void 0===e||null===(c=e.assignedCountries)||void 0===c?void 0:c.map(((t,i)=>{var n;return(0,f.jsxs)("span",{children:[t,i<(null===e||void 0===e||null===(n=e.assignedCountries)||void 0===n?void 0:n.length)-1&&", "]},i)}))}),(0,f.jsx)(l.A,{fontSize:"0.8rem",sx:{color:"#858585",textAlign:"right",mt:.3},children:"Assigned for"})]}):""]})]})},t)})),null===u||void 0===u?void 0:u.map(((e,t)=>(0,f.jsx)(j.Ay,{item:!0,xs:12,sm:6,lg:4,children:(0,f.jsxs)(n.A,{sx:{backgroundColor:"#EDEDFD",px:2,py:4,borderRadius:"1rem",display:"flex",gap:"1rem",position:"relative",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100px"},children:[(0,f.jsxs)(l.A,{color:"#3B3F76CC",fontSize:"14px",children:["Click below to get the advisor assigned for ",e]}),(0,f.jsx)(G.A,{onClick:()=>(async e=>{try{var t;const i=await(0,I.id)({country:e}),n=i.data.data.advisor,o=null===s||void 0===s||null===(t=s.data)||void 0===t?void 0:t.find((e=>e._id===n._id));d(o?(0,et.UN)(n):(0,et.S6)(n)),null!==i.data.data.chat&&d((0,tt.Nl)(i.data.data.chat))}catch(i){console.error(i)}})(e),sx:{border:"1px solid #3B3F76CC",borderRadius:"15px",p:.5,textTransform:"none",color:"#3B3F76CC"},children:"Request for advisor"})]})},t)))]})})})};var ii=i(19778),ni=i(41190);const oi=()=>{const e=(0,r.GV)((e=>e.advisor)),t=(0,r.GV)((e=>e.cart)),i=(0,r.GV)((e=>e.orders)),o=(0,r.jL)(),d=(0,a.Zp)(),[c,u]=(0,s.useState)(null),[x,m]=(0,s.useState)(!1),[h,p]=(0,s.useState)([]),[v,A]=(0,s.useState)(!0);(0,s.useEffect)((()=>{const e=h.length>0,i=h.some((e=>{const i=t.data.find((t=>t._id===e));return!!i&&y(i)}));A(!e||i)}),[h,t]);const y=e=>{var t;return null===i||void 0===i||null===(t=i.data)||void 0===t?void 0:t.some((t=>{var i;return null===(i=t.products)||void 0===i?void 0:i.some((t=>{var i,n;return(null===t||void 0===t||null===(i=t.course)||void 0===i?void 0:i._id)===(null===e||void 0===e||null===(n=e.course)||void 0===n?void 0:n._id)&&((e,t)=>{const i=new Date(e),n=new Date(t);return i.getUTCFullYear()===n.getUTCFullYear()&&i.getUTCMonth()===n.getUTCMonth()})(null===t||void 0===t?void 0:t.intake,null===e||void 0===e?void 0:e.intake)}))}))},S=i.data.reduce(((e,t)=>{var i;return e+((null===(i=t.products)||void 0===i?void 0:i.filter((e=>"premium application"===e.category)))||[]).length}),0),w=e=>{h.includes(e._id)?p(h.filter((t=>t!==e._id))):p([...h,e._id])},D=e=>{m(!0),u(e)},E=e=>{const t=new Date(e),i=t.toLocaleString("default",{month:"short"}),n=t.getFullYear();return"".concat(i," ").concat(n)};return(0,f.jsxs)(n.A,{children:[(0,f.jsx)(n.A,{sx:{height:"65vh",overflowY:"scroll",p:1},children:(0,f.jsx)(j.Ay,{container:!0,spacing:3,children:t.data&&t.data.length>0?Array.from(new Set(t.data.map(((e,t)=>{var i,a,s;const r=y(e),d=h.includes(e._id);return(0,f.jsx)(j.Ay,{item:!0,xs:12,sm:6,lg:5,sx:{paddingLeft:{xs:0,md:"1rem"}},children:(0,f.jsxs)(Tt,{title:null===e||void 0===e||null===(i=e.course)||void 0===i||null===(a=i.university)||void 0===a||null===(s=a.location)||void 0===s?void 0:s.country,disabled:r,i:t,children:[(0,f.jsxs)(n.A,{sx:{display:"flex",gap:"10px"},onClick:()=>{o((0,C.DE)({show:!0,data:{container:{name:"mainPopup",data:e.course,dimensions:{width:"95%"}},type:"custom"}}))},children:[(0,f.jsx)("img",{src:e.course.university.logoSrc,alt:"logo",style:{width:"1.5rem",height:"1.5rem",borderRadius:"10px"}}),(0,f.jsxs)(n.A,{sx:{flex:1},children:[(0,f.jsx)(l.A,{fontSize:"0.9rem",fontWeight:"500",gutterBottom:!0,sx:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",mb:1.5,textTransform:"capitalize"},children:e.course.university.name}),(0,f.jsx)(Z.A,{title:e.course.name,placement:"bottom",slotProps:{tooltip:{sx:{color:"#fff",backgroundColor:"#3B3F76",boxShadow:1,"&.MuiTooltip-tooltip":{marginTop:"-5px !important"}}}},children:(0,f.jsx)(l.A,{fontSize:"0.9rem",sx:{fontSize:{xs:"13px",lg:"14px"},fontWeight:500,textOverflow:"ellipsis ",lineClamp:1,height:"1.5rem",textTransform:"capitalize",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:"1",WebkitBoxOrient:"vertical"},children:e.course.name})}),(0,f.jsxs)(l.A,{component:"span",fontSize:"0.8rem",fontWeight:"500",sx:{display:"flex",alignItems:"center",whiteSpace:"nowrap",mt:1},children:[(0,f.jsx)(Y.A,{sx:{fontSize:"1.25rem"}}),"\xa0 Start date:"," ",e.intake?E(e.intake):"N/A"]})]})]}),(0,f.jsxs)(j.Ay,{container:!0,spacing:2,sx:{mt:1,alignItems:"center"},children:[(0,f.jsx)(j.Ay,{item:!0,xs:6,sx:{marginTop:{lg:6},display:"flex",justifyContent:"center",maxWidth:{lg:"40%"}},children:!e.course.featured&&!r&&S<5&&(0,f.jsx)(G.A,{sx:{color:"#fff",background:"linear-gradient(90deg, #0252B2 0%, #561D6C 100%)",fontWeight:"500",fontSize:"10px",textTransform:"none",borderRadius:"15px",padding:"3px 0",width:"100px"},children:"Apply for free"})}),(0,f.jsx)(j.Ay,{item:!0,xs:6,sx:{marginTop:{lg:5},display:"flex",justifyContent:"flex-end",alignItems:"center",gap:"8px"},children:r?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("img",{src:b.A.deleteIcon,alt:"delete",style:{width:"1.5rem",height:"1.5rem"},onClick:()=>D(e)}),(0,f.jsx)(ii.A,{sx:{fontSize:"1.25rem",color:"#02b524"}}),(0,f.jsx)(l.A,{sx:{fontSize:"12px",color:"#02b524",textTransform:"capitalize",whiteSpace:"nowrap"},children:"Already placed"})]}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("img",{src:b.A.deleteIcon,alt:"delete",style:{width:"1.5rem",height:"1.5rem"},onClick:()=>D(e)}),d?(0,f.jsx)(ii.A,{sx:{fontSize:"1.35rem",color:"#1C1F40"},onClick:()=>w(e)}):(0,f.jsx)(n.A,{sx:{width:"1.1rem",height:"1.1rem",borderRadius:"50%",border:"1px solid #000",marginTop:"3px",marginLeft:"5px"},onClick:()=>w(e)})]})})]})]})},e._id)})))):(0,f.jsxs)(j.Ay,{item:!0,xs:12,sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"60vh",minHeight:"350px"},children:[(0,f.jsx)("img",{src:b.A.Confused,alt:"noData",style:{width:"220px",height:"220px",marginBottom:"1.5rem"}}),(0,f.jsx)(l.A,{sx:{mb:1,fontSize:"1.6rem",fontWeight:600,color:"#495052",textAlign:"center"},children:"Your Cart Is Empty"}),(0,f.jsx)(l.A,{sx:{mb:3,fontSize:"1rem",color:"#8E9091",textAlign:"center"},children:"Looks like you haven't made your choice yet\u2026"}),(0,f.jsx)(G.A,{sx:{background:"#F48438",color:"#fff",borderRadius:"20px",px:4,py:1,fontWeight:500,fontSize:"1rem",textTransform:"none",boxShadow:"none","&:hover":{background:"#F48438"}},onClick:()=>{const e="activeTab=".concat(encodeURIComponent(JSON.stringify("courses")),"&FilterData=").concat(encodeURIComponent(JSON.stringify([])),"&page=").concat(JSON.stringify(1),"&search=").concat(encodeURIComponent(JSON.stringify(""))),t=window.btoa(e);d("/explore?".concat(t))},children:"Add products"})]})})}),t.data&&t.data.length>0&&(0,f.jsxs)(n.A,{sx:{display:"flex",justifyContent:"center",flexDirection:{xs:"column",sm:"row"},gap:{xs:2,md:2},mb:2,p:1},children:[(0,f.jsx)(G.A,{sx:[g.zr,{width:"200px"}],onClick:()=>{var t;const i=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.filter((e=>"counsellor"===e.info.role));if(i&&i.length>0){const e=i[0];o((0,C.DE)({show:!0,data:{container:{name:"advisor",data:e,dimensions:{width:"900px",height:"85%"}},type:"custom"}}))}else d("/profile/advisors")},children:"Request a Quote"}),v?(0,f.jsx)(Z.A,{slotProps:{tooltip:{sx:{color:"#fff",backgroundColor:"#3B3F76",boxShadow:1,"&.MuiTooltip-tooltip":{marginTop:"-5px !important"}}}},title:"Select courses to proceed",placement:"top",children:(0,f.jsx)("span",{style:{cursor:"pointer"},children:(0,f.jsx)(G.A,{sx:[g.Q4,{width:"200px",background:"#dfe1e6"}],disabled:!0,children:"Proceed to Checkout"})})}):(0,f.jsx)(G.A,{sx:[g.Q4,{width:"200px",background:"#3b3f76"}],onClick:()=>{const e=t.data.filter((e=>h.includes(e._id)));o((0,C.DE)({show:!0,data:{container:{name:"checkout",data:e,dimensions:{width:"90%",height:"90%"}},type:"custom"}}))},children:"Proceed to Checkout"})]}),(0,f.jsx)(z.A,{open:x,handleClose:()=>m(!1),additionalData:{onSubmit:()=>(async e=>{if("cart"===e.name){try{var t,i,n,a,l;let s={action:"remove",category:null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&null!==(i=t.course)&&void 0!==i&&i.featured?"premium application":"elite application",courseId:null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.course._id,intake:null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.intake,itemId:null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l._id};const r=await(0,I.iH)(s);r.data.success?(o((0,ni.Bo)(r.data.data)),o((0,C.DE)({show:!0,data:{container:{name:"success",data:"Product deleted successfully",dimensions:{width:"30%",height:"40%",show:"none"}},type:"custom"}}))):o((0,C.DE)({show:!0,data:{container:{name:"error",data:r.data.message,dimensions:{width:"30%",height:"40%",show:"none"}},type:"custom"}}))}catch(s){}m(!1)}})({name:"cart",data:c}),title:"Are you sure you want to delete this from your cart?",content:"You're just a few steps away from applying to universities."}})]})},ai=()=>(0,f.jsx)("div",{children:(0,f.jsx)(n.A,{children:(0,f.jsx)(n.A,{children:(0,f.jsx)(oi,{})})})});var li=i(42904);const si=()=>{var e,t;const i=(0,a.Zp)(),o=(0,r.GV)((e=>e.orders));function d(e){const t=String(e.getDate()).padStart(2,"0"),i=String(e.getMonth()+1).padStart(2,"0"),n=e.getFullYear();return"".concat(t,"-").concat(i,"-").concat(n)}function c(e){return e.toLocaleString("default",{month:"short"})+" "+e.getFullYear()}return(0,f.jsx)("div",{style:{height:"80vh",overflowY:"scroll",padding:"2rem"},children:(0,f.jsx)(n.A,{children:(0,f.jsx)(j.Ay,{container:!0,spacing:3,sx:{},children:(null===o||void 0===o||null===(e=o.data)||void 0===e?void 0:e.length)>0?null===o||void 0===o||null===(t=o.data)||void 0===t?void 0:t.map(((e,t)=>{var i,a,r,u,x,m,h,p,v;return(0,f.jsxs)(s.Fragment,{children:[(0,f.jsx)(j.Ay,{item:!0,xs:12,children:(0,f.jsxs)(n.A,{sx:{},children:[(0,f.jsx)(j.Ay,{container:!0,spacing:2,children:null===e||void 0===e||null===(i=e.products)||void 0===i?void 0:i.map(((e,t)=>{var i,o,a,s,r,d,u,x,m;return(0,f.jsx)(j.Ay,{item:!0,xs:12,md:6,lg:4,children:(0,f.jsx)(Tt,{title:null===(i=e.course)||void 0===i||null===(o=i.university)||void 0===o||null===(a=o.location)||void 0===a?void 0:a.country,i:t,children:(0,f.jsxs)(n.A,{children:[!0===(null===e||void 0===e?void 0:e.cancellationRequest)?(0,f.jsx)("img",{src:b.A.cancelledIcon,alt:"cancelled",style:{position:"absolute",top:"-28px",right:"-26px"}}):"",(0,f.jsxs)(n.A,{sx:{display:"flex",gap:"10px",width:"100%"},children:[(0,f.jsx)("img",{src:(null===(s=e.course)||void 0===s||null===(r=s.university)||void 0===r?void 0:r.logoSrc)||b.A.establishedYear,alt:"logo",style:{width:"1.5rem",height:"1.5rem",marginRight:"5px",borderRadius:"10px"}}),(0,f.jsxs)("div",{style:{flex:1},children:[(0,f.jsx)(Z.A,{slotProps:{tooltip:{sx:{color:"#fff",backgroundColor:"#3B3F76",boxShadow:1,"&.MuiTooltip-tooltip":{marginTop:"-5px !important"}}}},title:null===e||void 0===e||null===(d=e.course)||void 0===d?void 0:d.name,placement:"bottom",children:(0,f.jsx)(l.A,{fontSize:"0.9rem",sx:{fontSize:{xs:"13px",lg:"14px"},fontWeight:500,textOverflow:"ellipsis ",lineClamp:1,height:"1.5rem",textTransform:"capitalize",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:"1",WebkitBoxOrient:"vertical"},children:null===e||void 0===e||null===(u=e.course)||void 0===u?void 0:u.name})}),(0,f.jsx)(l.A,{fontSize:"0.9rem",sx:{fontSize:{xs:"12px",lg:"12px"},height:"1.5rem",textTransform:"capitalize",display:"-webkit-box",WebkitBoxOrient:"vertical",my:1,color:"#495052"},children:null===(x=e.course)||void 0===x||null===(m=x.university)||void 0===m?void 0:m.name})]})]}),(0,f.jsx)(y.A,{direction:"row",justifyContent:"end",spacing:1,sx:{mt:1,mr:6},children:(0,f.jsxs)(l.A,{component:"span",fontSize:"0.8rem",fontWeight:"500",sx:{display:"flex",alignItems:"center",whiteSpace:"nowrap",color:"#8E9091"},children:[(0,f.jsx)(Y.A,{sx:{fontSize:"1.25rem"}}),"\xa0 Start date :",null!==e&&void 0!==e&&e.intake?c(new Date(null===e||void 0===e?void 0:e.intake)):null]})})]})})},t)}))}),(0,f.jsxs)(n.A,{sx:{mt:2,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,f.jsx)(n.A,{children:"paid"!==(null===e||void 0===e||null===(a=e.paymentDetails)||void 0===a?void 0:a.paymentStatus)?(0,f.jsx)(li.A,{data:null===e||void 0===e?void 0:e._id,total:Math.floor((null===e||void 0===e||null===(r=e.paymentDetails)||void 0===r?void 0:r.amount)/100).toLocaleString("en-US"),type:"reorder"}):""}),(0,f.jsxs)(n.A,{sx:{float:"right"},children:[(0,f.jsxs)(l.A,{fontSize:"0.9rem",color:"#8D8B8B",children:["Order total:",null===e||void 0===e||null===(u=e.paymentDetails)||void 0===u?void 0:u.currency," ",Math.floor((null===e||void 0===e||null===(x=e.paymentDetails)||void 0===x?void 0:x.amount)/100).toLocaleString("en-US")]}),(0,f.jsxs)(l.A,{fontSize:"0.9rem",color:"#8D8B8B",sx:{color:"paid"===(null===e||void 0===e||null===(m=e.paymentDetails)||void 0===m?void 0:m.paymentStatus)?"green":"red"},children:["Status:",(0,Q.r0)(null===e||void 0===e||null===(h=e.paymentDetails)||void 0===h?void 0:h.paymentStatus)]}),(0,f.jsxs)(l.A,{fontSize:"0.9rem",color:"#8D8B8B",children:["Order placed: ",null!==e&&void 0!==e&&null!==(p=e.paymentDetails)&&void 0!==p&&p.created_at?d(new Date(null===e||void 0===e||null===(v=e.paymentDetails)||void 0===v?void 0:v.created_at)):"N/A"]})]})]})]})}),t<o.data.length-1&&(0,f.jsx)(j.Ay,{item:!0,xs:12,children:(0,f.jsx)(Oe.A,{})})]},t)})):(0,f.jsxs)(j.Ay,{item:!0,xs:12,sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"60vh",minHeight:"350px"},children:[(0,f.jsx)("img",{src:b.A.Confused,alt:"noData",style:{width:"220px",height:"220px",marginBottom:"1.5rem"}}),(0,f.jsx)(l.A,{sx:{mb:1,fontSize:"1.6rem",fontWeight:600,color:"#495052",textAlign:"center"},children:"oops!"}),(0,f.jsx)(l.A,{sx:{mb:3,fontSize:"1rem",color:"#8E9091",textAlign:"center"},children:"You haven't placed any order yet-start exploring and find something you love!"}),(0,f.jsx)(G.A,{sx:{background:"#F48438",color:"#fff",borderRadius:"20px",px:4,py:1,fontWeight:500,fontSize:"1rem",textTransform:"none",boxShadow:"none","&:hover":{background:"#F48438"}},onClick:()=>{const e="activeTab=".concat(encodeURIComponent(JSON.stringify("courses")),"&FilterData=").concat(encodeURIComponent(JSON.stringify([])),"&page=").concat(JSON.stringify(1),"&search=").concat(encodeURIComponent(JSON.stringify(""))),t=window.btoa(e);i("/explore?".concat(t))},children:"Add products"})]})})})})},ri=()=>(0,f.jsxs)(a.BV,{children:[(0,f.jsx)(a.qh,{path:"dashboard",element:(0,f.jsx)(ce,{})}),(0,f.jsx)(a.qh,{path:"applications",element:(0,f.jsx)(Ft,{})}),(0,f.jsx)(a.qh,{path:"shortlisted",element:(0,f.jsx)(K,{})}),(0,f.jsx)(a.qh,{path:"personal",element:(0,f.jsx)(It,{initialTab:0})}),(0,f.jsx)(a.qh,{path:"education",element:(0,f.jsx)(It,{initialTab:1})}),(0,f.jsx)(a.qh,{path:"test",element:(0,f.jsx)(It,{initialTab:2})}),(0,f.jsx)(a.qh,{path:"workexperience",element:(0,f.jsx)(It,{initialTab:3})}),(0,f.jsx)(a.qh,{path:"preference",element:(0,f.jsx)(It,{initialTab:4})}),(0,f.jsx)(a.qh,{path:"recommendedCourses/:id",element:(0,f.jsx)(ei,{})}),(0,f.jsx)(a.qh,{path:"experts",element:(0,f.jsx)(ti,{})}),(0,f.jsx)(a.qh,{path:"documents",element:(0,f.jsx)(q,{})}),(0,f.jsx)(a.qh,{path:"cart",element:(0,f.jsx)(ai,{})}),(0,f.jsx)(a.qh,{path:"orders",element:(0,f.jsx)(si,{})})]}),di=()=>(0,f.jsx)(n.A,{sx:{display:"flex",justifyContent:"center",width:"100%",minHeight:"100vh"},children:(0,f.jsxs)(n.A,{sx:{display:"flex",width:"100%",maxWidth:"1440px"},children:[(0,f.jsx)(n.A,{sx:{width:{xs:"60px",md:"220px"},position:"fixed",left:16,height:"100vh",zIndex:10,paddingTop:"3rem"},children:(0,f.jsx)(o.A,{})}),(0,f.jsx)(n.A,{sx:{marginLeft:{xs:"0px",md:"230px"},flexGrow:1,p:2,backgroundColor:"#fff",marginTop:"5rem"},children:(0,f.jsx)(ri,{})})]})})},68989:(e,t,i)=>{i.d(t,{A:()=>h});var n=i(65043),o=i(96446),a=i(35475),l=i(73216),s=i(60587),r=i(85865),d=i(37954),c=i(29378),u=i(70579);const x=[{path:"/profile/dashboard",name:"Dashboard",icon:(0,u.jsx)("img",{src:d.A.dashboard,alt:"dashboard",style:{width:"1.5rem",height:"1.5rem"}})},{path:"/profile/personal",name:"Profile",icon:(0,u.jsx)("img",{src:d.A.personal,alt:"dashboard",style:{width:"1.5rem",height:"1.5rem"}})},{path:"/profile/documents",name:"Documents",icon:(0,u.jsx)("img",{src:d.A.documents,alt:"dashboard",style:{width:"1.5rem",height:"1.5rem"}})},{path:"/profile/applications",name:"My Products",icon:(0,u.jsx)("img",{src:d.A.products,alt:"dashboard",style:{width:"1.5rem",height:"1.5rem"}})},{path:"/profile/recommendedCourses/Safe",name:"Recommendation",icon:(0,u.jsx)("img",{src:d.A.recommendations,alt:"dashboard",style:{width:"1.5rem",height:"1.5rem"}})},{path:"/profile/shortlisted",name:"Favourites",icon:(0,u.jsx)("img",{src:d.A.wishlist,alt:"dashboard",style:{width:"1.5rem",height:"1.5rem"}})},{path:"/profile/experts",name:"Experts",icon:(0,u.jsx)("img",{src:d.A.experts,alt:"dashboard",style:{width:"1.5rem",height:"1.5rem"}})},{path:"/profile/orders",name:"My Orders",icon:(0,u.jsx)("img",{src:d.A.orders,alt:"dashboard",style:{width:"1.5rem",height:"1.5rem"}})},{path:"/profile/cart",name:"Cart",icon:(0,u.jsx)("img",{src:d.A.cart,alt:"dashboard",style:{width:"1.5rem",height:"1.5rem"}})}],m=e=>{var t,i,l,d;let{location:c,profile:m,isRecommendedCoursesActive:h,onClose:p}=e;return(0,u.jsxs)(o.A,{sx:{width:260,minHeight:600,bgcolor:"#fff",borderRadius:"20px",border:"1.5px solid #E6E6E6",px:0,display:"flex",flexDirection:"column",alignItems:"center",boxShadow:"none"},children:[(0,u.jsxs)(o.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mb:2.5,width:"100%",bgcolor:"#EFF4F7",borderTopLeftRadius:"20px",borderTopRightRadius:"20px",pt:2.5,pb:2},children:[(0,u.jsx)(s.A,{src:null===(t=m.data)||void 0===t?void 0:t.displayPicSrc,alt:"profile",sx:{width:54,height:54,mb:1.2}}),(0,u.jsxs)(r.A,{color:"#495052",sx:{fontWeight:700,fontSize:"1.13rem",mb:.2,textAlign:"center",letterSpacing:.1},children:[null===m||void 0===m||null===(i=m.data)||void 0===i?void 0:i.firstName," ",null===m||void 0===m||null===(l=m.data)||void 0===l?void 0:l.lastName]}),(0,u.jsx)(r.A,{sx:{color:"#5C6163",fontSize:"0.97rem",textAlign:"center",fontWeight:400},children:null===m||void 0===m||null===(d=m.data)||void 0===d?void 0:d.email})]}),(0,u.jsx)(o.A,{sx:{width:"90%",display:"flex",flexDirection:"column",gap:0},children:x.map(((e,t)=>{const i=c.pathname===e.path||"Recommendation"===e.name&&h&&e.path.startsWith("/profile/recommendedCourses");return(0,u.jsxs)(n.Fragment,{children:[(0,u.jsxs)(o.A,{component:a.N_,to:e.path,onClick:p,sx:{display:"flex",alignItems:"center",gap:1.7,px:3,py:1.7,borderRadius:"12px",cursor:"pointer",bgcolor:i?"#70A6B2":"transparent",fontWeight:i?700:500,color:i?"#ffff":"#495052",transition:"background 0.2s, color 0.2s",boxSizing:"border-box",textDecoration:"none","&:hover":{...i?{bgcolor:"#70A6B2",color:"#fff"}:{bgcolor:"#EFF4F7",color:"#3B3F76"}},textTransform:"none",fontSize:"1.01rem",justifyContent:"flex-start"},children:[(0,u.jsx)(o.A,{sx:{minWidth:28,display:"flex",alignItems:"center",justifyContent:"center","& img":{filter:i?"brightness(0) invert(1)":"none",transition:"filter 0.2s"}},children:e.icon}),(0,u.jsx)(r.A,{sx:{fontWeight:i?700:500,fontSize:"1.01rem",color:"inherit",textTransform:"capitalize",ml:1},children:e.name})]}),t!==x.length-1&&(0,u.jsx)(o.A,{sx:{width:"80%",mx:"auto",borderBottom:"1px solid #E6E6E6"}})]},e.name)}))})]})},h=e=>{let{mobileOnly:t=!1,forDrawer:i=!1,onClose:n}=e;const a=(0,l.zy)(),s=(0,c.GV)((e=>e.sharedInfo)),r=a.pathname.startsWith("/profile/recommendedCourses");return i?(0,u.jsx)(o.A,{className:"profile-sidebar-mobile",children:(0,u.jsx)(m,{location:a,profile:s,isRecommendedCoursesActive:r,onClose:n})}):(0,u.jsx)(o.A,{className:"profile-sidebar-container profile-sidebar-desktop",children:(0,u.jsx)(m,{location:a,profile:s,isRecommendedCoursesActive:r})})}}}]);
//# sourceMappingURL=474.6c9bf0db.chunk.js.map