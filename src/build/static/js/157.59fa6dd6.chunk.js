"use strict";(self.webpackChunkstudent_typescript=self.webpackChunkstudent_typescript||[]).push([[157],{56157:(e,t,i)=>{i.r(t),i.d(t,{default:()=>te});var o=i(80950),n=i(96446),l=i(68903),r=i(85865),a=i(11906),s=i(59135),d=i(60295),c=i(65043),u=i(73216),p=i(88911),x=i(60587),v=i(77739),h=i(29378),m=i(8064),g=i(45860),f=i(55797),y=i(3329),A=i(64625),j=i(71447),S=i(21834),w=i(59454),b=i(75456),F=i(61807),C=i(84201),T=i(51866),I=i(70579);const z=e=>{const t=t=>{var i,o,s,d,u,C,z,N,O,k,D,L,R,E,P,J;const _=t.data,M=Object.fromEntries(Object.entries(j.yZ).map((e=>{let[t,i]=e;return[i,t]}))),W=(0,h.GV)((e=>e.userAuthStatus)),U=(0,h.GV)((e=>e.shortlistedcourses)),B=(0,h.jL)(),[Y,H]=(0,c.useState)({}),G=()=>{var e;const t=(new Date).getMonth(),i=null===_||void 0===_||null===(e=_.startDate)||void 0===e?void 0:e.some((e=>{const{deadlineMonth:i}=e,o=i-t;return o>=0&&o<=2}));return(0,I.jsx)(p.A,{spacing:2,sx:{marginTop:"0px !important"},children:i&&(0,I.jsx)(n.A,{children:(0,I.jsx)(a.A,{sx:{color:"#C50000",background:"#FFBEBE",borderRadius:"0.8rem",fontSize:"10px",p:0,width:"4.5rem",textTransform:"none","&:hover":{color:"#C50000",background:"#FFBEBE"}},children:"Apply Soon"})})})},Z=async e=>{var t,i;switch(e.name){case"applynow":var o,n;if(null!==W&&void 0!==W&&null!==(t=W.data)&&void 0!==t&&t.isAuthorized&&null!==W&&void 0!==W&&null!==(i=W.data)&&void 0!==i&&i.isAuthorized)B((0,m.DE)({show:!0,data:{container:{name:"applynow",data:{_id:null===(o=_.course)||void 0===o?void 0:o._id,startDate:null===(n=_.course)||void 0===n?void 0:n.startDate,university:_.university},dimensions:{width:"350px",show:"none"}},type:"custom"}}));else B((0,m.DE)({show:!0,data:{container:{name:"login",dimensions:{width:"800px",height:"70%",show:"none"}},type:"custom"}}));break;case"shortlist":try{var l,r;if(null!==W&&void 0!==W&&null!==(l=W.data)&&void 0!==l&&l.isAuthorized&&null!==W&&void 0!==W&&null!==(r=W.data)&&void 0!==r&&r.isAuthorized){var a;H((t=>({...t,[e.data._id]:!0})));const t={action:"push",courseId:null===(a=e.data)||void 0===a?void 0:a._id},i=await(0,f.ZK)(t);i.data.success?(B((0,y.u$)(i.data.data)),H((t=>({...t,[e.data._id]:!1})))):H((t=>({...t,[e.data._id]:!1})))}else B((0,m.DE)({show:!0,data:{container:{name:"login",dimensions:{width:"800px",height:"70%",show:"none"}},type:"custom"}}))}catch(d){console.error("An error occurred while shortlisting:",d),H((t=>({...t,[e.data._id]:!1})))}break;case"delete":try{var s;H((t=>({...t,[e.data._id]:!0})));const t={action:"pull",courseId:null===(s=e.data)||void 0===s?void 0:s._id},i=await(0,f.ZK)(t);i.data.success&&(H((t=>({...t,[e.data._id]:!1}))),B((0,y.u$)(i.data.data)))}catch(d){H((t=>({...t,[e.data.course._id]:!1}))),console.error("An error occurred while unshortlisting:",d)}}};return(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)(n.A,{sx:{background:"#EFF4F7",padding:"1rem",borderRadius:"15px",position:"relative"},children:[_.featured&&(0,I.jsx)(r.A,{sx:F.U1.featured,children:"Featured"}),(0,I.jsxs)(l.Ay,{container:!0,children:[(0,I.jsxs)(l.Ay,{item:!0,xs:12,md:5,sx:{display:"flex",gap:"0.5rem"},children:[(0,I.jsxs)("div",{style:{display:"flex",gap:"10px",alignItems:"center",width:"360px",cursor:"pointer"},onClick:e=>{e.preventDefault(),e.stopPropagation();const t=window.scrollY;console.log("=== COURSE CLICK DEBUG ==="),console.log("Current scroll position:",t),t>0?(localStorage.setItem("exploreScrollPosition",t.toString()),console.log("Stored scroll position:",t)):console.log("Already at top, no need to store scroll position"),B((0,m.DE)({show:!0,data:{container:{name:"mainPopup",data:_,dimensions:{width:"95%"}},type:"custom"}}))},children:[(0,I.jsx)(n.A,{sx:{display:"flex",flexDirection:"column"},children:(0,I.jsx)(x.A,{src:null===_||void 0===_||null===(i=_.university)||void 0===i?void 0:i.logoSrc,alt:"logo",style:{height:"2rem",width:"2rem",borderRadius:"50%"}})}),(0,I.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,I.jsx)(r.A,{sx:{fontSize:{xs:"14px",lg:"16px"}},children:null===_||void 0===_?void 0:_.name}),(0,I.jsxs)(r.A,{sx:{color:"#6A6A6A",mt:.5,fontSize:{xs:"13px",lg:"14px"}},children:[" ",null===_||void 0===_||null===(o=_.university)||void 0===o?void 0:o.name]}),(0,I.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[null!==_&&void 0!==_&&null!==(s=_.stemDetails)&&void 0!==s&&s.stem?(0,I.jsx)(a.A,{sx:{color:"#000",background:"#72D4D1",borderRadius:"1rem",fontSize:"10px",p:0,minWidth:"3rem",width:"2.9rem",mt:.5,"&:hover":{color:"#000",background:"#72D4D1"}},children:"STEM"}):"",(0,I.jsx)(G,{})]})]})]}),(0,I.jsx)(n.A,{sx:{display:{xs:"block",md:"none"}},children:Y[_._id]?(0,I.jsx)(n.A,{component:"img",src:g.A.standardLoader,alt:"standardLoader",sx:{width:"1rem",height:"1rem"}}):U.data.some((e=>e._id===_._id))?(0,I.jsx)(S.A,{sx:{color:"#e35858",fontSize:"1.4rem"},onClick:()=>Z({name:"delete",data:_})}):(0,I.jsx)(w.A,{sx:{color:"#e35858",fontSize:"1.4rem"},onClick:()=>Z({name:"shortlist",data:_})})})]}),(0,I.jsx)(l.Ay,{item:!0,xs:12,md:7,sx:{padding:{xs:"1rem 3rem",md:0}},children:(0,I.jsxs)(l.Ay,{container:!0,spacing:2,children:[(0,I.jsxs)(l.Ay,{item:!0,xs:6,md:2,sx:{display:{xs:"none",md:"block"}},children:[(0,I.jsx)(r.A,{fontSize:"13px",color:"#6A6A6A",children:"Country"}),(0,I.jsx)(r.A,{fontSize:"14px",children:M[null===_||void 0===_||null===(d=_.university)||void 0===d||null===(u=d.location)||void 0===u?void 0:u.country]||"Unknown"})]}),(0,I.jsxs)(l.Ay,{item:!0,xs:6,md:2,children:[(0,I.jsx)(r.A,{fontSize:"13px",color:"#6A6A6A",children:"Degree"}),(0,I.jsx)(r.A,{fontSize:"14px",children:_.studyLevel})]}),(0,I.jsxs)(l.Ay,{item:!0,xs:6,md:2,children:[(0,I.jsx)(r.A,{fontSize:"13px",color:"#6A6A6A",children:"Duration"}),(null===_||void 0===_||null===(C=_.duration)||void 0===C?void 0:C.length)>0?null===_||void 0===_||null===(z=_.duration)||void 0===z?void 0:z.map((e=>(0,I.jsxs)(r.A,{fontSize:"14px",sx:{display:"flex",alignItems:"center"},children:[" ",(null===e||void 0===e?void 0:e.duration)+" Months",(0,I.jsx)(v.A,{slotProps:{tooltip:{sx:{color:"#fff",boxShadow:1,backgroundColor:"#3B3F76","&.MuiTooltip-tooltip":{marginTop:"-5px !important"}}}},title:null===e||void 0===e?void 0:e.durationType,placement:"bottom",children:(0,I.jsx)(b.A,{sx:{fontSize:"small",cursor:"pointer",color:"#a7a1a1"}})})]}))):"N/A"]}),(0,I.jsxs)(l.Ay,{item:!0,xs:6,md:2.5,children:[(0,I.jsxs)(r.A,{fontSize:"13px",color:"#6A6A6A",sx:{display:"flex",alignItems:"center"},children:["Tuition Fee",(0,I.jsx)(v.A,{slotProps:{tooltip:{sx:{color:"#fff",backgroundColor:"#3B3F76",boxShadow:1,"&.MuiTooltip-tooltip":{marginTop:"-5px !important"}}}},title:"Approximate",placement:"bottom",children:(0,I.jsx)(b.A,{sx:{fontSize:"small",cursor:"pointer",color:"#a7a1a1"}})})]}),(0,I.jsxs)(r.A,{fontSize:"0.85rem",sx:{display:"flex",alignItems:"center"},children:[(0,I.jsxs)(r.A,{sx:{fontSize:"14px",position:"relative",cursor:"pointer","&:hover .cancel-icon":{display:"block !important"}},children:[" ",null!==_&&void 0!==_&&null!==(N=_.tuitionFee)&&void 0!==N&&N.tuitionFee?null===_||void 0===_?void 0:_.currency.symbol:"",(0,I.jsxs)("span",{className:"cancel-icon",style:{display:"none",color:"#000",position:"absolute",border:"1px solid #3B3F76",width:"100px",zIndex:1,background:"#fff",textAlign:"center",fontSize:"11px"},children:["Currency :",null===_||void 0===_?void 0:_.currency.code]})]}),null!==_&&void 0!==_&&null!==(O=_.tuitionFee)&&void 0!==O&&O.tuitionFee||(null===_||void 0===_||null===(k=_.tuitionFee)||void 0===k?void 0:k.tuitionFee)>0?(0,T.N)(Math.round(100*(null===_||void 0===_||null===(D=_.tuitionFee)||void 0===D?void 0:D.tuitionFee))/100,(null===_||void 0===_||null===(L=_.currency)||void 0===L?void 0:L.code)||"INR"):"N/A",(0,I.jsx)(r.A,{component:"sub",sx:{fontSize:"9px",marginLeft:"3px",marginTop:"-3px"},children:null!==_&&void 0!==_&&null!==(R=_.tuitionFee)&&void 0!==R&&R.tuitionFee?null===_||void 0===_||null===(E=_.tuitionFee)||void 0===E?void 0:E.tuitionFeeType:""})]})]}),(0,I.jsxs)(l.Ay,{item:!0,xs:6,md:2.5,children:[(0,I.jsx)(r.A,{fontSize:"13px",color:"#6A6A6A",children:"Course Starts"}),(0,I.jsx)(r.A,{fontSize:"14px",children:null===_||void 0===_||null===(P=_.startDate)||void 0===P?void 0:P.map((e=>A.US[e.courseStartingMonth])).join(" | ")})]}),(0,I.jsx)(l.Ay,{item:!0,md:.5,sx:{display:{xs:"none",md:"block"},marginTop:2},children:Y[_._id]?(0,I.jsx)(n.A,{component:"img",src:g.A.standardLoader,alt:"standardLoader",sx:{width:"1rem",height:"1rem"}}):U.data.some((e=>e._id===_._id))?(0,I.jsx)(S.A,{sx:{color:"#e35858",fontSize:"1.4rem"},onClick:()=>Z({name:"delete",data:_})}):(0,I.jsx)(w.A,{sx:{color:"#e35858",fontSize:"1.4rem",ml:1},onClick:()=>Z({name:"shortlist",data:_})})})]})})]}),(null===(J=_.applicationDetails)||void 0===J?void 0:J.applicationFeeWaiver)&&(0,I.jsx)(r.A,{sx:F.U1.noCost,children:"No-Cost Apply"})]},e.key)})},i=()=>{var i,o;return(0,I.jsx)("div",{children:(0,I.jsx)(n.A,{sx:{minHeight:"600px",maxHeight:"650px",height:"100%",overflowY:"scroll"},children:(0,I.jsx)(l.Ay,{container:!0,spacing:2,sx:{"&.MuiGrid-root":{marginTop:"0px !important"}},children:(null===e||void 0===e||null===(i=e.list)||void 0===i?void 0:i.length)>0?null===e||void 0===e||null===(o=e.list)||void 0===o?void 0:o.map(((e,i)=>(0,I.jsx)(l.Ay,{item:!0,xs:12,children:(0,I.jsx)(t,{data:e},e._id)}))):(0,I.jsx)(l.Ay,{item:!0,xs:12,children:(0,I.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px",flexDirection:"column"},children:[(0,I.jsx)("img",{src:g.A.noData,alt:"noData",style:{width:"70px",height:"70px"}}),(0,I.jsx)("br",{}),"No courses found"]})})})})})};return(0,I.jsx)(n.A,{sx:{px:"1rem"},children:e.loading?(0,I.jsxs)(n.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",flexDirection:"column"},children:[(0,I.jsx)(C.A,{color:"#3b3f76"}),(0,I.jsx)(r.A,{children:"Please wait , while we fetch courses!!"})]}):(0,I.jsx)(i,{})})};var N=i(81637),O=i(74354);const k=e=>{(0,u.Zp)();const t=(0,h.jL)(),i=e=>{var i,o,a,s,d,c,u,h,g,f;const y=e.data,A=Object.fromEntries(Object.entries(j.yZ).map((e=>{let[t,i]=e;return[i,t]})));return(0,I.jsx)("div",{children:(0,I.jsx)(n.A,{sx:{background:"#EFF4F7",padding:"1rem",borderRadius:"10px"},children:(0,I.jsxs)(l.Ay,{container:!0,children:[(0,I.jsx)(l.Ay,{item:!0,xs:12,md:5,children:(0,I.jsx)(n.A,{sx:{cursor:"pointer"},onClick:e=>{e.preventDefault(),e.stopPropagation();const i=window.scrollY;console.log("Current scroll position (university):",i),i>0?(localStorage.setItem("exploreScrollPosition",i.toString()),console.log("Stored scroll position (university):",i)):console.log("Already at top, no need to store scroll position (university)"),t((0,m.DE)({show:!0,data:{container:{name:"universityPopup",data:y._id,dimensions:{width:"80%"}},type:"custom"}}))},children:(0,I.jsxs)(n.A,{sx:{display:"flex",gap:"10px",width:"100%",alignItems:"center"},children:[(0,I.jsx)(x.A,{src:null===y||void 0===y?void 0:y.logoSrc,alt:"logo",style:{width:"2rem",height:"2rem",marginRight:"5px",borderRadius:"50%"}}),(0,I.jsx)(p.A,{sx:{},spacing:1,children:(0,I.jsx)(r.A,{sx:{fontSize:{xs:"14px",lg:"15px"}},children:null===y||void 0===y?void 0:y.name})})]})})}),(0,I.jsx)(l.Ay,{item:!0,xs:12,md:7,sx:{padding:{xs:"1rem 3rem",md:0}},children:(0,I.jsxs)(l.Ay,{container:!0,spacing:3,children:[(0,I.jsxs)(l.Ay,{item:!0,xs:4,lg:2,children:[(0,I.jsx)(r.A,{fontSize:"13px",color:"#6A6A6A",children:"Country"}),(0,I.jsx)(r.A,{fontSize:"0.8rem",children:A[null===y||void 0===y||null===(i=y.location)||void 0===i?void 0:i.country]})]}),(0,I.jsxs)(l.Ay,{item:!0,xs:4,lg:2.5,children:[(0,I.jsx)(r.A,{fontSize:"13px",color:"#6A6A6A",children:"State"}),(0,I.jsx)(r.A,{fontSize:"14px",children:null===y||void 0===y||null===(o=y.location)||void 0===o?void 0:o.state})]}),(0,I.jsxs)(l.Ay,{item:!0,xs:4,lg:2,children:[(0,I.jsx)(r.A,{fontSize:"13px",color:"#6A6A6A",children:"Type"}),(0,I.jsx)(r.A,{fontSize:"14px",children:(0,O.r0)(null===y||void 0===y?void 0:y.type)})]}),(0,I.jsxs)(l.Ay,{item:!0,xs:8,lg:3.5,children:[(0,I.jsxs)(r.A,{fontSize:"13px",color:"#6A6A6A",sx:{display:"flex",alignItems:"center"},children:["Cost of Living",(0,I.jsx)(v.A,{slotProps:{tooltip:{sx:{color:"#fff",boxShadow:1,"&.MuiTooltip-tooltip":{marginTop:"-5px !important"}}}},title:"Approximate",placement:"bottom",children:(0,I.jsx)(b.A,{sx:{fontSize:"small",cursor:"pointer",color:"#70A6B2"}})})]}),(0,I.jsx)(r.A,{fontSize:"14px",children:null!==(a=y.cost)&&void 0!==a&&a.find((e=>"Living Cost"===e.name))?"".concat((null===(s=y.currency)||void 0===s?void 0:s.symbol)||"").concat(null!==(d=y.cost.find((e=>"Living Cost"===e.name)))&&void 0!==d&&d.lowerLimit?(0,T.N)(null===(c=y.cost.find((e=>"Living Cost"===e.name)))||void 0===c?void 0:c.lowerLimit,(null===(u=y.currency)||void 0===u?void 0:u.code)||"INR"):"0"," - ").concat((null===(h=y.currency)||void 0===h?void 0:h.symbol)||"").concat((0,T.N)(null===(g=y.cost.find((e=>"Living Cost"===e.name)))||void 0===g?void 0:g.upperLimit,(null===(f=y.currency)||void 0===f?void 0:f.code)||"INR")):"Not available"})]}),(0,I.jsxs)(l.Ay,{item:!0,xs:4,lg:2,children:[(0,I.jsx)(r.A,{fontSize:"13px",color:"#6A6A6A",children:"Programs "}),(0,I.jsx)(r.A,{fontSize:"14px",sx:{display:"flex",alignItems:"center"},children:null===y||void 0===y?void 0:y.courses})]})]})})]})})})},o=()=>{var t,o;return(0,I.jsx)("div",{children:(0,I.jsx)(n.A,{sx:{minHeight:"600px",maxHeight:"650px",height:"100%",overflowY:"scroll"},children:(0,I.jsx)(l.Ay,{container:!0,spacing:2,sx:{"&.MuiGrid-root":{marginTop:"0px !important"}},children:(null===e||void 0===e||null===(t=e.list)||void 0===t?void 0:t.length)>0?null===e||void 0===e||null===(o=e.list)||void 0===o?void 0:o.map(((e,t)=>(0,I.jsx)(l.Ay,{item:!0,xs:12,children:(0,I.jsx)(i,{data:e},e._id)}))):(0,I.jsx)(l.Ay,{item:!0,xs:12,children:(0,I.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px",flexDirection:"column"},children:[(0,I.jsx)("img",{src:g.A.noData,alt:"noData",style:{width:"70px",height:"70px"}}),(0,I.jsx)("br",{}),"No universities found"]})})})})})};return(0,I.jsx)(n.A,{sx:{px:"1rem"},children:e.loading?(0,I.jsx)(n.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px"},children:(0,I.jsx)(N.A,{})}):(0,I.jsx)(o,{})})};var D=i(53193),L=i(72221),R=i(90469),E=i(67784),P=i(51787),J=i(32143),_=i(21337),M=i(74802),W=i(66360),U=i(19778),B=i(43917);const Y=e=>{var t;return(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(H,{appliedFilter:null===e||void 0===e?void 0:e.appliedFilter,data:null===e||void 0===e?void 0:e.data,initialValue:null!==e&&void 0!==e&&e.initialValue?null===e||void 0===e?void 0:e.initialValue:{type:null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.type,data:[]},onSelection:null===e||void 0===e?void 0:e.onSelection,normalizeType:null===e||void 0===e?void 0:e.normalizeType})})},H=e=>{var t,i;const o=(0,u.Zp)(),[l,a]=(0,c.useState)(""),s=(0,c.useMemo)((()=>{var t,i;return null===e||void 0===e||null===(t=e.data)||void 0===t||null===(i=t.options)||void 0===i?void 0:i.filter((e=>{var t;return null===e||void 0===e||null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(l.toLowerCase())}))}),[l,null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.options]);return(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(D.A,{fullWidth:!0,children:(0,I.jsxs)(L.A,{value:"",onChange:t=>{var i;return(t=>{let i=(0,O.vT)({data:t,filterInfo:e.data,filter:e.appliedFilter});const n=location.search.slice(1);let l="";try{l=window.atob(n)}catch(s){console.error("Error decoding URL",s),l=""}let r=new URLSearchParams(l).get("FilterData"),a=(0,O.Wi)(i,r?JSON.parse(r):[]);o((0,O.Xe)("filterData",a))})(null===t||void 0===t||null===(i=t.target)||void 0===i?void 0:i.value)},onClose:()=>a(""),renderValue:t=>0===t.length?(0,I.jsxs)(r.A,{sx:{textTransform:"capitalize",fontSize:"14px",display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:"500"},children:[(0,I.jsx)("img",{src:e.data.icon,alt:"icon",style:{width:"15px"}}),e.normalizeType(e.data.label)]}):t.join(","),size:"small",fullWidth:!0,displayEmpty:!0,sx:{"&.MuiInputBase-root":{borderRadius:"0px !important"},"& .MuiOutlinedInput-notchedOutline":{borderBottom:"1px solid #00000033 !important",border:0}},defaultValue:"",MenuProps:{PaperProps:{sx:{maxHeight:300,maxWidth:300,"&.MuiPaper-root":{boxShadow:3,borderRadius:"15px !important"}}},autoFocus:!1},IconComponent:_.A,children:[null!==(i=e.data)&&void 0!==i&&i.searchbox?(0,I.jsx)(R.A,{children:(0,I.jsx)(E.A,{size:"small",autoFocus:!0,placeholder:"Type to search...",fullWidth:!0,InputProps:{startAdornment:(0,I.jsx)(P.A,{position:"start",children:(0,I.jsx)(W.A,{})})},onChange:e=>{var t;return a(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)},onKeyDown:e=>{"Escape"!==e.key&&e.stopPropagation()}})}):null,null===s||void 0===s?void 0:s.map(((t,i)=>{var o,l,a,s,d;return(0,I.jsx)(J.A,{value:t,sx:{backgroundColor:null!==(o=e.appliedFilter)&&void 0!==o&&o.data.find((e=>(null===e||void 0===e?void 0:e.value)===(null===t||void 0===t?void 0:t.value)))?"#e3f2fd":"transparent","&:hover":{backgroundColor:null!==(l=e.appliedFilter)&&void 0!==l&&l.data.find((e=>(null===e||void 0===e?void 0:e.value)===(null===t||void 0===t?void 0:t.value)))?"#bbdefb":"#f5f5f5"},"& .MuiSvgIcon-root ":{fontSize:"0.9rem",color:"#1976d2"},whiteSpace:"normal",borderRadius:"4px",margin:"2px 8px",padding:"8px 12px"},children:(0,I.jsxs)(n.A,{sx:{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center",gap:"12px"},children:[(0,I.jsx)(r.A,{fontWeight:null!==(a=e.appliedFilter)&&void 0!==a&&a.data.find((e=>(null===e||void 0===e?void 0:e.value)===(null===t||void 0===t?void 0:t.value)))?"500":"300",fontSize:"14px",color:null!==(s=e.appliedFilter)&&void 0!==s&&s.data.find((e=>(null===e||void 0===e?void 0:e.value)===(null===t||void 0===t?void 0:t.value)))?"#1976d2":"inherit",sx:{flex:1,minWidth:0,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:null===t||void 0===t?void 0:t.name}),null!==(d=e.appliedFilter)&&void 0!==d&&d.data.find((e=>(null===e||void 0===e?void 0:e.value)===(null===t||void 0===t?void 0:t.value)))?(0,I.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"4px",flexShrink:0},children:[(0,I.jsx)(r.A,{sx:{fontSize:"12px !important",color:"#1976d2",fontWeight:"500"},children:null===t||void 0===t?void 0:t.count}),(0,I.jsx)(U.A,{fontSize:"small",sx:{color:"#1976d2"}})]}):(0,I.jsx)(r.A,{sx:{fontSize:"12px !important",color:"#666",flexShrink:0},children:null===t||void 0===t?void 0:t.count})]})},i)}))]})})})},G=e=>{var t;let{setAppliedFilter:i,appliedFilters:o,open:s,setOpen:d}=e;const p=(0,u.Zp)(),[x,v]=(0,c.useState)(!1),[h,m]=(0,c.useState)(null),y=(0,u.zy)(),j=(0,c.useRef)({type:"courses",page:0,filterData:[],currency:"INR",search:"",totalItems:0,totalPages:1,appliedFilters:[]}),S=(0,c.useRef)([]),w=(0,c.useRef)("");(0,c.useEffect)((()=>{const e=y.search.slice(1),t=window.atob(e),i=new URLSearchParams(t);let o=i.get("FilterData"),n=i.get("activeTab");S.current=void 0!==o&&null!==o?JSON.parse(o):[],w.current=n?JSON.parse(n):"courses",j.current.appliedFilters=S.current,j.current.type=w.current,(async e=>{console.log("Filters",e);try{v(!0),m(null);const t=e.map((e=>({type:e.type,data:e.data.map((e=>e.value))}))),i=await(0,f.XF)(w.current,{filterData:t,project:[]});i&&i.data&&(m(i.data[0]),v(!1))}catch(t){console.error("Error fetching filter options:",t),v(!1)}})(j.current.appliedFilters)}),[y]);return(0,I.jsx)("div",{children:(0,I.jsxs)(n.A,{sx:{height:"90%","& .MuiSelect-select":{fontSize:"14px"}},children:[(0,I.jsxs)(l.Ay,{container:!0,sx:{},children:[(0,I.jsxs)(l.Ay,{item:!0,xs:12,sx:{background:"#F5F5F5",p:2,display:"flex",alignItems:"center",justifyContent:"space-between",mb:1},children:[(0,I.jsx)("img",{src:g.A.filterIcon,alt:"icon",style:{width:"20px"}}),(null===o||void 0===o?void 0:o.length)>0&&!o.every((e=>"name"===(null===e||void 0===e?void 0:e.type)))?(0,I.jsx)(r.A,{sx:{color:"#495052",cursor:"pointer",textTransform:"capitalize",fontSize:"14px",fontWeight:500},onClick:()=>{p((0,O.Xe)("filterData",[]))},children:"Clear all"}):null]}),(0,I.jsx)(l.Ay,{item:!0,xs:12,sx:{maxHeight:"120px",overflowY:"auto",overflowX:"hidden",color:"#495052",p:1,"::-webkit-scrollbar":{display:"none"},scrollbarWidth:"none",msOverflowStyle:"none"},children:null===o||void 0===o?void 0:o.map((e=>{var t;return null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.map(((t,i)=>(0,I.jsxs)(a.A,{sx:null===F.dY||void 0===F.dY?void 0:F.dY.filteredList,children:[null===t||void 0===t?void 0:t.name,(0,I.jsx)(M.A,{sx:{marginLeft:1,fontSize:"1rem",color:"red"},onClick:()=>((e,t)=>{var i;const o=y.search.slice(1);let n="";try{n=window.atob(o)}catch(a){console.error("Error decoding URL",a),n=""}let l=new URLSearchParams(n).get("FilterData"),r=(0,O.Wi)({...e,data:null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.filter((e=>(null===e||void 0===e?void 0:e.name)!=(null===t||void 0===t?void 0:t.name)))},l?JSON.parse(l):[]);p((0,O.Xe)("filterData",r))})(e,t)})]},i)))}))})]}),x?(0,I.jsx)(n.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",mt:2},children:(0,I.jsx)(B.A,{color:"#3b3f76"})}):(0,I.jsx)(n.A,{sx:{height:"calc(100vh - 400px)",overflowY:"auto",overflowX:"hidden","::-webkit-scrollbar":{display:"none"},scrollbarWidth:"none",msOverflowStyle:"none"},children:(0,I.jsx)(l.Ay,{container:!0,spacing:2,sx:{p:1},children:h&&(null===(b=h,t=Object.entries(b).filter((e=>{let[t]=e;return"gpa"!==t.toLowerCase()})).map((e=>{let[t,i]=e;const o=A.v[t]||{label:t.charAt(0).toUpperCase()+t.slice(1),icon:"",selectedType:"multi",searchbox:!1};let n=i.map((e=>{let i;return i="boolean"===typeof e._id?"featured"===t?e._id?"Featured":"Not Featured":"GRE"===t?e._id?"GRE Acceptance":"No GRE":"GMAT"===t?e._id?"GMAT Acceptance":"No GMAT":"IELTS"===t?e._id?"IELTS Acceptance":"No IELTS":"TOEFL"===t?e._id?"TOEFL Acceptance":"No TOEFL":"PTE"===t?e._id?"PTE Acceptance":"No PTE":"Duolingo"===t?e._id?"Duolingo Acceptance":"No Duolingo":e._id?"".concat(o.label):"No ".concat(o.label):String(e._id),{name:i,value:e._id,count:e.count}}));return"featured"===t&&(n=n.sort(((e,t)=>e.name.includes("Yes")&&!t.name.includes("Yes")?-1:!e.name.includes("Yes")&&t.name.includes("Yes")?1:0))),{type:t,label:o.label,icon:o.icon,options:n,selectedType:o.selectedType,searchbox:o.searchbox}})))||void 0===t?void 0:t.map((e=>(0,I.jsx)(l.Ay,{item:!0,xs:12,children:(0,I.jsx)(Y,{data:e,appliedFilter:null!==o&&void 0!==o&&o.find((t=>t.type==e.type))?o.find((t=>t.type==e.type)):{type:e.type,data:[]},onSelection:O.vT,normalizeType:O.AZ,appliedFilters:o})},e.type))))})})]})});var b};var Z=i(17392),V=i(41020),X=i(74605),K=i(51962),$=i(68864);const q=e=>{const[t,i]=(0,c.useState)(null),[o,n]=(0,c.useState)(""),r=[...e.list],a=()=>{i(null)};(0,c.useEffect)((()=>{(()=>{let t=[...r];"Low Tuition Fee"===o?t=t.sort(((e,t)=>e.tuitionFee.tuitionFee-t.tuitionFee.tuitionFee)):"High Tuition Fee"===o?t=t.sort(((e,t)=>t.tuitionFee.tuitionFee-e.tuitionFee.tuitionFee)):"Low Duration"===o?t=t.sort(((e,t)=>{var i,o;return(null===(i=e.duration)||void 0===i?void 0:i.duration)-(null===(o=t.duration)||void 0===o?void 0:o.duration)})):"High Duration"===o&&(t=t.sort(((e,t)=>{var i,o;return(null===(i=t.duration)||void 0===i?void 0:i.duration)-(null===(o=e.duration)||void 0===o?void 0:o.duration)}))),e.setList(t)})()}),[o]);const s=Boolean(t);return(0,I.jsxs)("div",{children:[(0,I.jsx)(Z.A,{onClick:e=>{i(e.currentTarget)},sx:{marginRight:"1rem"},children:(0,I.jsx)($.A,{sx:{color:"#000"}})}),(0,I.jsx)(V.Ay,{open:s,anchorEl:t,onClose:a,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:(0,I.jsxs)(l.Ay,{container:!0,spacing:1,sx:{padding:2,width:200},children:[(0,I.jsx)(l.Ay,{item:!0,xs:12,sx:{display:{lg:"none",xs:"flex"},justifyContent:"space-between"},children:(0,I.jsx)(Z.A,{onClick:a,children:(0,I.jsx)(M.A,{sx:{fontSize:"1.25rem"}})})}),(0,I.jsx)(l.Ay,{item:!0,xs:12,sx:{"& .MuiTypography-root":{fontSize:"14px"}},children:[{label:"Low Tuition Fee",value:"Low Tuition Fee"},{label:"High Tuition Fee",value:"High Tuition Fee"}].map((e=>(0,I.jsx)(X.A,{control:(0,I.jsx)(K.A,{checked:o===e.value,onChange:()=>(e=>{n(e)})(e.value),sx:{"& .MuiSvgIcon-root":{fontSize:"1.25rem"}}}),label:e.label},e.value)))})]})})]})},Q=e=>{var t;return(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(ee,{appliedFilter:null===e||void 0===e?void 0:e.appliedFilter,data:null===e||void 0===e?void 0:e.data,initialValue:null!==e&&void 0!==e&&e.initialValue?null===e||void 0===e?void 0:e.initialValue:{type:null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.type,data:[]},onSelection:null===e||void 0===e?void 0:e.onSelection,normalizeType:null===e||void 0===e?void 0:e.normalizeType})})},ee=e=>{var t,i;const o=(0,u.Zp)(),n=(0,u.zy)();return(0,I.jsx)(I.Fragment,{children:null===e||void 0===e||null===(t=e.data)||void 0===t||null===(i=t.options)||void 0===i?void 0:i.map(((t,i)=>{var l,r,s;return(0,I.jsx)(a.A,{sx:{border:null!==(l=e.appliedFilter)&&void 0!==l&&l.data.find((e=>e.value===t.value))?"1px solid var(--3-primary-teal, #70A6B2)":"1px solid #70A6B2",backgroundColor:null!==(r=e.appliedFilter)&&void 0!==r&&r.data.find((e=>e.value===t.value))?"#70A6B2":"transparent",color:null!==(s=e.appliedFilter)&&void 0!==s&&s.data.find((e=>e.value===t.value))?"#ffff":"#495052",textTransform:"none",marginRight:"0.5rem",fontSize:"13px",borderRadius:"8px","&:hover":{background:"#70A6B2",color:"#ffff"},width:"auto",flexShrink:0},onClick:i=>(t=>{console.log("Hello",t);let i=(0,O.vT)({data:t,filterInfo:e.data,filter:e.appliedFilter});const l=n.search.slice(1);let r="";try{r=window.atob(l)}catch(d){console.error("Error decoding URL",d),r=""}let a=new URLSearchParams(r).get("FilterData"),s=(0,O.Wi)(i,a?JSON.parse(a):[]);o((0,O.Xe)("filterData",s))})(t),children:e.normalizeType(e.data.label)},i)}))})},te=e=>{var t;const i=(0,u.zy)(),p=(0,u.Zp)(),x=(0,h.jL)(),v=localStorage.getItem("_auth"),y=(0,c.useRef)(""),j=(0,c.useRef)(0),S=(0,c.useRef)(""),w=(0,c.useRef)([]),[b,F]=(0,c.useState)([]),[C,T]=(0,c.useState)([]),[N,D]=(0,c.useState)([]),L=localStorage.getItem("currency"),R=(0,h.GV)((e=>e.preferences)),[E,P]=(0,c.useState)(!1),J=j.current,[_,W]=(0,c.useState)(!1),U=(0,c.useRef)({type:"courses",page:0,filterData:[],currency:"INR",search:"",totalItems:0,totalPages:1,appliedFilters:[]});console.log("list data",U);const B=U.current.totalItems||0,Y=B>0?20*(J-1)+1:0,H=Math.min(20*J,B);(0,c.useEffect)((()=>{const e=i.search.slice(1),t=window.atob(e),o=new URLSearchParams(t);let n=o.get("FilterData"),l=o.get("activeTab"),r=o.get("page"),a=o.get("search");j.current=r?JSON.parse(r):1,w.current=void 0!==n&&null!==n?JSON.parse(n):[],S.current=l?JSON.parse(l):"courses",y.current=a?JSON.parse(a):"",F(Object.values(A.f2)[Object.keys(A.f2).findIndex((e=>e===S.current))]),T(Object.values(A.om)[Object.keys(A.om).findIndex((e=>e===S.current))]),U.current.appliedFilters=w.current,U.current.type=S.current,U.current.search=y.current;let s=localStorage.getItem(S.current+"ListInfo");U.current.totalItems=s?JSON.parse(s).totalItems:void 0,U.current.totalPages=s?JSON.parse(s).totalPages:void 0,ee(j.current,U.current);const d=localStorage.getItem("exploreScrollPosition");d&&(console.log("Restoring scroll position on page load:",parseInt(d)),setTimeout((()=>{window.scrollTo(0,parseInt(d))}),100))}),[i]),(0,c.useEffect)((()=>()=>{}),[]),(0,c.useEffect)((()=>{const e=()=>{const e=window.scrollY;e>0&&localStorage.setItem("exploreScrollPosition",e.toString())};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}}),[]);const Z=[{label:"Programs",value:"courses",Component:(0,I.jsx)(z,{list:N,loading:E})},{label:"Universities",value:"universities",Component:(0,I.jsx)(k,{list:N,loading:E})}],V=e=>{let t="";switch(e.name){case"tabSelected":let i=localStorage.getItem(e.data.value+"ListInfo");t="activeTab=".concat(JSON.stringify(e.data.value),"&FilterData=").concat(JSON.stringify(i?JSON.parse(i).appliedFilters:[]),"&page=").concat(JSON.stringify(1),"&search=").concat(JSON.stringify("")),p("/explore?".concat(window.btoa(t)));break;case"filterUpdated":t="activeTab=".concat(JSON.stringify(S.current),"&FilterData=").concat(encodeURIComponent(JSON.stringify(e.data)),"&page=").concat(JSON.stringify(1),"&search=").concat(JSON.stringify("")),p("/explore?".concat(window.btoa(t)));break;case"nextPage":t="activeTab=".concat(JSON.stringify(S.current),"&FilterData=").concat(JSON.stringify(w.current),"&page=").concat(JSON.stringify(j.current+1),"&search=").concat(JSON.stringify(y.current)),p("/explore?".concat(window.btoa(t)));break;case"pageChange":if(e.data>2)if(v){let t="activeTab=".concat(JSON.stringify(S.current),"&FilterData=").concat(encodeURIComponent(JSON.stringify(w.current)),"&page=").concat(JSON.stringify(e.data),"&search=").concat(JSON.stringify(y.current));p("/explore?".concat(window.btoa(t))),window.scrollTo(0,0)}else x((0,m.DE)({show:!0,data:{container:{name:"login",dimensions:{width:"800px",height:"80%",show:"none"}},type:"custom"}}));else{let t="activeTab=".concat(JSON.stringify(S.current),"&FilterData=").concat(encodeURIComponent(JSON.stringify(w.current)),"&page=").concat(JSON.stringify(e.data),"&search=").concat(JSON.stringify(y.current));p("/explore?".concat(window.btoa(t))),window.scrollTo(0,0)}break;case"search":t="activeTab=".concat(JSON.stringify(S.current),"&FilterData=").concat(JSON.stringify(w.current),"&page=").concat(JSON.stringify(1),"&search=").concat(JSON.stringify(e.data)),p("/explore?".concat(window.btoa(t)));break;case"previousPage":t="activeTab=".concat(JSON.stringify(S.current),"&FilterData=").concat(JSON.stringify(w.current),"&page=").concat(JSON.stringify(j.current-1),"&search=").concat(JSON.stringify(y.current)),p("/explore?".concat(window.btoa(t)))}},X=(0,c.useRef)(!1),K=(0,c.useRef)(!1),$=(0,c.useCallback)((async(e,t)=>{if(X.current)K.current=!0;else if(X.current=!0,1===e&&(t.totalPages=1),t.totalPages&&e<=t.totalPages){var i;let l=null===t||void 0===t||null===(i=t.appliedFilters)||void 0===i?void 0:i.map((e=>({...e,data:null===e||void 0===e?void 0:e.data.map((e=>null===e||void 0===e?void 0:e.value))})));P(!0);try{var o;const i=await(0,f.NZ)(t.type,{page:e,currency:null!==(o=R.data)&&void 0!==o&&o.currency?R.data.currency:L||"INR",filterData:t.search?[...l,{type:"name",data:[t.search]}]:l});i.success&&(t.totalItems=i.data.totalItems,t.totalPages=i.data.totalPages,localStorage.setItem(t.type+"ListInfo",JSON.stringify(t)),D(i.data.list))}catch(n){console.error(n)}finally{P(!1),X.current=!1,K.current&&(K.current=!1,$(j.current,U.current))}}}),[R,L]),ee=(0,c.useCallback)((0,o.A)(((e,t)=>{$(e,t)}),200),[$]);return(0,I.jsx)(n.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",marginTop:"4rem"},children:(0,I.jsx)("div",{style:{maxWidth:"1440px",width:"100%",marginBottom:"4rem"},children:(0,I.jsxs)(l.Ay,{container:!0,spacing:1,children:[(0,I.jsx)(l.Ay,{item:!0,lg:2.5,sx:{display:{xs:"none",lg:"block"},paddingLeft:"16px !important"},children:(0,I.jsx)(n.A,{sx:{boxShadow:"0px 4px 16px 0px #00000040",width:"90%",mt:2,borderRadius:"1rem",height:"calc(100vh - 200px)",overflowY:"auto",overflowX:"hidden","::-webkit-scrollbar":{display:"none"},scrollbarWidth:"none",msOverflowStyle:"none"},children:(0,I.jsx)(G,{appliedFilters:w.current,setAppliedFilter:e=>{V({name:"filterUpdated",data:e})}})})}),(0,I.jsxs)(l.Ay,{item:!0,xs:12,lg:9.5,sx:{height:"calc(100vh - 200px)",overflowY:"auto",overflowX:"hidden","::-webkit-scrollbar":{display:"none"},scrollbarWidth:"none",msOverflowStyle:"none"},children:[(0,I.jsxs)(l.Ay,{container:!0,sx:{display:"flex",alignItems:"center"},children:[(0,I.jsxs)(l.Ay,{item:!0,xs:9,sm:10,lg:12,sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Y>0?(0,I.jsxs)(r.A,{sx:{display:"flex",gap:"0.5rem",pl:2},children:[(0,I.jsxs)("span",{style:{color:"#495052",fontWeight:"600"},children:[Y,"-",H]}),"out of",(0,I.jsx)("span",{style:{color:"#495052",fontWeight:"600"},children:B}),"results"]}):(0,I.jsxs)(r.A,{sx:{display:"flex",gap:"0.5rem",pl:2},children:[(0,I.jsx)("span",{style:{color:"#495052",fontWeight:"600"},children:B}),"results"]}),"courses"===S.current&&(0,I.jsx)(q,{setList:D,list:N})]}),(0,I.jsx)(l.Ay,{item:!0,xs:3,sm:2,sx:{display:{lg:"none"}},children:(0,I.jsxs)(a.A,{onClick:()=>W(!0),sx:{display:"flex",gap:"6px",color:"#000",fontWeight:"500",textTransform:"none",mb:1},children:[(0,I.jsx)("img",{src:g.A.filterIcon,alt:"icon",style:{width:"20px"}})," Filters"]})})]}),(0,I.jsx)(n.A,{sx:{display:"flex",flexWrap:"nowrap",alignItems:"center",overflowX:"auto",paddingLeft:"1rem",scrollbarWidth:"none",mb:2},children:null===C||void 0===C?void 0:C.map(((e,t)=>{var i;return(0,I.jsx)(Q,{data:e,appliedFilter:(null===(i=w.current)||void 0===i?void 0:i.find((t=>t.type===e.type)))||{type:e.type,data:[]},onSelection:O.vT,normalizeType:O.AZ,appliedFilters:w.current},t)}))}),(0,I.jsx)(n.A,{children:null===(t=Z.find((e=>e.value===S.current)))||void 0===t?void 0:t.Component}),(0,I.jsx)(n.A,{sx:{display:"flex",justifyContent:"center",gap:"20px",my:2},children:Y>0&&(0,I.jsx)(s.A,{sx:{display:"flex",justifyContent:"center",mt:1,"& .MuiPaginationItem-root.Mui-selected":{background:"#F48438 !important",color:"#fff",borderRadius:"5px",height:"28px",minWidth:"28px !important",p:"0 !important"}},count:U.current.totalPages,page:j.current,onChange:(e,t)=>V({name:"pageChange",data:t}),showFirstButton:!0,showLastButton:!0})})]}),_?["right"].map((e=>(0,I.jsx)(c.Fragment,{children:(0,I.jsxs)(d.Ay,{anchor:e,open:_,onClose:()=>W(!_),sx:{"& .MuiPaper-root":{width:{xs:"60%",sm:"40%",md:"30%"}},display:{xs:"block",lg:"none"}},children:[(0,I.jsx)(n.A,{children:(0,I.jsx)(M.A,{sx:{float:"right",m:1,cursor:"pointer"},onClick:()=>W(!_)})}),(0,I.jsx)(G,{appliedFilters:w.current,setAppliedFilter:e=>{V({name:"filterUpdated",data:e})}})]})},e))):null]})})})}}}]);
//# sourceMappingURL=157.59fa6dd6.chunk.js.map