"use strict";(self.webpackChunkstudent_typescript=self.webpackChunkstudent_typescript||[]).push([[9],{99009:(e,t,a)=>{a.r(t),a.d(t,{default:()=>f});var s=a(96446),i=a(85865),r=a(67784),o=a(81637),n=a(32143),l=a(41020),c=a(51787),d=a(17392),u=a(11906),g=a(65043),m=a(73216),p=a(61807),S=a(60525),h=a(33438),x=a(93610),y=a(70579);const f=()=>{const e=(0,m.Zp)(),t=(0,m.zy)(),{selectedStatus:a,title:f}=t.state||{},[v,b]=(0,g.useState)(f||"Enter your academic details"),[k,A]=(0,g.useState)(null),[j,C]=(0,g.useState)([]),[I,O]=(0,g.useState)(!1),[E,w]=(0,g.useState)(!1),[L,D]=(0,g.useState)(!1),[N,F]=(0,g.useState)("");(0,g.useEffect)((()=>{f&&b(f)}),[f]);const[J,P]=(0,g.useState)({institution:"",academicLevel:"",gradeSystem:"",score:"",backlogs:"",maxScore:null}),[W,$]=(0,g.useState)({institution:"",academicLevel:"",gradeSystem:"",score:"",backlogs:""});(0,g.useEffect)((()=>{if(J.institution.length<2)return C([]),w(!1),void F(J.institution)}),[J.institution]);const z=e=>{console.log("Masters Data",e);let t=localStorage.getItem("user-profile"),a=t?JSON.parse(t):{};a&&localStorage.setItem("user-profile",JSON.stringify({...a,education:{postGraduation:{institution:e.institution,backlogs:e.backlogs,totalScore:e.totalScore,gradingSystem:e.gradingSystem}}}))},G=e=>{let t=localStorage.getItem("user-profile"),a=t?JSON.parse(t):{};a&&localStorage.setItem("user-profile",JSON.stringify({...a,education:{underGraduation:{institution:e.institution,backlogs:e.backlogs,totalScore:e.totalScore,gradingSystem:e.gradingSystem,...e.maxScore&&{maxScore:e.maxScore}}}}))},M=e=>{let t=localStorage.getItem("user-profile"),a=t?JSON.parse(t):{};a&&localStorage.setItem("user-profile",JSON.stringify({...a,education:{plus2:{institution:e.institution,backlogs:e.backlogs,totalScore:e.totalScore,gradingSystem:e.gradingSystem}}}))},R=e=>{let t=localStorage.getItem("user-profile"),a=t?JSON.parse(t):{};a&&localStorage.setItem("user-profile",JSON.stringify({...a,education:{plus2:{institution:e.institution,backlogs:e.backlogs,totalScore:e.totalScore,gradingSystem:e.gradingSystem}}}))},T=e=>{const{name:t,value:a}=e.target;P((e=>({...e,[t]:a,..."gradeSystem"===t?{maxScore:"cgpa1"===a?10:"cgpa2"===a?7:"cgpa3"===a?5:"gpa"===a?4:null}:{}}))),B(t,a)},B=(e,t)=>{let a="";switch(e){case"institution":a=""===t.trim()?"Institution name is required":"";break;case"academicLevel":a=""===t?"Please select an academic level":"";break;case"gradeSystem":a=""===t?"Please select a grade system":"";break;case"score":if(J.gradeSystem)if("percentage"===J.gradeSystem){/^(100(\.00?)?|([0-9]?[0-9])(\.\d{1,2})?)$/.test(t)||(a="Enter a valid percentage (0-100) with up to 2 decimals")}else if("cgpa1"===J.gradeSystem){/^10(\.00?)?$|^([0-9](\.\d{1,2})?)$/.test(t)||(a="Enter a valid CGPA (0-10) with up to 2 decimals")}else if("cgpa2"===J.gradeSystem){/^7(\.00?)?$|^([0-6](\.\d{1,2})?)$/.test(t)||(a="Enter a valid CGPA (0-7) with up to 2 decimals")}else if("cgpa3"===J.gradeSystem){/^7(\.00?)?$|^([0-5](\.\d{1,2})?)$/.test(t)||(a="Enter a valid CGPA (0-7) with up to 2 decimals")}else if("gpa"===J.gradeSystem){/^7(\.00?)?$|^([0-4](\.\d{1,2})?)$/.test(t)||(a="Enter a valid GPA (0-4) with up to 2 decimals")}else if("grade"===J.gradeSystem){/^[A-Za-z]$/.test(t)||(a="Enter a valid grade (A-Z)")}else(""===t||parseFloat(t)<=0)&&(a="Enter a valid score");else a="Select a grade system first";break;case"backlogs":a=""!==t&&parseInt(t)<0?"Backlogs cannot be negative":""}$((t=>({...t,[e]:a})))},Z=Object.values(W).every((e=>""===e))&&Object.values(J).every((e=>""!==e));(0,g.useEffect)((()=>{const e=localStorage.getItem("formData");e&&P(JSON.parse(e))}),[]);const _=Boolean(k),q=_?"info-popover":void 0;return console.log("Data",L),(0,y.jsxs)(s.A,{sx:{...p.OZ.container1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh",textAlign:"center"},children:[(0,y.jsx)(i.A,{variant:"h4",fontWeight:"bold",sx:{mb:3,fontSize:{xs:"1.5rem",lg:"2rem"}},children:v.includes("final score")?(0,y.jsxs)(y.Fragment,{children:["What is your ",(0,y.jsx)("span",{style:{color:"#F87171"},children:"final score"})," status?"]}):(0,y.jsxs)(y.Fragment,{children:["Enter your ",(0,y.jsx)("span",{style:{color:"#F87171"},children:"current academic"})," details"]})}),(0,y.jsxs)(s.A,{sx:{width:{xs:"90%",sm:"400px"},display:"flex",flexDirection:"column",gap:2},children:[(0,y.jsxs)("div",{style:{position:"relative"},children:[(0,y.jsx)(r.A,{fullWidth:!0,name:"institution",label:"Enter your school, college, or university name",variant:"outlined",value:J.institution,onChange:e=>{console.log("Change");(async e=>{O(!0);try{var t;const a=await fetch("https://campusroot.com/api/v1/public/university/?search=".concat(e,"&institutions=1&universities=0&disciplines=0&subDisciplines=0&location=0&perPage=100&page=1&custom=true")),s=await a.json();C((null===s||void 0===s||null===(t=s.data)||void 0===t?void 0:t.institutions)||[]),w(!0),D(!0)}catch(a){console.error("Error fetching institutions:",a)}O(!1)})(e.target.value),T(e)},error:!!W.institution,helperText:W.institution,autoComplete:"off",InputProps:{endAdornment:(0,y.jsxs)(y.Fragment,{children:[I&&(0,y.jsx)(o.A,{color:"inherit",size:20}),J.institution&&(0,y.jsx)(h.A,{sx:{cursor:"pointer"},onClick:()=>P((e=>({...e,institution:""})))})]})},sx:{position:"relative","& .MuiOutlinedInput-root":{borderRadius:"12px","& fieldset":{borderLeft:"10px solid #D1D3F9"}}}}),L&&(0,y.jsx)(s.A,{sx:{position:"absolute",top:"100%",zIndex:100,backgroundColor:"#fff",boxShadow:1,maxHeight:"200px",overflowY:"auto",width:"100%"},children:j.map(((e,t)=>(0,y.jsx)(n.A,{onClick:()=>(e=>{P((t=>({...t,institution:e.InstitutionName}))),C([]),D(!1)})(e),children:null===e||void 0===e?void 0:e.InstitutionName},t)))})]}),(0,y.jsxs)(r.A,{fullWidth:!0,select:!0,name:"academicLevel",label:v.includes("final score")?"Select your last academic":"select your current academic",variant:"outlined",value:J.academicLevel,onChange:T,error:!!W.academicLevel,helperText:W.academicLevel,sx:{"& .MuiOutlinedInput-root":{borderRadius:"12px","& fieldset":{borderLeft:"10px solid #FAEAD0"}}},children:[(0,y.jsx)(n.A,{value:"masters",children:"Masters"}),(0,y.jsx)(n.A,{value:"bachelors",children:"Bachelors"}),(0,y.jsx)(n.A,{value:"diploma",children:"Diploma"}),(0,y.jsx)(n.A,{value:"grade 12",children:"Grade 12"}),(0,y.jsx)(n.A,{value:"others",children:"Others"})]}),(0,y.jsx)(r.A,{fullWidth:!0,select:!0,name:"gradeSystem",label:"Grade system",variant:"outlined",value:J.gradeSystem,onChange:T,error:!!W.gradeSystem,helperText:W.gradeSystem,sx:{"& .MuiOutlinedInput-root":{borderRadius:"12px","& fieldset":{borderLeft:"10px solid #D1D3F9"}}},children:x._A.map((e=>(0,y.jsx)(n.A,{value:e.value,children:e.label})))}),(0,y.jsx)(r.A,{fullWidth:!0,name:"score",label:"Enter Score",variant:"outlined",value:J.score,onChange:T,error:!!W.score,helperText:W.score,type:"grade"===J.gradeSystem?"text":"number",inputProps:{..."grade"===J.gradeSystem?{maxLength:1,pattern:"[A-Za-z]"}:{step:"0.01"}},sx:{"& .MuiOutlinedInput-root":{borderRadius:"12px","& fieldset":{borderLeft:"10px solid #75ECE5"}}}}),(0,y.jsx)(l.Ay,{id:q,open:_,anchorEl:k,onClose:()=>{A(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:(0,y.jsxs)(s.A,{sx:{p:2,maxWidth:300},children:[(0,y.jsx)(i.A,{variant:"body1",fontWeight:"bold",children:"What are Backlogs?"}),(0,y.jsx)(i.A,{variant:"body2",sx:{mt:1},children:"A backlog refers to a subject that was not cleared in the first attempt and needs to be reattempted."})]})}),(0,y.jsx)(r.A,{fullWidth:!0,name:"backlogs",label:"Enter backlogs",variant:"outlined",value:J.backlogs,onChange:T,error:!!W.backlogs,helperText:W.backlogs,type:"number",InputProps:{endAdornment:(0,y.jsx)(c.A,{position:"end",children:(0,y.jsx)(d.A,{onClick:e=>{A(e.currentTarget)},children:(0,y.jsx)("img",{src:S.A.info,alt:"Click Me",width:26,height:28})})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:"12px","& fieldset":{borderLeft:"10px solid #FFA89C"}}}})]}),(0,y.jsxs)(s.A,{sx:{mt:16,display:"flex",justifyContent:"center",alignItems:"center",height:"10vh",width:"100%"},children:[(0,y.jsx)(u.A,{variant:"text",sx:{color:"#888"},onClick:()=>e(-1),children:"\u2190 Back"}),(0,y.jsx)(u.A,{variant:"contained",sx:{px:4,py:1.5,borderRadius:"20px"},onClick:()=>{var t;localStorage.setItem("formData",JSON.stringify(J)),e("/testcondition1"),t=J.academicLevel,console.log("Selected Level",t),"cgpa1"===J.gradeSystem&&(J.maxScore=10),"cgpa2"===J.gradeSystem&&(J.maxScore=7),"cgpa3"===J.gradeSystem&&(J.maxScore=5),"gpa"===J.gradeSystem&&(J.maxScore=4),"masters"===t&&z({institution:J.institution,backlogs:J.backlogs,gradingSystem:J.gradeSystem,totalScore:J.score}),"grade 12"===t&&M({institution:J.institution,backlogs:J.backlogs,gradingSystem:J.gradeSystem,totalScore:J.score}),"bachelors"===t&&G({institution:J.institution,backlogs:J.backlogs,gradingSystem:J.gradeSystem,totalScore:J.score,maxScore:"cgpa1"===J.gradeSystem?10:"cgpa2"===J.gradeSystem?7:"cgpa3"===J.gradeSystem?5:"gpa"===J.gradeSystem?4:void 0}),"others"===t&&R({institution:J.institution,backlogs:J.backlogs,gradingSystem:J.gradeSystem,totalScore:J.score})},disabled:!Z,children:"Save"})]})]})}}}]);
//# sourceMappingURL=9.d311cdef.chunk.js.map