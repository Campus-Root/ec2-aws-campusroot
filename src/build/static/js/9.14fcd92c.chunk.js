"use strict";(self.webpackChunkstudent_typescript=self.webpackChunkstudent_typescript||[]).push([[9],{99009:(e,t,s)=>{s.r(t),s.d(t,{default:()=>v});var a=s(96446),i=s(85865),r=s(67784),o=s(81637),n=s(32143),l=s(41020),c=s(51787),d=s(17392),g=s(11906),u=s(65043),m=s(73216),p=s(61807),x=s(6626),f=s(33438),h=s(46873),S=s(93610),y=s(70579);const v=()=>{const e=(0,m.Zp)(),t=(0,m.zy)(),{title:s}=t.state||{},[v,b]=(0,u.useState)(s||"Enter your academic details"),[A,j]=(0,u.useState)(null),[k,C]=(0,u.useState)([]),[I,E]=(0,u.useState)(!1),[O,w]=(0,u.useState)(!1);(0,u.useEffect)((()=>{s&&b(s)}),[s]);const[L,z]=(0,u.useState)({institution:"",academicLevel:"",gradeSystem:"",score:"",backlogs:"",maxScore:null}),[D,F]=(0,u.useState)({institution:"",academicLevel:"",gradeSystem:"",score:"",backlogs:""});(0,u.useEffect)((()=>{if(L.institution.length<2)return C([]),void w(!1)}),[L.institution]);const P=e=>{console.log("Masters Data",e);let t=localStorage.getItem("user-profile"),s=t?JSON.parse(t):{};s&&localStorage.setItem("user-profile",JSON.stringify({...s,education:{postGraduation:{institution:e.institution,backlogs:e.backlogs,totalScore:e.totalScore,gradingSystem:e.gradingSystem}}}))},N=e=>{let t=localStorage.getItem("user-profile"),s=t?JSON.parse(t):{};s&&localStorage.setItem("user-profile",JSON.stringify({...s,education:{underGraduation:{institution:e.institution,backlogs:e.backlogs,totalScore:e.totalScore,gradingSystem:e.gradingSystem,...e.maxScore&&{maxScore:e.maxScore}}}}))},J=e=>{let t=localStorage.getItem("user-profile"),s=t?JSON.parse(t):{};s&&localStorage.setItem("user-profile",JSON.stringify({...s,education:{plus2:{institution:e.institution,backlogs:e.backlogs,totalScore:e.totalScore,gradingSystem:e.gradingSystem}}}))},$=e=>{let t=localStorage.getItem("user-profile"),s=t?JSON.parse(t):{};s&&localStorage.setItem("user-profile",JSON.stringify({...s,education:{plus2:{institution:e.institution,backlogs:e.backlogs,totalScore:e.totalScore,gradingSystem:e.gradingSystem}}}))},M=e=>{const{name:t,value:s}=e.target;z((e=>({...e,[t]:s,..."gradeSystem"===t?{maxScore:"cgpa1"===s?10:"cgpa2"===s?7:"cgpa3"===s?5:"gpa"===s?4:null}:{}}))),W(t,s)},W=(e,t)=>{let s="";switch(e){case"institution":s=""===t.trim()?"Institution name is required":"";break;case"academicLevel":s=""===t?"Please select an academic level":"";break;case"gradeSystem":s=""===t?"Please select a grade system":"";break;case"score":if(L.gradeSystem)if("percentage"===L.gradeSystem){/^(100(\.00?)?|([0-9]?[0-9])(\.\d{1,2})?)$/.test(t)||(s="Enter a valid percentage (0-100) with up to 2 decimals")}else if("cgpa1"===L.gradeSystem){/^10(\.00?)?$|^([0-9](\.\d{1,2})?)$/.test(t)||(s="Enter a valid CGPA (0-10) with up to 2 decimals")}else if("cgpa2"===L.gradeSystem){/^7(\.00?)?$|^([0-6](\.\d{1,2})?)$/.test(t)||(s="Enter a valid CGPA (0-7) with up to 2 decimals")}else if("cgpa3"===L.gradeSystem){/^7(\.00?)?$|^([0-5](\.\d{1,2})?)$/.test(t)||(s="Enter a valid CGPA (0-7) with up to 2 decimals")}else if("gpa"===L.gradeSystem){/^7(\.00?)?$|^([0-4](\.\d{1,2})?)$/.test(t)||(s="Enter a valid GPA (0-4) with up to 2 decimals")}else if("grade"===L.gradeSystem){/^[A-Za-z]$/.test(t)||(s="Enter a valid grade (A-Z)")}else(""===t||parseFloat(t)<=0)&&(s="Enter a valid score");else s="Select a grade system first";break;case"backlogs":s=""!==t&&parseInt(t)<0?"Backlogs cannot be negative":""}F((t=>({...t,[e]:s})))},G=Object.values(D).every((e=>""===e))&&Object.values(L).every((e=>""!==e));(0,u.useEffect)((()=>{const e=localStorage.getItem("formData");e&&z(JSON.parse(e))}),[]);const R=Boolean(A),B=R?"info-popover":void 0;return console.log("Data",O),(0,y.jsxs)(a.A,{sx:{...p.OZ.container1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh",textAlign:"center"},children:[(0,y.jsx)(i.A,{variant:"h4",fontWeight:"bold",sx:{mb:3,fontSize:{xs:"1.5rem",lg:"2rem"}},children:v.includes("final score")?(0,y.jsxs)(y.Fragment,{children:["What is your ",(0,y.jsx)("span",{style:{color:"#F87171"},children:"final score"})," status?"]}):(0,y.jsxs)(y.Fragment,{children:["Enter your ",(0,y.jsx)("span",{style:{color:"#F87171"},children:"current academic"})," details"]})}),(0,y.jsxs)(a.A,{sx:{width:{xs:"90%",sm:"400px"},display:"flex",flexDirection:"column",gap:2},children:[(0,y.jsxs)("div",{style:{position:"relative"},children:[(0,y.jsx)(r.A,{fullWidth:!0,name:"institution",label:"Enter your school, college, or university name",variant:"outlined",value:L.institution,onChange:e=>{console.log("Change");(async e=>{E(!0);try{var t;const s=await fetch("https://campusroot.com/api/v1/public/university/?search=".concat(e,"&institutions=1&universities=0&disciplines=0&subDisciplines=0&location=0&perPage=100&page=1&custom=true")),a=await s.json();C((null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.institutions)||[]),w(!0)}catch(s){console.error("Error fetching institutions:",s)}E(!1)})(e.target.value),M(e)},error:!!D.institution,helperText:D.institution,autoComplete:"off",InputProps:{endAdornment:(0,y.jsxs)(y.Fragment,{children:[I&&(0,y.jsx)(o.A,{color:"inherit",size:20}),L.institution&&(0,y.jsx)(f.A,{sx:{cursor:"pointer"},onClick:()=>z((e=>({...e,institution:""})))})]})},sx:{position:"relative","& .MuiOutlinedInput-root":{borderRadius:"12px","& fieldset":{borderLeft:"10px solid #D1D3F9"}}}}),O&&(0,y.jsx)(a.A,{sx:{position:"absolute",top:"100%",zIndex:100,backgroundColor:"#fff",boxShadow:1,maxHeight:"200px",overflowY:"auto",width:"100%"},children:k.map(((e,t)=>(0,y.jsx)(n.A,{onClick:()=>(e=>{z((t=>({...t,institution:e.InstitutionName}))),C([]),w(!1)})(e),children:null===e||void 0===e?void 0:e.InstitutionName},t)))})]}),(0,y.jsxs)(r.A,{fullWidth:!0,select:!0,name:"academicLevel",label:v.includes("final score")?"Select your last academic":"select your current academic",variant:"outlined",value:L.academicLevel,onChange:M,error:!!D.academicLevel,helperText:D.academicLevel,sx:{"& .MuiOutlinedInput-root":{borderRadius:"12px","& fieldset":{borderLeft:"10px solid #FAEAD0"}}},children:[(0,y.jsx)(n.A,{value:"masters",sx:{justifyContent:"flex-start",textAlign:"left"},children:"Masters"}),(0,y.jsx)(n.A,{value:"bachelors",sx:{justifyContent:"flex-start",textAlign:"left"},children:"Bachelors"}),(0,y.jsx)(n.A,{value:"diploma",sx:{justifyContent:"flex-start",textAlign:"left"},children:"Diploma"}),(0,y.jsx)(n.A,{value:"grade 12",sx:{justifyContent:"flex-start",textAlign:"left"},children:"Grade 12"}),(0,y.jsx)(n.A,{value:"others",sx:{justifyContent:"flex-start",textAlign:"left"},children:"Others"})]}),(0,y.jsx)(r.A,{fullWidth:!0,select:!0,name:"gradeSystem",label:"Grade system",variant:"outlined",value:L.gradeSystem,onChange:M,error:!!D.gradeSystem,helperText:D.gradeSystem,sx:{"& .MuiOutlinedInput-root":{borderRadius:"12px","& fieldset":{borderLeft:"10px solid #D1D3F9"}}},children:S._A.map((e=>(0,y.jsx)(n.A,{value:e.value,sx:{justifyContent:"flex-start",textAlign:"left"},children:e.label})))}),(0,y.jsx)(r.A,{fullWidth:!0,name:"score",label:"Enter Score",variant:"outlined",value:L.score,onChange:M,error:!!D.score,helperText:D.score,type:"grade"===L.gradeSystem?"text":"number",inputProps:{..."grade"===L.gradeSystem?{maxLength:1,pattern:"[A-Za-z]"}:{step:"0.01"}},sx:{"& .MuiOutlinedInput-root":{borderRadius:"12px","& fieldset":{borderLeft:"10px solid #75ECE5"}}}}),(0,y.jsx)(l.Ay,{id:B,open:R,anchorEl:A,onClose:()=>{j(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},PaperProps:{sx:{p:2.5,px:3,maxWidth:280,borderRadius:"16px",background:"#fff",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.1)",border:"1px solid #eaeaea",fontFamily:"'Inter', 'Poppins', sans-serif"}},children:(0,y.jsxs)(a.A,{sx:{display:"flex",alignItems:"flex-start",gap:1.5},children:[(0,y.jsx)(a.A,{sx:{width:28,height:28,backgroundColor:"#4F46E5",borderRadius:"50%",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",mt:"2px"},children:(0,y.jsx)(h.A,{fontSize:"small"})}),(0,y.jsxs)(a.A,{children:[(0,y.jsx)(i.A,{variant:"subtitle2",sx:{fontWeight:600,fontSize:"0.95rem",color:"#111827",mb:.5},children:"Backlogs?"}),(0,y.jsx)(i.A,{variant:"body2",sx:{color:"#4B5563",fontSize:"0.85rem",lineHeight:1.5},children:"Subjects not cleared on the first attempt."})]})]})}),(0,y.jsx)(r.A,{fullWidth:!0,name:"backlogs",label:"Enter backlogs",variant:"outlined",value:L.backlogs,onChange:M,error:!!D.backlogs,helperText:D.backlogs,type:"number",InputProps:{endAdornment:(0,y.jsx)(c.A,{position:"end",children:(0,y.jsx)(d.A,{onClick:e=>{j(e.currentTarget)},children:(0,y.jsx)("img",{src:x.A.info,alt:"Click Me",width:26,height:28})})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:"12px","& fieldset":{borderLeft:"10px solid #FFA89C"}}}})]}),(0,y.jsxs)(a.A,{sx:{mt:16,display:"flex",justifyContent:"center",alignItems:"center",height:"10vh",width:"100%"},children:[(0,y.jsx)(g.A,{variant:"text",sx:{color:"#888"},onClick:()=>e(-1),children:"\u2190 Back"}),(0,y.jsx)(g.A,{variant:"contained",sx:{px:4,py:1.5,borderRadius:"20px"},onClick:()=>{var t;localStorage.setItem("formData",JSON.stringify(L)),e("/testcondition1"),t=L.academicLevel,console.log("Selected Level",t),"cgpa1"===L.gradeSystem&&(L.maxScore=10),"cgpa2"===L.gradeSystem&&(L.maxScore=7),"cgpa3"===L.gradeSystem&&(L.maxScore=5),"gpa"===L.gradeSystem&&(L.maxScore=4),"masters"===t&&P({institution:L.institution,backlogs:L.backlogs,gradingSystem:L.gradeSystem,totalScore:L.score}),"grade 12"===t&&J({institution:L.institution,backlogs:L.backlogs,gradingSystem:L.gradeSystem,totalScore:L.score}),"bachelors"===t&&N({institution:L.institution,backlogs:L.backlogs,gradingSystem:L.gradeSystem,totalScore:L.score,maxScore:"cgpa1"===L.gradeSystem?10:"cgpa2"===L.gradeSystem?7:"cgpa3"===L.gradeSystem?5:"gpa"===L.gradeSystem?4:void 0}),"others"===t&&$({institution:L.institution,backlogs:L.backlogs,gradingSystem:L.gradeSystem,totalScore:L.score})},disabled:!G,children:"Save"})]})]})}},46873:(e,t,s)=>{var a=s(24994);t.A=void 0;var i=a(s(40039)),r=s(70579);t.A=(0,i.default)((0,r.jsx)("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-6 15h-2v-2h2zm0-4h-2V8h2zm-1-9c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1"}),"AssignmentLate")}}]);
//# sourceMappingURL=9.14fcd92c.chunk.js.map