"use strict";(self.webpackChunkstudent_typescript=self.webpackChunkstudent_typescript||[]).push([[361],{1361:(e,t,i)=>{i.r(t),i.d(t,{default:()=>ei});var a=i(96446),n=i(65043),o=i(35721),s=i(30681),l=i(38968),r=i(48734),d=i(73216),c=i(35475),u=i(26240),m=i(60587),x=i(17392),p=i(85865),h=i(77739),v=i(2050),g=i(30344),f=i(88340),j=i(77154),y=i(79286),A=i(55797),b=i(4675),w=i(9418),S=i(29378),C=i(70579);const D=e=>{let{accept:t,setLoading:i}=e;const a=(0,n.useRef)(null),o=(0,S.j)();return(0,C.jsxs)("div",{className:"flex",children:[(0,C.jsx)("input",{style:{display:"none"},type:"file",className:"",name:"image",onChange:e=>{var t;i(!0);const a=null===(t=e.target.files)||void 0===t?void 0:t[0];if(a){const e=new FormData;e.append("file",a),e.append("upload_preset","bsjf7zim"),j.A.post("https://api.cloudinary.com/v1_1/".concat("dffdp7skh","/image/upload"),e).then((e=>{(async e=>{if(e){const n={displayPicSrc:e};i(!0);const s=await(0,A.oS)(n);if(s){var t,a;const e=w.M.getState().sharedInfo.data;o((0,b.q5)({...e,displayPicSrc:null===(t=s.data)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.displayPicSrc})),i(!1)}else i(!1)}})(e.data.secure_url),i(!1)})).catch((e=>{console.error(e),i(!1)}))}},ref:a,accept:t}),(0,C.jsx)("h1",{onClick:()=>{a.current&&a.current.click()},className:"text-center",children:".pdf"===t?"Change Image":(0,C.jsx)(y.A,{sx:{color:"#bdd9e6"}})})]})},k=[{path:"/profile/dashboard",name:"Dashboard",icon:(0,C.jsx)("img",{src:f.A.dashboard,alt:"dashboard",style:{width:"1.5rem",height:"1.5rem"}})},{path:"/profile/personal",name:"Profile",icon:(0,C.jsx)("img",{src:f.A.personal,alt:"dashboard",style:{width:"1.5rem",height:"1.5rem"}})},{path:"/profile/documents",name:"Documents",icon:(0,C.jsx)("img",{src:f.A.documents,alt:"dashboard",style:{width:"1.5rem",height:"1.5rem"}})},{path:"/profile/applications",name:"My Products",icon:(0,C.jsx)("img",{src:f.A.products,alt:"dashboard",style:{width:"1.5rem",height:"1.5rem"}})},{path:"/profile/recommendedCourses/Safe",name:"Recommendation",icon:(0,C.jsx)("img",{src:f.A.recommendations,alt:"dashboard",style:{width:"1.5rem",height:"1.5rem"}})},{path:"/profile/shortlisted",name:"Favourites",icon:(0,C.jsx)("img",{src:f.A.wishlist,alt:"dashboard",style:{width:"1.5rem",height:"1.5rem"}})},{path:"/profile/advisors",name:"Advisors",icon:(0,C.jsx)("img",{src:f.A.experts,alt:"dashboard",style:{width:"1.5rem",height:"1.5rem"}})},{path:"/profile/orders",name:"My Orders",icon:(0,C.jsx)("img",{src:f.A.orders,alt:"dashboard",style:{width:"1.5rem",height:"1.5rem"}})},{path:"/profile/cart",name:"Cart",icon:(0,C.jsx)("img",{src:f.A.cart,alt:"dashboard",style:{width:"1.5rem",height:"1.5rem"}})}],I=()=>{var e,t;const i=(0,d.zy)(),[j,y]=n.useState(!1),[A,b]=n.useState(!1),w=(0,u.A)(),I=(0,g.A)(w.breakpoints.down("md")),z=(0,S.G)((e=>e.sharedInfo)),F=i.pathname.startsWith("/profile/recommendedCourses");return(0,C.jsx)(a.A,{sx:{display:"flex",mr:{xs:0,lg:2},my:3,width:{xs:"100%",md:"180px",lg:"220px"},height:{xs:"100%"},justifyContent:"center"},children:(0,C.jsx)(a.A,{sx:{display:"flex",flexDirection:"column",marginTop:"20px",width:{xs:"100%",md:"auto"}},children:(0,C.jsxs)(o.A,{sx:{pb:2,maxWidth:"200px",width:"100%",background:"#fff",boxShadow:"4px 4px 50px rgb(14 4 4 / 8%)",borderRadius:"30px",height:{xs:"550px",md:"600px"},"& .MuiListItem-root":{p:.5}},children:[(0,C.jsxs)(a.A,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",mb:2},children:[(0,C.jsxs)("div",{style:{position:"relative",display:"inline-block",marginBottom:"15px",marginTop:"1rem"},onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1),children:[A?(0,C.jsx)("img",{src:f.A.standardLoader,alt:"loader",style:{width:"1rem"}}):(0,C.jsx)(m.A,{src:null===(e=z.data)||void 0===e?void 0:e.displayPicSrc,alt:"profile",sx:{width:{xs:"2rem",md:"2.5rem"},height:{xs:"2rem",md:"2.5rem"},borderRadius:"50%"}}),j&&(0,C.jsx)(x.A,{"aria-label":"edit",style:{position:"absolute",top:"45%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"rgba(0, 0, 0, 0)"},children:(0,C.jsx)(D,{setLoading:b,accept:".jpg, .jpeg, .png"})})]}),(0,C.jsx)(p.A,{color:"#3B3F76",fontWeight:"500",sx:{display:{xs:"none",md:"block"}},children:null===z||void 0===z||null===(t=z.data)||void 0===t?void 0:t.firstName})]}),k.map((e=>(0,C.jsx)(s.Ay,{component:c.N_,to:e.path,sx:{textDecoration:"none",color:"#000",borderRadius:"20px"},children:(0,C.jsxs)(l.A,{selected:i.pathname===e.path,sx:{padding:"4px",color:"#3b3f76",background:"transparent!important",alignItems:"center"},children:[I?(0,C.jsx)(h.A,{title:e.name,placement:"right",children:(0,C.jsx)(v.A,{sx:{color:i.pathname===e.path&&!F||"Recommendation"===e.name&&F&&e.path.startsWith("/profile/recommendedCourses")?"#3b3f76":"#3b3f7691",minWidth:"40px",pl:1},children:e.icon})}):(0,C.jsx)(v.A,{sx:{color:i.pathname===e.path?"#3b3f76":"#3b3f7691",minWidth:"40px",pl:1},children:e.icon}),I?null:(0,C.jsx)(r.A,{primary:e.name,sx:{"& .MuiTypography-root":{fontWeight:i.pathname===e.path&&!F||"Recommendation"===e.name&&F&&e.path.startsWith("/profile/recommendedCourses")?600:400,fontSize:{xs:"13px",md:"15px"}},borderBottom:i.pathname===e.path&&!F||"Recommendation"===e.name&&F&&e.path.startsWith("/profile/recommendedCourses")?"2px solid #3b3f76":0,paddingBottom:i.pathname===e.path&&!F||"Recommendation"===e.name&&F&&e.path.startsWith("/profile/recommendedCourses")?"8px":0,marginRight:i.pathname===e.path&&!F||"Recommendation"===e.name&&F&&e.path.startsWith("/profile/recommendedCourses")?"8px":0}})]})},e.name)))]})})})};var z=i(19920),F=i(12110),N=i(79958),E=i(30279),W=i(26494),P=i(19252),R=i(21337),G=i(61807);function T(e){let{title:t,children:i,imageUrl:o}=e;const[s,l]=(0,n.useState)(!1);return(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)(F.A,{sx:[G.dY.cardCollapse,{boxShadow:s?"4px 4px 50px rgb(14 4 4 / 8%)":0}],children:[(0,C.jsx)(N.A,{onClick:()=>l(!s),sx:{...G.dY.cardTitle,color:"#000"},title:t,avatar:(0,C.jsx)(a.A,{sx:{...G.dY.cardImg},children:(0,C.jsx)(v.A,{sx:{display:"flex",justifyContent:"center",color:"#3b3f76",fontWeight:500},children:o})}),action:(0,C.jsx)(x.A,{onClick:()=>l(!s),sx:{transform:s?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s"},children:(0,C.jsx)(R.A,{})})}),(0,C.jsx)("div",{children:(0,C.jsx)(E.A,{in:s,timeout:"auto",unmountOnExit:!0,sx:G.dY.cardContent,children:(0,C.jsx)(W.A,{sx:{padding:.5},children:(0,C.jsx)(P.A,{sx:{padding:0},children:i})})})})]})})}var M=i(68903),L=i(88911),O=i(56614),B=i(8064);const q=e=>{var t,i,a,n,o;let{data:s}=e;const l=(0,S.j)(),r=(0,S.G)((e=>e.testscores)),d=e=>r.data.find((t=>t.name===e)),c=d("Graduate Record Examination"),u=d("Graduate Management Admission Test"),m=d("American College Testing"),x=d("Scholastic Assessment Test");return(0,C.jsxs)("div",{children:[(0,C.jsxs)(M.Ay,{container:!0,sx:{display:"flex",alignItems:"center",borderRadius:"8px",padding:"10px",background:"#F7FAFD",mb:2},children:[(0,C.jsx)(M.Ay,{item:!0,xs:4,children:(0,C.jsx)(p.A,{fontWeight:"500",children:"GRE"})}),(0,C.jsx)(M.Ay,{item:!0,xs:8,sx:{justifyContent:"end",display:"flex"},children:(null===c||void 0===c?void 0:c.docId)&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(p.A,{children:[(0,C.jsx)("img",{src:f.A.pdfIcon,alt:"",style:{width:"1rem"}}),null===(t=c.docId)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.FileName]}),(0,C.jsx)(L.A,{direction:"row",spacing:2,sx:{alignItems:"center",marginRight:"10px"},children:(0,C.jsx)(O.A,{sx:{fontSize:"large"},onClick:()=>{var e,t;l((0,B.DE)({show:!0,data:{container:{name:"fileViewer",data:null===(e=c.docId)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.preview_url,dimensions:{width:"500px"}},type:"custom"}}))}})})]})})]}),(0,C.jsxs)(M.Ay,{container:!0,sx:{display:"flex",alignItems:"center",borderRadius:"8px",padding:"10px",background:"#F7FAFD",mb:2},children:[(0,C.jsx)(M.Ay,{item:!0,xs:4,children:(0,C.jsx)(p.A,{fontWeight:"500",children:"GMAT"})}),(0,C.jsx)(M.Ay,{item:!0,xs:8,sx:{justifyContent:"end",display:"flex"},children:(null===u||void 0===u?void 0:u.docId)&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(p.A,{children:[(0,C.jsx)("img",{src:f.A.pdfIcon,alt:"",style:{width:"1rem"}}),null===(a=u.docId.data)||void 0===a?void 0:a.FileName]}),(0,C.jsx)(L.A,{direction:"row",spacing:2,sx:{alignItems:"center",marginRight:"10px"},children:(0,C.jsx)(O.A,{sx:{fontSize:"large"},onClick:()=>{var e,t;l((0,B.DE)({show:!0,data:{container:{name:"fileViewer",data:null===(e=u.docId)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.preview_url,dimensions:{width:"500px"}},type:"custom"}}))}})})]})})]}),(0,C.jsxs)(M.Ay,{container:!0,sx:{display:"flex",alignItems:"center",borderRadius:"8px",padding:"10px",background:"#F7FAFD",mb:2},children:[(0,C.jsx)(M.Ay,{item:!0,xs:4,children:(0,C.jsx)(p.A,{fontWeight:"500",children:"SAT"})}),(0,C.jsx)(M.Ay,{item:!0,xs:8,sx:{justifyContent:"end",display:"flex"},children:(null===x||void 0===x?void 0:x.docId)&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(p.A,{children:[(0,C.jsx)("img",{src:f.A.pdfIcon,alt:"",style:{width:"1rem"}}),null===(n=x.docId.data)||void 0===n?void 0:n.FileName]}),(0,C.jsx)(L.A,{direction:"row",spacing:2,sx:{alignItems:"center",marginRight:"10px"},children:(0,C.jsx)(O.A,{sx:{fontSize:"large"},onClick:()=>{var e,t;l((0,B.DE)({show:!0,data:{container:{name:"fileViewer",data:null===(e=x.docId)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.preview_url,dimensions:{width:"500px"}},type:"custom"}}))}})})]})})]}),(0,C.jsxs)(M.Ay,{container:!0,sx:{display:"flex",alignItems:"center",borderRadius:"8px",padding:"10px",background:"#F7FAFD",mb:2},children:[(0,C.jsx)(M.Ay,{item:!0,xs:4,children:(0,C.jsx)(p.A,{fontWeight:"500",children:"ACT"})}),(0,C.jsx)(M.Ay,{item:!0,xs:8,sx:{justifyContent:"end",display:"flex"},children:(null===m||void 0===m?void 0:m.docId)&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(p.A,{children:[(0,C.jsx)("img",{src:f.A.pdfIcon,alt:"",style:{width:"1rem"}}),null===(o=m.docId.data)||void 0===o?void 0:o.FileName]}),(0,C.jsx)(L.A,{direction:"row",spacing:2,sx:{alignItems:"center",marginRight:"10px"},children:(0,C.jsx)(O.A,{sx:{fontSize:"large"},onClick:()=>{var e,t;l((0,B.DE)({show:!0,data:{container:{name:"fileViewer",data:null===(e=m.docId)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.preview_url,dimensions:{width:"500px"}},type:"custom"}}))}})})]})})]})]})},Y=e=>{var t,i,a,n;let{data:o}=e;const s=(0,S.G)((e=>e.testscores)),l=(0,S.j)(),r=e=>s.data.find((t=>t.name===e)),d=r("Test of English as a Foreign Language"),c=r("International English Language Testing System"),u=r("Duolingo English Test"),m=r("Pearson Test of English");return(0,C.jsxs)("div",{children:[(0,C.jsxs)(M.Ay,{container:!0,sx:{display:"flex",alignItems:"center",borderRadius:"8px",padding:"10px",background:"#F7FAFD",mb:2},children:[(0,C.jsx)(M.Ay,{item:!0,xs:4,children:(0,C.jsx)(p.A,{fontWeight:"500",children:"TOEFL"})}),(0,C.jsx)(M.Ay,{item:!0,xs:8,sx:{justifyContent:"end",display:"flex"},children:(null===d||void 0===d?void 0:d.docId)&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(p.A,{children:[(0,C.jsx)("img",{src:f.A.pdfIcon,alt:"",style:{width:"1rem"}}),null===(t=d.docId.data)||void 0===t?void 0:t.FileName]}),(0,C.jsx)(L.A,{direction:"row",spacing:2,sx:{alignItems:"center",marginRight:"10px"},children:(0,C.jsx)(O.A,{sx:{fontSize:"large"},onClick:()=>{var e,t;l((0,B.DE)({show:!0,data:{container:{name:"fileViewer",data:null===(e=d.docId)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.preview_url,dimensions:{width:"500px"}},type:"custom"}}))}})})]})})]}),(0,C.jsxs)(M.Ay,{container:!0,sx:{display:"flex",alignItems:"center",borderRadius:"8px",padding:"10px",background:"#F7FAFD",mb:2},children:[(0,C.jsx)(M.Ay,{item:!0,xs:4,children:(0,C.jsx)(p.A,{fontWeight:"500",children:"IELTS"})}),(0,C.jsx)(M.Ay,{item:!0,xs:8,sx:{justifyContent:"end",display:"flex"},children:(null===c||void 0===c?void 0:c.docId)&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(p.A,{children:[(0,C.jsx)("img",{src:f.A.pdfIcon,alt:"",style:{width:"1rem"}}),null===(i=c.docId.data)||void 0===i?void 0:i.FileName]}),(0,C.jsx)(L.A,{direction:"row",spacing:2,sx:{alignItems:"center",marginRight:"10px"},children:(0,C.jsx)(O.A,{sx:{fontSize:"large"},onClick:()=>{var e,t;l((0,B.DE)({show:!0,data:{container:{name:"fileViewer",data:null===(e=c.docId)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.preview_url,dimensions:{width:"500px"}},type:"custom"}}))}})})]})})]}),(0,C.jsxs)(M.Ay,{container:!0,sx:{display:"flex",alignItems:"center",borderRadius:"8px",padding:"10px",background:"#F7FAFD",mb:2},children:[(0,C.jsx)(M.Ay,{item:!0,xs:4,children:(0,C.jsx)(p.A,{fontWeight:"500",children:"DET"})}),(0,C.jsx)(M.Ay,{item:!0,xs:8,sx:{justifyContent:"end",display:"flex"},children:(null===u||void 0===u?void 0:u.docId)&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(p.A,{children:[(0,C.jsx)("img",{src:f.A.pdfIcon,alt:"",style:{width:"1rem"}}),null===(a=u.docId.data)||void 0===a?void 0:a.FileName]}),(0,C.jsx)(L.A,{direction:"row",spacing:2,sx:{alignItems:"center",marginRight:"10px"},children:(0,C.jsx)(O.A,{sx:{fontSize:"large"},onClick:()=>{var e,t;l((0,B.DE)({show:!0,data:{container:{name:"fileViewer",data:null===(e=u.docId)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.preview_url,dimensions:{width:"500px"}},type:"custom"}}))}})})]})})]}),(0,C.jsxs)(M.Ay,{container:!0,sx:{display:"flex",alignItems:"center",borderRadius:"8px",padding:"10px",background:"#F7FAFD",mb:2},children:[(0,C.jsx)(M.Ay,{item:!0,xs:4,children:(0,C.jsx)(p.A,{fontWeight:"500",children:"PTE"})}),(0,C.jsx)(M.Ay,{item:!0,xs:8,sx:{justifyContent:"end",display:"flex"},children:(null===m||void 0===m?void 0:m.docId)&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(p.A,{children:[(0,C.jsx)("img",{src:f.A.pdfIcon,alt:"",style:{width:"1rem"}}),null===(n=m.docId.data)||void 0===n?void 0:n.FileName]}),(0,C.jsx)(L.A,{direction:"row",spacing:2,sx:{alignItems:"center",marginRight:"10px"},children:(0,C.jsx)(O.A,{sx:{fontSize:"large"},onClick:()=>{var e,t;l((0,B.DE)({show:!0,data:{container:{name:"fileViewer",data:null===(e=m.docId)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.preview_url,dimensions:{width:"500px"}},type:"custom"}}))}})})]})})]})]})},_=e=>{let{data:t}=e;const i=(0,S.j)(),a=e=>{var t;let{doc:a,handleDelete:n}=e;return(0,C.jsxs)(M.Ay,{container:!0,sx:{display:"flex",alignItems:"center",borderRadius:"8px",padding:"10px",background:"#F7FAFD",mb:2},children:[(0,C.jsx)(M.Ay,{item:!0,xs:4,children:(0,C.jsx)(p.A,{fontWeight:"500",children:null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.originalname})}),(0,C.jsx)(M.Ay,{item:!0,xs:8,sx:{justifyContent:"end",display:"flex"},children:(0,C.jsx)(L.A,{direction:"row",spacing:2,sx:{alignItems:"center",marginRight:"10px"},children:(0,C.jsx)(O.A,{sx:{fontSize:"large"},onClick:()=>{var e;i((0,B.DE)({show:!0,data:{container:{name:"fileViewer",data:null===a||void 0===a||null===(e=a.data)||void 0===e?void 0:e.preview_url,dimensions:{width:"500px"}},type:"custom"}}))}})})})]})};return(0,C.jsx)("div",{children:(null===t||void 0===t?void 0:t.length)>0?null===t||void 0===t?void 0:t.map((e=>(0,C.jsx)(a,{doc:e},e._id))):(0,C.jsx)(p.A,{children:"No data available"})})},V=()=>{var e,t,i,n,o;const s=(0,S.G)((e=>e.documents)),l=[{title:"Aptitude Test Marksheet",image:(0,C.jsx)("div",{children:(0,C.jsx)(p.A,{sx:{position:"relative",width:"1.5rem",height:"1.5rem",borderRadius:"50%",background:"#E07C7C"},children:(0,C.jsx)(p.A,{color:"#3b3f76",sx:{position:"absolute",top:"-4px",left:"14px",width:"200px"},fontWeight:"500",fontSize:"1.1rem",children:"1"})})}),component:(0,C.jsx)(q,{data:null===s||void 0===s||null===(e=s.data)||void 0===e||null===(t=e.test)||void 0===t?void 0:t.general})},{title:"English Proficiency Test Scores report",image:(0,C.jsx)("div",{children:(0,C.jsx)(p.A,{sx:{position:"relative",width:"1.5rem",height:"1.5rem",borderRadius:"50%",background:"#9CFFF9"},children:(0,C.jsx)(p.A,{color:"#3b3f76",sx:{position:"absolute",top:"-4px",left:"14px",width:"200px"},fontWeight:"500",fontSize:"1.1rem",children:"2"})})}),component:(0,C.jsx)(Y,{data:null===s||void 0===s||null===(i=s.data)||void 0===i||null===(n=i.test)||void 0===n?void 0:n.languageProf})},{title:"Work Experience",image:(0,C.jsx)("div",{children:(0,C.jsx)(p.A,{sx:{position:"relative",width:"1.5rem",height:"1.5rem",borderRadius:"50%",background:"#FFD8D3"},children:(0,C.jsx)(p.A,{color:"#3b3f76",sx:{position:"absolute",top:"-4px",left:"14px",width:"200px"},fontWeight:"500",fontSize:"1.1rem",children:"3"})})}),component:(0,C.jsx)(_,{data:null===s||void 0===s||null===(o=s.data)||void 0===o?void 0:o.workExperiences})}];return(0,C.jsx)(a.A,{children:null===l||void 0===l?void 0:l.map((e=>(0,C.jsx)(T,{title:e.title,imageUrl:e.image,children:e.component})))})};var K=i(11906),U=i(7109),H=i(85473);function Q(e){let{title:t,children:i}=e;const[a,o]=(0,n.useState)(!1);return(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)(F.A,{sx:[G.dY.cardCollapse,{boxShadow:0,p:0}],children:[(0,C.jsx)(N.A,{onClick:()=>o(!a),sx:{...G.dY.cardTitle,"&.MuiCardHeader-root":{padding:"8px !important"},color:"#000",".MuiTypography-root":{fontSize:"1rem",fontWeight:500},background:"#F7FAFD"},title:t,action:(0,C.jsx)(x.A,{onClick:()=>o(!a),"aria-label":"expand",size:"small",sx:{marginRight:"20px"},children:a?(0,C.jsx)(H.A,{}):(0,C.jsx)(R.A,{})})}),(0,C.jsx)("div",{children:(0,C.jsx)(E.A,{in:a,timeout:"auto",unmountOnExit:!0,sx:{"& .MuiCardContent-root":{paddingTop:"16px !important",p:0}},children:(0,C.jsx)(W.A,{sx:{boxShadow:3},children:i})})})]})})}var J=i(12200),Z=i(64625),X=i(37179),$=i(86651);const ee=e=>{let{data:t}=e;const i={secondarySchool:(0,n.useRef)(null),plus2:(0,n.useRef)(null),degree:(0,n.useRef)(null)},[a,o]=(0,n.useState)(!1),[s,l]=(0,n.useState)(null),[r,d]=(0,n.useState)(null),[c,u]=(0,n.useState)({}),m=(0,S.j)(),x=async(e,t,i)=>{u((e=>({...e,[i]:!0}))),await h(e,t,i),u((e=>({...e,[i]:!1})))},h=async(e,t,i)=>{const a=e.target.files&&e.target.files[0];if(a&&Z.OD.includes(a.type))try{if(t&&null!==a&&void 0!==a){const e=new FormData;e.append("uploaded_file",a),e.append("fieldPath",t),e.append("fileIdentifier",i);const n=await(0,A.Lb)(e);n&&(m((0,J.FT)(n.data.data.docs)),m((0,B.DE)({show:!0,data:{container:{name:"success",data:"Document added successfully",dimensions:{width:"30%",height:"40%",show:"none"}},type:"custom"}})))}}catch(n){}else m((0,B.DE)({show:!0,data:{container:{name:"error",data:"Only jpeg , png , pdf files are accepted",dimensions:{width:"250px",show:"none"}},type:"custom"}}))},v=async(e,t)=>{const i=await(0,A.aW)({fieldPath:e,documentId:t});i&&m((0,J.FT)(i.data.data))},g=[{key:"transcripts",label:"Transcripts"},{key:"bonafide",label:"Bonafide"},{key:"CMM",label:"CMM"},{key:"PCM",label:"PCM"},{key:"OD",label:"OD"}],j=()=>{const e=(0,S.j)(),i={transcripts:(0,n.useRef)(null),bonafide:(0,n.useRef)(null),CMM:(0,n.useRef)(null),PCM:(0,n.useRef)(null),OD:(0,n.useRef)(null)},[a,o]=(0,n.useState)({}),[s,l]=(0,n.useState)(!1),[r,d]=(0,n.useState)(null),[c,u]=(0,n.useState)(null),m=async(e,t,i)=>{o((e=>({...e,[i]:!0}))),await h(e,t,i),o((e=>({...e,[i]:!1})))},x=t=>{var i,n;let{doc:o,data:s,handleSubmit:r,handleDelete:c,inputFileRefs:x}=t;return(0,C.jsxs)(M.Ay,{container:!0,sx:{display:"flex",alignItems:"center",borderRadius:"8px",padding:"10px",background:"#F7FAFD",mb:2},children:[(0,C.jsx)(M.Ay,{item:!0,xs:4,children:(0,C.jsx)(p.A,{fontWeight:"500",children:o.label})}),(0,C.jsx)(M.Ay,{item:!0,xs:8,sx:{justifyContent:"end",display:"flex"},children:s&&s[o.key]?(0,C.jsxs)(L.A,{direction:"row",spacing:2,sx:{alignItems:"center",marginRight:"10px"},children:[(0,C.jsx)(p.A,{children:null===(i=s[o.key])||void 0===i||null===(n=i.data)||void 0===n?void 0:n.FileName}),(0,C.jsx)(O.A,{sx:{fontSize:"large"},onClick:()=>{var t,i;e((0,B.DE)({show:!0,data:{container:{name:"fileViewer",data:null===(t=s[o.key])||void 0===t||null===(i=t.data)||void 0===i?void 0:i.preview_url,dimensions:{width:"500px"}},type:"custom"}}))}}),(0,C.jsx)(X.A,{sx:{fontSize:"large"},onClick:()=>{return e="academic.bachelors.".concat(o.key),t=s[o.key]._id,l(!0),d(t),void u(e);var e,t}})]}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("input",{style:{display:"none"},type:"file",onChange:e=>m(e,"academic.bachelors.".concat(o.key),o.key),ref:x[o.key],accept:".pdf,.png,.jpeg"}),a[o.key]?(0,C.jsx)("img",{src:f.A.standardLoader,alt:"load",style:{width:"20px",height:"20px",marginRight:"10px"}}):(0,C.jsx)(K.A,{sx:{color:"#000",textTransform:"none",p:0,fontSize:"0.7rem"},onClick:()=>{var e;return null===(e=x[o.key].current)||void 0===e?void 0:e.click()},children:(0,C.jsx)(U.A,{})})]})})]})};return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(Q,{title:"Bachelors",children:(0,C.jsx)(C.Fragment,{children:g.map((e=>(0,C.jsx)(x,{doc:e,data:t.bachelors,handleSubmit:h,handleDelete:v,inputFileRefs:i},e.key)))})}),(0,C.jsx)($.A,{open:s,handleClose:()=>l(!1),additionalData:{onSubmit:()=>v(c,r),title:"Are you sure you want to delete?",content:""}})]})},y=()=>{const e=(0,S.j)(),i={transcripts:(0,n.useRef)(null),bonafide:(0,n.useRef)(null),CMM:(0,n.useRef)(null),PCM:(0,n.useRef)(null),OD:(0,n.useRef)(null)},[a,o]=(0,n.useState)({}),[s,l]=(0,n.useState)(!1),[r,d]=(0,n.useState)(null),[c,u]=(0,n.useState)(null),m=async(e,t,i)=>{o((e=>({...e,[i]:!0}))),await h(e,t,i),o((e=>({...e,[i]:!1})))},x=t=>{var i,n;let{doc:o,data:s,handleSubmit:r,handleDelete:c,inputFileRefs:x}=t;return(0,C.jsxs)(M.Ay,{container:!0,sx:{display:"flex",alignItems:"center",borderRadius:"8px",padding:"10px",background:"#F7FAFD",mb:2},children:[(0,C.jsx)(M.Ay,{item:!0,xs:4,children:(0,C.jsx)(p.A,{fontWeight:"500",children:o.label})}),(0,C.jsx)(M.Ay,{item:!0,xs:8,sx:{justifyContent:"end",display:"flex"},children:s&&s[o.key]?(0,C.jsxs)(L.A,{direction:"row",spacing:2,sx:{alignItems:"center",marginRight:"10px"},children:[(0,C.jsx)(p.A,{children:null===(i=s[o.key])||void 0===i||null===(n=i.data)||void 0===n?void 0:n.FileName}),(0,C.jsx)(O.A,{sx:{fontSize:"large"},onClick:()=>{var t,i;e((0,B.DE)({show:!0,data:{container:{name:"fileViewer",data:null===(t=s[o.key])||void 0===t||null===(i=t.data)||void 0===i?void 0:i.preview_url,dimensions:{width:"500px"}},type:"custom"}}))}}),(0,C.jsx)(X.A,{sx:{fontSize:"large"},onClick:()=>{return e="academic.masters.".concat(o.key),t=s[o.key]._id,l(!0),d(t),void u(e);var e,t}})]}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("input",{style:{display:"none"},type:"file",onChange:e=>m(e,"academic.masters.".concat(o.key),o.key),ref:x[o.key],accept:".pdf,.png,.jpeg"}),a[o.key]?(0,C.jsx)("img",{src:f.A.standardLoader,alt:"load",style:{width:"20px",height:"20px",marginRight:"10px"}}):(0,C.jsx)(K.A,{sx:{color:"#000",textTransform:"none",p:0,fontSize:"0.7rem"},onClick:()=>{var e;return null===(e=x[o.key].current)||void 0===e?void 0:e.click()},children:(0,C.jsx)(U.A,{})})]})})]})};return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(Q,{title:"Masters",children:(0,C.jsx)(C.Fragment,{children:g.map((e=>(0,C.jsx)(x,{doc:e,data:t.masters,handleSubmit:h,handleDelete:v,inputFileRefs:i},e.key)))})}),(0,C.jsx)($.A,{open:s,handleClose:()=>l(!1),additionalData:{onSubmit:()=>v(c,r),title:"Are you sure you want to delete?",content:""}})]})},b=e=>{var t;let{doc:i,data:a,inputFileRef:n,handleSubmit:s,handleDelete:r}=e;return(0,C.jsxs)(M.Ay,{container:!0,sx:{display:"flex",alignItems:"center",borderRadius:"8px",padding:"10px",background:"#F7FAFD",mb:2},children:[(0,C.jsx)(M.Ay,{item:!0,xs:4,children:(0,C.jsx)(p.A,{fontWeight:"500",children:i.label})}),(0,C.jsx)(M.Ay,{item:!0,xs:8,sx:{justifyContent:"end",display:"flex"},children:a&&a[i.key]?(0,C.jsxs)(L.A,{direction:"row",spacing:2,sx:{alignItems:"center",marginRight:"10px"},children:[(0,C.jsx)(p.A,{children:null===(t=a[i.key].data)||void 0===t?void 0:t.FileName}),(0,C.jsx)(O.A,{sx:{fontSize:"large"},onClick:()=>{var e,t;m((0,B.DE)({show:!0,data:{container:{name:"fileViewer",data:null===(e=a[i.key])||void 0===e||null===(t=e.data)||void 0===t?void 0:t.preview_url,dimensions:{width:"500px"}},type:"custom"}}))}}),(0,C.jsx)(X.A,{sx:{fontSize:"large"},onClick:()=>{return e="academic.".concat(i.key),t=a[i.key]._id,o(!0),l(t),void d(e);var e,t}})]}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("input",{style:{display:"none"},type:"file",onChange:e=>x(e,"academic.".concat(i.key),i.key),ref:n,accept:".jpeg,.png,.pdf"}),c[i.key]?(0,C.jsx)("img",{src:f.A.standardLoader,alt:"load",style:{width:"20px",height:"20px",marginRight:"10px"}}):(0,C.jsx)(K.A,{sx:{color:"#000",textTransform:"none",p:0,fontSize:"0.7rem"},onClick:()=>{var e;return null===(e=n.current)||void 0===e?void 0:e.click()},children:(0,C.jsx)(U.A,{})})]})})]})};return(0,C.jsxs)("div",{children:[(0,C.jsxs)(p.A,{textAlign:"right",children:[(0,C.jsx)("b",{children:"Note:"})," Only jpeg , png , pdf files are accepted"]}),(0,C.jsx)(y,{}),(0,C.jsx)(j,{}),(0,C.jsx)(C.Fragment,{children:[{key:"secondarySchool",label:"School"},{key:"plus2",label:"Grade 12"},{key:"degree",label:"Degree"}].map((e=>(0,C.jsx)(b,{doc:e,data:t,inputFileRef:i[e.key],handleSubmit:h,handleDelete:v},e.key)))}),(0,C.jsx)($.A,{open:a,handleClose:()=>o(!1),additionalData:{onSubmit:()=>v(r,s),title:"Are you sure you want to delete?",content:""}})]})},te=e=>{var t,i;let{doc:a,data:o,inputFileRef:s,handleSubmit:l,handleDelete:r}=e;const[d,c]=(0,n.useState)(!1),[u,m]=(0,n.useState)(null),[x,h]=(0,n.useState)(null),[v,g]=(0,n.useState)(!1),j=(0,S.j)();return(0,C.jsxs)(M.Ay,{container:!0,sx:{display:"flex",alignItems:"center",borderRadius:"8px",padding:"10px",background:"#F7FAFD",mb:2},children:[(0,C.jsx)(M.Ay,{item:!0,xs:4,children:(0,C.jsx)(p.A,{fontWeight:"500",children:a.label})}),(0,C.jsx)(M.Ay,{item:!0,xs:8,sx:{justifyContent:"end",display:"flex"},children:o&&o[a.key]?(0,C.jsxs)(L.A,{direction:"row",spacing:2,sx:{alignItems:"center",marginRight:"10px"},children:[(0,C.jsx)(p.A,{children:null===(t=o[a.key])||void 0===t||null===(i=t.data)||void 0===i?void 0:i.FileName}),(0,C.jsx)(O.A,{sx:{fontSize:"large"},onClick:()=>{var e,t;j((0,B.DE)({show:!0,data:{container:{name:"fileViewer",data:null===(e=o[a.key])||void 0===e||null===(t=e.data)||void 0===t?void 0:t.preview_url,dimensions:{width:"500px"}},type:"custom"}}))}}),(0,C.jsx)(X.A,{sx:{fontSize:"large"},onClick:()=>{return e="personal.".concat(a.key),t=o[a.key]._id,c(!0),m(t),void h(e);var e,t}})]}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("input",{style:{display:"none"},type:"file",onChange:e=>(async(e,t,i)=>{g(!0),await l(e,t,i),g(!1)})(e,"personal.".concat(a.key),a.label),ref:s,accept:".jpeg,.png,.pdf"}),v?(0,C.jsx)("img",{src:f.A.standardLoader,alt:"load",style:{width:"20px",height:"20px",marginRight:"10px"}}):(0,C.jsx)(K.A,{sx:{color:"#000",textTransform:"none",p:0,fontSize:"0.7rem"},onClick:()=>{var e;return null===(e=s.current)||void 0===e?void 0:e.click()},children:(0,C.jsx)(U.A,{})})]})}),(0,C.jsx)($.A,{open:d,handleClose:()=>c(!1),additionalData:{onSubmit:()=>r(x,u),title:"Are you sure you want to delete?",content:""}})]})},ie=e=>{let{data:t}=e;const i=(0,S.j)(),a={resume:(0,n.useRef)(null),passportBD:(0,n.useRef)(null),passportADD:(0,n.useRef)(null)},o=async(e,t,a)=>{const n=e.target.files&&e.target.files[0];if(n&&Z.OD.includes(n.type))try{const e=new FormData;e.append("uploaded_file",n),e.append("fieldPath",t),e.append("fileIdentifier",a);const o=await(0,A.Lb)(e);o&&(i((0,J.FT)(o.data.data.docs)),i((0,B.DE)({show:!0,data:{container:{name:"success",data:"Document added successfully",dimensions:{width:"30%",height:"40%",show:"none"}},type:"custom"}})))}catch(o){console.error("Upload failed",o)}else i((0,B.DE)({show:!0,data:{container:{name:"error",data:"Only jpeg, png, pdf files are accepted",dimensions:{width:"250px",show:"none"}},type:"custom"}}))},s=async(e,t)=>{try{const a=await(0,A.aW)({fieldPath:e,documentId:t});a&&i((0,J.FT)(a.data.data))}catch(a){console.error("Delete failed",a)}};return(0,C.jsxs)("div",{children:[(0,C.jsxs)(p.A,{textAlign:"right",children:[(0,C.jsx)("b",{children:"Note:"})," Only jpeg, png, pdf files are accepted"]}),[{key:"resume",label:"Resume"},{key:"passportBD",label:"Passport Photo Page"},{key:"passportADD",label:"Passport Address Page"}].map((e=>(0,C.jsx)(te,{doc:e,data:t,inputFileRef:a[e.key],handleSubmit:o,handleDelete:s},e.key)))]})},ae=()=>{var e,t;const i=(0,S.G)((e=>e.documents)),n=[{title:"Personal Documents",image:(0,C.jsx)("div",{children:(0,C.jsx)(p.A,{sx:{position:"relative",width:"1.5rem",height:"1.5rem",borderRadius:"50%",background:"#E07C7C"},children:(0,C.jsx)(p.A,{color:"#3b3f76",sx:{position:"absolute",top:"-4px",left:"14px",width:"200px"},fontWeight:"500",fontSize:"1.1rem",children:"1"})})}),component:(0,C.jsx)(ie,{data:null===i||void 0===i||null===(e=i.data)||void 0===e?void 0:e.personal})},{title:"Academic Documents",image:(0,C.jsx)(p.A,{sx:{position:"relative",width:"1.5rem",height:"1.5rem",borderRadius:"50%",background:"#9CFFF9"},children:(0,C.jsx)(p.A,{color:"#3b3f76",sx:{position:"absolute",top:"-4px",left:"14px",width:"200px"},fontWeight:"500",fontSize:"1.1rem",children:"2"})}),component:(0,C.jsx)(ee,{data:null===i||void 0===i||null===(t=i.data)||void 0===t?void 0:t.academic})}];return(0,C.jsx)(a.A,{children:null===n||void 0===n?void 0:n.map((e=>(0,C.jsx)(T,{title:e.title,imageUrl:e.image,children:e.component},e)))})},ne=()=>{const e=[{label:"Transcript Documents ",Component:(0,C.jsx)("div",{children:(0,C.jsx)(ae,{})})},{label:"Other Documents",Component:(0,C.jsx)("div",{children:(0,C.jsx)(V,{})})}];return(0,C.jsx)(a.A,{sx:{},children:(0,C.jsx)(z.A,{tabs:e})})};var oe=i(43453),se=i(3329),le=i(56276),re=i(51688);const de=()=>{var e,t;const i=(0,S.G)((e=>e.shortlistedcourses)),[o,s]=(0,n.useState)(!1),[l,r]=(0,n.useState)(""),d=(0,S.G)((e=>e.userAuthStatus)),c=(0,S.j)();return(0,C.jsxs)("div",{children:[(0,C.jsx)(M.Ay,{container:!0,spacing:3,sx:{overflowY:"scroll"},children:i.data&&(null===i||void 0===i||null===(e=i.data)||void 0===e?void 0:e.length)>0?(0,C.jsx)(C.Fragment,{children:null===(t=i.data)||void 0===t?void 0:t.map(((e,t)=>{var i,n,o,l;return(0,C.jsx)(M.Ay,{item:!0,xs:12,sm:6,lg:4,sx:{paddingLeft:{xs:0,md:"1rem"}},children:(0,C.jsxs)(oe.A,{title:null===e||void 0===e||null===(i=e.university)||void 0===i||null===(n=i.location)||void 0===n?void 0:n.country,i:t,children:[(0,C.jsx)(a.A,{onClick:()=>{c((0,B.DE)({show:!0,data:{container:{name:"mainPopup",data:e,dimensions:{width:"80%"}},type:"custom"}}))},children:(0,C.jsxs)(a.A,{sx:{display:"flex",gap:"10px"},children:[(0,C.jsx)("img",{src:e.university.logoSrc,alt:"logo",style:{width:"1.5rem",height:"1.5rem",borderRadius:"10px"}}),(0,C.jsxs)("div",{style:{flex:1},children:[(0,C.jsx)(p.A,{fontSize:"0.9rem",sx:{fontSize:{xs:"13px",lg:"14px"},fontWeight:500,textOverflow:"ellipsis ",lineClamp:1,height:"1.5rem",textTransform:"capitalize",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:"1",WebkitBoxOrient:"vertical",mb:1},children:null===e||void 0===e||null===(o=e.university)||void 0===o?void 0:o.name}),(0,C.jsx)(h.A,{slotProps:{tooltip:{sx:{color:"#fff",backgroundColor:"#3B3F76",boxShadow:1,"&.MuiTooltip-tooltip":{marginTop:"-5px !important"}}}},title:e.name,placement:"bottom",children:(0,C.jsx)(p.A,{fontSize:"0.9rem",sx:{fontSize:{xs:"13px",lg:"14px"},fontWeight:500,textOverflow:"ellipsis ",lineClamp:1,height:"1.5rem",textTransform:"capitalize",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:"1",WebkitBoxOrient:"vertical"},children:e.name})}),(0,C.jsxs)(p.A,{component:"span",fontSize:"0.8rem",fontWeight:"500",sx:{display:"flex",alignItems:"center",whiteSpace:"nowrap",mt:1},children:[(0,C.jsx)(le.A,{sx:{fontSize:"1.25rem"}}),"\xa0 Start date :",null===e||void 0===e||null===(l=e.startDate)||void 0===l?void 0:l.map(((e,t)=>Z.dF[null===e||void 0===e?void 0:e.courseStartingMonth])).join(", ")]})]})]})}),(0,C.jsxs)(M.Ay,{container:!0,spacing:2,children:[(0,C.jsx)(M.Ay,{item:!0,xs:10.5,sx:{display:"flex",justifyContent:"end",alignItems:"center"},children:(0,C.jsx)(a.A,{sx:{border:"1px solid #1C1F40",borderRadius:"50%",width:"2rem",height:"2rem",display:"flex",justifyContent:"center",alignItems:"center"},onClick:()=>(async e=>{if("cart"===e.name)try{var t,i;null!==d&&void 0!==d&&null!==(t=d.data)&&void 0!==t&&t.isAuthorized&&null!==d&&void 0!==d&&null!==(i=d.data)&&void 0!==i&&i.isRegistered?c((0,B.DE)({show:!0,data:{container:{name:"applynow",data:e.data,dimensions:{width:"450px"}},type:"custom"}})):c((0,B.DE)({show:!0,data:{container:{name:"login",dimensions:{width:"800px",height:"70%",show:"none"}},type:"custom"}}))}catch(a){}})({name:"cart",data:e}),children:(0,C.jsx)(re.A,{sx:{fontSize:"1.25rem",color:"#1C1F40"}})})}),(0,C.jsx)(M.Ay,{item:!0,xs:1.5,children:(0,C.jsx)(a.A,{component:"img",src:f.A.deleteIcon,alt:"icon",sx:{width:"2rem",height:"2rem"},onClick:()=>{return t=e._id,s(!0),void r(t);var t}})})]})]})},t)}))}):(0,C.jsxs)(M.Ay,{item:!0,xs:12,sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px",flexDirection:"column"},children:[(0,C.jsx)("img",{src:f.A.noData,alt:"noData",style:{width:"70px",height:"70px"}}),(0,C.jsx)(p.A,{children:"No wishlisted courses"})]})}),(0,C.jsx)($.A,{open:o,handleClose:()=>s(!1),additionalData:{onSubmit:async()=>{const e={action:"pull",courseId:l},t=await(0,A.ZK)(e);t.data.success&&c((0,se.u$)(t.data.data)),s(!1)},title:"Are you sure you want to delete this from your shortlist?",content:"You\u2019re just a few steps away from applying to universities."}})]})},ce=()=>(0,C.jsx)(a.A,{sx:{p:2},children:(0,C.jsx)(de,{})});var ue=i(74354),me=i(79186),xe=i(98348);const pe=()=>{var e,t;const i=(0,S.G)((e=>e.meetings)),o=(0,S.j)(),[s,l]=n.useState(!1),[r,d]=(0,n.useState)(),c=e=>{window.open(e,"_blank")},u=e=>{l(!0),d(e)},x=null===(e=i.data)||void 0===e?void 0:e.filter((e=>{var t;const i=new Date(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.start.dateTime),a=new Date;return"upcoming"===e.status&&i>a})),v=null===(t=i.data)||void 0===t?void 0:t.filter((e=>{var t;const i=new Date(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.start.dateTime),a=new Date;return"rescheduled"===e.status&&i>a})),g=(null===x||void 0===x?void 0:x.length)>0||(null===v||void 0===v?void 0:v.length)>0;return(0,C.jsxs)("div",{children:[(0,C.jsx)(M.Ay,{container:!0,spacing:2,sx:{mt:1,p:1,overflowY:"scroll"},children:g?(0,C.jsxs)(C.Fragment,{children:[null===x||void 0===x?void 0:x.map(((e,t)=>{var i,n,s,l,r,d,x,v;const g=new Date(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.start.dateTime),f=new Date(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.end.dateTime),j=new Date,y=j>=g&&j<=f;return(0,C.jsx)(M.Ay,{item:!0,xs:12,sx:{display:"flex",position:"relative",background:"#F8F8FC",my:1,borderRadius:"10px",height:"100px"},children:(0,C.jsxs)(M.Ay,{container:!0,spacing:2,children:[(0,C.jsxs)(M.Ay,{item:!0,xs:4,sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,C.jsxs)(a.A,{sx:{position:"absolute",top:"-15px",display:"flex",gap:"1rem",left:0},children:[(0,C.jsx)(m.A,{src:null===e||void 0===e?void 0:e.member.displayPicSrc,alt:"logo",style:{width:"2rem",height:"2rem",borderRadius:"50%",marginLeft:"0.8rem"}}),(0,C.jsx)(p.A,{fontWeight:"500",sx:{background:"#fff",p:1,borderRadius:"10px",fontSize:"14px",color:"#3B3F76"},children:null!==e&&void 0!==e&&null!==(s=e.member)&&void 0!==s&&s.role?(0,ue.Tl)(null===e||void 0===e||null===(l=e.member)||void 0===l?void 0:l.role):(0,ue.Tl)(null===e||void 0===e||null===(r=e.member)||void 0===r?void 0:r.role)})]}),(0,C.jsx)(p.A,{sx:{mt:-2},children:(0,ue.r0)(null===e||void 0===e?void 0:e.member.firstName)})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:8,sx:{mt:1,position:"relative"},children:[(0,C.jsx)(K.A,{onClick:()=>c(null===e||void 0===e?void 0:e.data.hangoutLink),disabled:!y,sx:{border:"1px solid #027A48",textTransform:"none",color:"#000",fontSize:"11px",p:0,position:"absolute",top:"0",right:"10px"},children:"Join now"}),(0,C.jsxs)(a.A,{sx:{display:"flex",mt:2},children:[(0,C.jsx)(p.A,{fontSize:"14px",gutterBottom:!0,sx:{mb:1},children:new Date(null===e||void 0===e||null===(d=e.data)||void 0===d?void 0:d.start.dateTime).toLocaleString("en-GB",{month:"long",year:"numeric",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0})}),(0,C.jsx)(h.A,{slotProps:{tooltip:{sx:{color:"#514E6A",backgroundColor:"#ffff",boxShadow:2,cursor:"pointer"}}},title:null!==e&&void 0!==e&&null!==(x=e.data)&&void 0!==x&&x.description?null===e||void 0===e||null===(v=e.data)||void 0===v?void 0:v.description:"N/A",placement:"top-start",children:(0,C.jsx)(xe.A,{sx:{color:"#3B3F76",ml:1,cursor:"pointer",fontSize:"1rem",float:"right"}})})]}),(0,C.jsxs)(p.A,{fontWeight:"500",sx:{background:"#fff",p:.5,borderRadius:"10px",fontSize:"14px",color:"#3B3F76",width:"fit-content",position:"absolute",bottom:"-15px",right:"10px"},children:[(0,C.jsx)("span",{onClick:()=>o((0,B.DE)({show:!0,data:{container:{name:"reschedule",data:e,dimensions:{width:"800px"}},type:"custom"}})),style:{cursor:"pointer"},children:"Reschedule"})," ","/",(0,C.jsx)("span",{onClick:()=>u(null===e||void 0===e?void 0:e._id),style:{cursor:"pointer"},children:"Cancel"})]})]})]})},t)})),null===v||void 0===v?void 0:v.map(((e,t)=>{var i,n,s,l,r,d,x,v;const g=new Date(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.start.dateTime),f=new Date(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.end.dateTime),j=new Date,y=j>=g&&j<=f;return(0,C.jsx)(M.Ay,{item:!0,xs:12,sx:{display:"flex",position:"relative",background:"#F8F8FC",my:1,borderRadius:"10px",height:"100px"},children:(0,C.jsxs)(M.Ay,{container:!0,spacing:2,children:[(0,C.jsxs)(M.Ay,{item:!0,xs:4,sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,C.jsxs)(a.A,{sx:{position:"absolute",top:"-15px",display:"flex",gap:"1rem",left:0},children:[(0,C.jsx)(m.A,{src:null===e||void 0===e?void 0:e.member.displayPicSrc,alt:"logo",style:{width:"2rem",height:"2rem",borderRadius:"50%",marginLeft:"0.8rem"}}),(0,C.jsx)(p.A,{fontWeight:"500",sx:{background:"#fff",p:1,borderRadius:"10px",fontSize:"14px",color:"#3B3F76"},children:null!==e&&void 0!==e&&null!==(s=e.member)&&void 0!==s&&s.role?(0,ue.Tl)(null===e||void 0===e||null===(l=e.member)||void 0===l?void 0:l.role):(0,ue.Tl)(null===e||void 0===e||null===(r=e.member)||void 0===r?void 0:r.role)})]}),(0,C.jsx)(p.A,{sx:{mt:-2},children:(0,ue.r0)(null===e||void 0===e?void 0:e.member.firstName)})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:8,sx:{mt:1,position:"relative"},children:[(0,C.jsx)(K.A,{onClick:()=>c(null===e||void 0===e?void 0:e.data.hangoutLink),disabled:!y,sx:{border:"1px solid #027A48",textTransform:"none",color:"#000",fontSize:"11px",p:0,position:"absolute",top:"0",right:"10px"},children:"Join now"}),(0,C.jsxs)(a.A,{sx:{display:"flex",mt:2},children:[(0,C.jsx)(p.A,{fontSize:"14px",gutterBottom:!0,sx:{mb:1},children:new Date(null===e||void 0===e||null===(d=e.data)||void 0===d?void 0:d.start.dateTime).toLocaleString("en-GB",{month:"long",year:"numeric",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0})}),(0,C.jsx)(h.A,{slotProps:{tooltip:{sx:{color:"#514E6A",backgroundColor:"#ffff",boxShadow:2,cursor:"pointer"}}},title:null!==e&&void 0!==e&&null!==(x=e.data)&&void 0!==x&&x.description?null===e||void 0===e||null===(v=e.data)||void 0===v?void 0:v.description:"N/A",placement:"top-start",children:(0,C.jsx)(xe.A,{sx:{color:"#3B3F76",ml:1,cursor:"pointer",fontSize:"1rem",float:"right"}})})]}),(0,C.jsxs)(p.A,{fontWeight:"500",sx:{background:"#fff",p:.5,borderRadius:"10px",fontSize:"14px",color:"#3B3F76",width:"fit-content",position:"absolute",bottom:"-15px",right:"10px"},children:[(0,C.jsx)("span",{onClick:()=>o((0,B.DE)({show:!0,data:{container:{name:"reschedule",data:e,dimensions:{width:"800px"}},type:"custom"}})),style:{cursor:"pointer"},children:"Reschedule"})," ","/",(0,C.jsx)("span",{onClick:()=>u(null===e||void 0===e?void 0:e._id),style:{cursor:"pointer"},children:"Cancel"})]})]})]})},t)}))]}):(0,C.jsxs)(M.Ay,{item:!0,xs:12,sx:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[(0,C.jsxs)(p.A,{color:"#3B3F76",fontSize:"1.2rem",fontWeight:"500",children:["No ",(0,C.jsx)("span",{style:{color:"rgba(48, 51, 99, 0.5)"},children:"upcoming"})," meetings"]}),(0,C.jsx)("img",{src:f.A.noMeetings,alt:"noData",style:{width:"250px",marginTop:"1rem"}})]})}),(0,C.jsx)($.A,{open:s,handleClose:()=>l(!1),additionalData:{onSubmit:async e=>{try{const e=await(0,A.Em)({meetingId:r,option:"cancelEvent"});e&&(o((0,me.kM)(e.data)),o((0,B.DE)({show:!0,data:{container:{name:"success",data:e.data.message,dimensions:{width:"30%",height:"40%",show:"none"}},type:"custom"}})))}catch(t){console.error("Error cancelling the event:",t)}l(!1)},title:"Are you sure you want to cancel this meeting?",content:""}})]})},he=()=>(0,C.jsxs)(a.A,{sx:{borderRadius:"10px",overflowY:"scroll",padding:"0 1rem"},children:[(0,C.jsx)("div",{children:(0,C.jsx)(p.A,{sx:{position:"relative",width:"1.5rem",height:"1.5rem",borderRadius:"50%",background:"#FFD8D3"},children:(0,C.jsx)(p.A,{color:"#3b3f76",sx:{position:"absolute",top:"-4px",left:"14px",width:"200px"},fontWeight:"500",fontSize:"1.1rem",children:"Meetings"})})}),(0,C.jsx)(pe,{})]});var ve=i(47030),ge=i(40089),fe=i(1528);const je=()=>{var e,t,i,o,s,l,r,c,u,m;const x=(0,d.Zp)(),h=(0,S.G)((e=>e.shortlistedcourses)),v=(0,S.G)((e=>e.applications)),g=(0,S.G)((e=>e.recommendations)),j=(null===g||void 0===g?void 0:g.data)&&(null===g||void 0===g||null===(e=g.data)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.filter((e=>"Ambitious"===(null===e||void 0===e?void 0:e.possibilityOfAdmit)))),y=(null===g||void 0===g?void 0:g.data)&&(null===g||void 0===g||null===(i=g.data)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.filter((e=>"Safe"===(null===e||void 0===e?void 0:e.possibilityOfAdmit)))),A=(null===g||void 0===g?void 0:g.data)&&(null===g||void 0===g||null===(s=g.data)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.filter((e=>"Moderate"===(null===e||void 0===e?void 0:e.possibilityOfAdmit)))),b=[{title:"Activity",items:[{count:"".concat(null===(r=h.data)||void 0===r?void 0:r.length),background:"#FFF7E9",link:"/profile/shortlisted",label:"Wishlisted Courses",icon:(0,C.jsx)("img",{src:f.A.courseicon,alt:"safe",style:{width:"1.2rem"}})},{count:"".concat(null===(c=v.data)||void 0===c?void 0:c.length),background:"#FFA89C4D",link:"/profile/applications",label:"Applied Universities",icon:(0,C.jsx)("img",{src:f.A.courseicon,alt:"safe",style:{width:"1.2rem"}})}]},{title:"Recommendation",items:[{count:"".concat(null===y||void 0===y?void 0:y.length),link:"/profile/recommendedCourses/Safe",background:"#FFA89C4D",label:"Safe",icon:(0,C.jsx)("img",{src:f.A.safe,alt:"safe",style:{width:"1.2rem"}})},{count:"".concat(null===A||void 0===A?void 0:A.length),link:"/profile/recommendedCourses/Moderate",background:"#C9F9F6",label:"Moderate",icon:(0,C.jsx)("img",{src:f.A.moderate,alt:"safe",style:{width:"1.2rem"}})},{count:"".concat(null===j||void 0===j?void 0:j.length),link:"/profile/recommendedCourses/Ambitious",background:"#F4F4FF",label:"Ambitious",icon:(0,C.jsx)(fe.A,{sx:{fontSize:"1.1rem"}})}]}];return(0,C.jsx)("div",{children:(0,C.jsxs)(a.A,{sx:{borderRadius:"10px",pl:2,height:{xs:"100%"}},children:[(0,C.jsxs)(n.Fragment,{children:[(0,C.jsx)("div",{children:(0,C.jsx)(p.A,{sx:{position:"relative",width:"1.5rem",height:"1.5rem",borderRadius:"50%",background:"#FFF7E9"},children:(0,C.jsx)(p.A,{color:"#3b3f76",sx:{position:"absolute",top:"-4px",left:"14px",width:"200px"},fontWeight:"500",fontSize:"1.1rem",children:"Activity"})})}),(0,C.jsx)(M.Ay,{container:!0,spacing:2,sx:{mt:-1.5},children:(0,C.jsx)(M.Ay,{item:!0,xs:12,sx:{borderRadius:"10px",p:2},children:(0,C.jsx)(a.A,{sx:{display:"flex",gap:"1rem"},children:null===b||void 0===b?void 0:b[0].items.map(((e,t)=>(0,C.jsxs)(L.A,{sx:[G.Gt,{background:"".concat(e.background),p:2,cursor:"pointer"}],onClick:()=>x(e.link),children:[(0,C.jsx)(p.A,{variant:"h6",sx:G.Dk,children:e.count}),(0,C.jsxs)(p.A,{variant:"subtitle2",fontWeight:"500",sx:G.Dk,children:["string"===typeof e.icon?(0,C.jsx)(C.Fragment,{children:e.icon}):e.icon,e.label]})]},t)))})})})]}),(0,C.jsxs)(n.Fragment,{children:[(0,C.jsx)("div",{children:(0,C.jsx)(p.A,{sx:{position:"relative",width:"1.5rem",height:"1.5rem",borderRadius:"50%",background:"#9CFFF9"},children:(0,C.jsx)(p.A,{color:"#3b3f76",sx:{position:"absolute",top:"-4px",left:"14px",width:"200px",mb:1},fontWeight:"500",fontSize:"1.1rem",children:"Recommendations"})})}),g.data&&(null===(u=g.data)||void 0===u||null===(m=u.data)||void 0===m?void 0:m.length)>0?(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(M.Ay,{container:!0,spacing:2,sx:{mt:-1.5},children:(0,C.jsx)(M.Ay,{item:!0,xs:12,sx:{borderRadius:"10px",p:2},children:(0,C.jsx)(a.A,{sx:{display:"flex",gap:"1rem"},children:(0,C.jsx)(M.Ay,{container:!0,spacing:2,children:null===b||void 0===b?void 0:b[1].items.map(((e,t)=>(0,C.jsx)(M.Ay,{item:!0,xs:6,md:6,lg:4,children:(0,C.jsxs)(a.A,{sx:[{background:"".concat(e.background),p:2,borderRadius:"10px",cursor:"pointer"}],onClick:()=>x(e.link),children:[(0,C.jsx)(p.A,{variant:"h6",sx:G.Dk,children:e.count}),(0,C.jsxs)(p.A,{variant:"subtitle2",sx:[G.Dk],children:["string"===typeof e.icon?(0,C.jsx)(C.Fragment,{children:e.icon}):e.icon,e.label]})]},t)},t)))})})})})}):(0,C.jsxs)(M.Ay,{container:!0,spacing:2,sx:{background:"#F8F8FC",borderRadius:"10px",mt:1},children:[(0,C.jsxs)(M.Ay,{item:!0,xs:9,children:[(0,C.jsxs)(p.A,{color:"#3B3F76",children:["Oh ",(0,C.jsx)("span",{style:{color:"rgba(48, 51, 99, 0.5)"},children:"nooo!"})]}),(0,C.jsx)(p.A,{sx:{mt:1},children:"Recommendations not generated yet!"}),(0,C.jsx)(K.A,{sx:{display:"flex",mt:1,gap:"1rem",alignItems:"center",cursor:"pointer",color:"#3B3F76",fontWeight:"500",textTransform:"none"},onClick:()=>x("/profile/recommendedCourses/generate"),children:"Go to Recommendations Page "})]}),(0,C.jsx)(M.Ay,{item:!0,xs:3,children:(0,C.jsx)("img",{src:f.A.noRecommend,alt:"",style:{width:"100px",height:"100px"}})})]})]})]})})},ye=()=>{var e;const[t,i]=(0,n.useState)(!1),o=(0,n.useRef)(null),s=(0,S.j)(),l=(0,S.G)((e=>e.applications)),r=()=>{var e;null===o||void 0===o||null===(e=o.current)||void 0===e||e.click()},d=null===l||void 0===l||null===(e=l.data)||void 0===e?void 0:e.filter((e=>{var t;return null===e||void 0===e||null===(t=e.docChecklist)||void 0===t?void 0:t.some((e=>!(null!==e&&void 0!==e&&e.isChecked)))})).map((e=>{var t;return{...e,docChecklist:null===e||void 0===e||null===(t=e.docChecklist)||void 0===t?void 0:t.filter((e=>!(null!==e&&void 0!==e&&e.isChecked)))}}));return(0,C.jsxs)(a.A,{sx:{},children:[(0,C.jsx)("div",{children:(0,C.jsx)(p.A,{sx:{position:"relative",width:"1.5rem",height:"1.5rem",borderRadius:"50%",background:"#FFD8D3"},children:(0,C.jsx)(p.A,{color:"#3b3f76",sx:{position:"absolute",top:"-4px",left:"14px",width:"200px"},fontWeight:"500",fontSize:"1.1rem",children:"Checklist"})})}),(0,C.jsx)(a.A,{sx:{height:"200px",background:"#F8F8FC",overflowY:"scroll",borderRadius:"10px",mt:1},children:(null===d||void 0===d?void 0:d.length)>0?null===d||void 0===d?void 0:d.map((e=>{var n;return null===e||void 0===e||null===(n=e.docChecklist)||void 0===n?void 0:n.map((n=>{var l,d,c,u,m;return(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)(M.Ay,{container:!0,sx:{px:2,py:1,borderRadius:"10px",cursor:"pointer",margin:"10px",width:"auto",background:"transparent",borderBottom:"3px solid #fff"},children:[(0,C.jsx)(M.Ay,{item:!0,xs:12,onClick:()=>s((0,B.DE)({show:!0,data:{container:{name:"applicationPopup",data:e._id,dimensions:{width:"800px"}},type:"custom"}})),children:(0,C.jsxs)(p.A,{fontSize:"14px",display:"flex",alignItems:"center",children:[(0,C.jsx)("img",{src:null===e||void 0===e||null===(l=e.course)||void 0===l||null===(d=l.university)||void 0===d?void 0:d.logoSrc,alt:"logo",style:{width:"2rem",height:"2rem",marginRight:"10px",borderRadius:"50%"}}),null===e||void 0===e||null===(c=e.course)||void 0===c?void 0:c.name]})}),(0,C.jsx)(M.Ay,{item:!0,xs:6,children:(0,C.jsx)(p.A,{fontWeight:"500",fontSize:"14px",children:(0,ue.r0)(n.name)})}),(0,C.jsxs)(M.Ay,{item:!0,xs:6,sx:{display:"flex",height:"20px",justifyContent:"space-between"},children:[null!==n&&void 0!==n&&n.doc?(0,C.jsxs)(a.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,C.jsx)(O.A,{sx:{fontSize:"large"},onClick:()=>{var e,t;s((0,B.DE)({show:!0,data:{container:{name:"fileViewer",data:null===n||void 0===n||null===(e=n.doc)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.preview_url,dimensions:{width:"500px"}},type:"custom"}}))}}),(0,C.jsx)("h4",{style:{color:"#000",display:"flex",alignItems:"center",fontSize:"12px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontWeight:400,marginLeft:"5px"},children:null===n||void 0===n||null===(u=n.doc)||void 0===u||null===(m=u.data)||void 0===m?void 0:m.FileName})]}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("input",{style:{display:"none"},type:"file",className:"",name:"image",onChange:t=>(async(e,t,a)=>{const n=e.target.files&&e.target.files[0];try{if(null!==n&&void 0!==n){const e=new FormData;e.append("uploaded_file",n||null),e.append("applicationId",t._id),e.append("checklistItemId",a._id);const o=await(0,A.Jg)(e);o&&(s((0,J.FT)(o.data.data.docs)),s((0,ge.K3)(o.data.data)),i(!1))}else i(!1)}catch(o){i(!1)}})(t,e,n),ref:o,accept:".pdf"}),(0,C.jsx)(K.A,{sx:{color:"#000",textTransform:"none",p:.25,fontSize:"0.7rem",ml:1},onClick:r,children:t?(0,C.jsx)(a.A,{component:"img",src:f.A.standardLoader,alt:"standardLoader",sx:{width:"1rem",height:"1rem"}}):(0,C.jsx)(U.A,{})})]}),(0,C.jsxs)(p.A,{sx:{fontSize:"11px",margin:"2px 2px 0 0",position:"relative",cursor:"pointer","&:hover .cancel-icon":{display:"block !important"}},children:[(0,C.jsx)(ve.A,{sx:{color:"#FF751A",fontSize:"1rem"}}),(null===n||void 0===n?void 0:n.desc)&&(0,C.jsx)("span",{className:"cancel-icon",style:{display:"none",color:"#000",position:"absolute",padding:"2px",maxWidth:"200px",zIndex:1,textAlign:"center",right:0,border:"1px solid #000",borderRadius:"5px"},children:n.desc})]})]})]},e._id)})}))})):(0,C.jsxs)(a.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"80%"},children:[(0,C.jsx)("img",{src:f.A.noData,alt:"nodata"}),(0,C.jsxs)(p.A,{sx:{display:"flex"},children:["There is no checklist",(0,C.jsx)(h.A,{slotProps:{tooltip:{sx:{color:"#514E6A",backgroundColor:"#ffff",boxShadow:2,cursor:"pointer"}}},title:"A checklist is a list of items or tasks added by the Student Advisor which need\u2019s \nto be completed or verified. It serves as a tool for ensuring that all necessary \nsteps or items are addressed in a particular process or activity. Checklists \nare commonly used in various contexts, such as in planning, organizing, quality \nassurance, and everyday tasks, to help individuals or teams stay organized \nand ensure that nothing is overlooked.",placement:"top-start",children:(0,C.jsx)(xe.A,{sx:{color:"#3B3F76",ml:1,cursor:"pointer"}})})]})]})})]})},Ae=()=>{var e,t;const i=(0,S.G)((e=>e.advisor)),n=(0,S.j)(),o=["#FFA89C4D","#FFF7E9","#F4F4FF","#C9F9F6"];return(0,C.jsxs)(a.A,{sx:{borderRadius:"10px",overflow:"hidden"},children:[(0,C.jsx)("div",{children:(0,C.jsx)(p.A,{sx:{position:"relative",width:"1.5rem",height:"1.5rem",borderRadius:"50%",background:"#D1D3F9"},children:(0,C.jsx)(p.A,{color:"#3b3f76",sx:{position:"absolute",top:"-4px",left:"14px",width:"200px"},fontWeight:"500",fontSize:"1.1rem",children:"Advisors"})})}),(0,C.jsx)(a.A,{sx:{mt:2,overflowX:"auto",scrollbarWidth:"none"},children:(null===i||void 0===i||null===(e=i.data)||void 0===e?void 0:e.length)>0?(0,C.jsx)(M.Ay,{container:!0,spacing:2,sx:{flexWrap:"nowrap"},children:null===i||void 0===i||null===(t=i.data)||void 0===t?void 0:t.map(((e,t)=>{var i,a,s;return(0,C.jsx)(M.Ay,{item:!0,xs:6,sm:4,sx:{minWidth:"150px",borderRadius:"10px",p:2},children:(0,C.jsxs)(L.A,{spacing:1,sx:[G.Gt,{position:"relative",cursor:"pointer",background:o[t%o.length],marginTop:"1.5rem",height:"100px",justifyContent:"center"}],alignItems:"center",onClick:()=>n((0,B.DE)({show:!0,data:{container:{name:"advisor",data:e,dimensions:{width:"900px",height:"85%"}},type:"custom"}})),children:[(0,C.jsx)(m.A,{src:null===e||void 0===e||null===(i=e.info)||void 0===i?void 0:i.displayPicSrc,alt:"pic",sx:{width:"2.5rem",height:"2.5rem",borderRadius:"50%",position:"absolute",top:"-10%"}}),(0,C.jsx)(p.A,{color:"#3B3F76",fontSize:"14px",sx:[G.Dk,{mt:1,pb:0}],children:(0,ue.Tl)(null===e||void 0===e||null===(a=e.info)||void 0===a?void 0:a.role)}),(0,C.jsx)(p.A,{sx:G.Dk,children:(0,ue.AZ)(null===e||void 0===e||null===(s=e.info)||void 0===s?void 0:s.firstName)})]})},t)}))}):(0,C.jsx)(a.A,{sx:{height:"5rem",background:"#F8F8FC",borderRadius:"20px",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,C.jsx)(p.A,{color:"#3B3F76",children:"Advisors not assigned"})})})]})},be=()=>(0,C.jsx)(a.A,{sx:{height:"auto !important",overflow:"hidden !important"},children:(0,C.jsxs)(M.Ay,{container:!0,spacing:2,children:[(0,C.jsx)(M.Ay,{item:!0,xs:12,md:6,children:(0,C.jsx)(je,{})}),(0,C.jsx)(M.Ay,{item:!0,xs:12,md:6,children:(0,C.jsx)(ye,{})}),(0,C.jsx)(M.Ay,{item:!0,xs:12,md:6,children:(0,C.jsx)(he,{})}),(0,C.jsx)(M.Ay,{item:!0,xs:12,md:6,children:(0,C.jsx)(Ae,{})})]})});var we=i(79190),Se=i(72221),Ce=i(32143),De=i(67784),ke=i(81637),Ie=i(53193),ze=i(84714),Fe=i(74605),Ne=i(14256),Ee=i(90469),We=i(51787),Pe=i(13892),Re=i(12328),Ge=i(87110),Te=i(12789),Me=i(24910),Le=i(62585),Oe=i(84311),Be=i(33438),qe=i(69320),Ye=i(80899),_e=i(66360);const Ve=e=>{let{label:t,name:i,options:a,value:o,onChange:s,placeholder:l="Select ",searchEnabled:r=!0}=e;const[d,c]=(0,n.useState)(""),u=(0,n.useMemo)((()=>a.filter((e=>e.toLowerCase().includes(d.toLowerCase())))),[a,d]);return(0,C.jsx)(Ie.A,{fullWidth:!0,children:(0,C.jsxs)(Se.A,{labelId:"".concat(i,"-label"),size:"small",id:i,name:i,displayEmpty:!0,onClose:()=>c(""),value:o,onChange:s,fullWidth:!0,IconComponent:R.A,renderValue:e=>e||(0,C.jsx)(p.A,{sx:{color:"#757575",fontSize:"14px"},children:l}),MenuProps:{PaperProps:{sx:{maxHeight:300,maxWidth:300,"&.MuiPaper-root":{boxShadow:3,borderRadius:"15px !important"}}},autoFocus:!1},sx:{},children:[r&&(0,C.jsx)(Ee.A,{children:(0,C.jsx)(De.A,{size:"small",autoFocus:!0,placeholder:"Type to search...",fullWidth:!0,value:d,onChange:e=>c(e.target.value),InputProps:{startAdornment:(0,C.jsx)(We.A,{position:"start",children:(0,C.jsx)(_e.A,{})})},onKeyDown:e=>{"Escape"!==e.key&&e.stopPropagation()}})}),(0,C.jsx)(Ce.A,{disabled:!0,value:"",sx:{"& .MuiTypography-root":{fontSize:"14px !important"}},children:l}),u.length>0?u.map(((e,t)=>(0,C.jsx)(Ce.A,{value:e,sx:{"& .MuiTypography-root":{fontSize:"14px !important"},"& .MuiSvgIcon-root ":{fontSize:"1rem"},whiteSpace:"normal"},children:e},t))):(0,C.jsx)(Ce.A,{disabled:!0,children:"No options available"})]})})};var Ke=i(55252);const Ue=e=>{var t;let{data:i}=e;const o=(0,S.j)(),[s,l]=(0,n.useState)(),[r,d]=(0,n.useState)([]),[c,u]=(0,n.useState)([]),[m,x]=(0,n.useState)([]),[v,g]=(0,n.useState)([]),[j,y]=(0,n.useState)((null===i||void 0===i?void 0:i.instituteName)||""),[b,w]=(0,n.useState)(null!==i&&void 0!==i&&i.affiliatedUniversity?[i.affiliatedUniversity]:[]),[D,k]=(0,n.useState)((null===i||void 0===i?void 0:i.affiliatedUniversity)||""),[I,z]=(0,n.useState)((null===i||void 0===i?void 0:i.programMajor)||""),[F,N]=(0,n.useState)(null!==i&&void 0!==i&&i.degreeProgram?null===i||void 0===i?void 0:i.degreeProgram:""),[E,W]=(0,n.useState)(!1),[P,T]=(0,n.useState)(""),[L,O]=(0,n.useState)(null===i||void 0===i?void 0:i.gradingSystem),[q,Y]=(0,n.useState)(null===i||void 0===i?void 0:i.totalScore),_=(0,S.G)((e=>e.profile)),[V,U]=(0,n.useState)(null===_||void 0===_||null===(t=_.data)||void 0===t?void 0:t.IEH),[H,Q]=(0,n.useState)(!1),[J,X]=(0,n.useState)(!1),[$,ee]=(0,n.useState)((null===i||void 0===i?void 0:i.country)||"India"),[te,ie]=(0,n.useState)((null===i||void 0===i?void 0:i.state)||""),[ae,ne]=(0,n.useState)((null===i||void 0===i?void 0:i.city)||""),[oe,se]=(0,n.useState)(!1),[le,re]=(0,n.useState)(""),de=r.find((e=>e.name===$)),ce=c.find((e=>e.name===te));(0,n.useEffect)((()=>{(async()=>{const e=await Te.A.getAllCountries();d(e)})()}),[]);const ue=Ye.Ik().shape({underGraduation:Ye.Ik().shape({})});(0,n.useEffect)((()=>{(async()=>{var e,t;const i=await Me.Ay.getStatesOfCountry(null===de||void 0===de?void 0:de.isoCode);u(i);const a=await Le.A.getCitiesOfState(null!==(e=null===ce||void 0===ce?void 0:ce.countryCode)&&void 0!==e?e:"",null!==(t=null===ce||void 0===ce?void 0:ce.isoCode)&&void 0!==t?t:"");x(a)})()}),[de,ce]);const me=e=>{const t=e.target.value;re(t),y(t)};(0,n.useEffect)((()=>{le.length>3?(se(!0),Q(!0),(0,A.nw)(le,1,10,1,0,0,0,0).then((e=>{var t;g((null===(t=e.data)||void 0===t?void 0:t.institutions)||[]),se(!1)})).catch((e=>{console.error("Error fetching institutions:",e),se(!1)}))):(g([]),Q(!1))}),[le]);const[pe,he]=(0,n.useState)(!1),ve={PaperProps:{style:{maxHeight:224,width:150}}},ge={underGraduation:{instituteName:j,city:ae,state:te,country:$,programMajor:I,degreeProgram:F,gradingSystem:L,affiliatedUniversity:D,totalScore:q,startDate:null===i||void 0===i?void 0:i.startDate,endDate:null===i||void 0===i?void 0:i.endDate,backlogs:null===i||void 0===i?void 0:i.backlogs,isCompleted:null===i||void 0===i?void 0:i.isCompleted,custom:pe}},[fe,je]=(0,n.useState)([]);(0,n.useEffect)((()=>{const e=Z.FX[0][null===i||void 0===i?void 0:i.degreeProgram]||[];je(e)}),[null===i||void 0===i?void 0:i.degreeProgram]);const[ye,Ae]=(0,n.useState)(""),be=(0,n.useMemo)((()=>m.filter((e=>e.name.toLowerCase().includes(ye.toLowerCase())))),[m,ye]),Ue=e=>{ne(e)},He=e=>{var t;"Other"===e?(y(""),W(!1),re(""),he(!0),o((0,B.DE)({show:!0,data:{container:{name:"customfield",data:{name:"underGraduation.institutionName",fieldName:j,setFieldName:y,placeholder:"Enter your institution name"},dimensions:{width:"450px"}},type:"custom"}}))):(y(null===e||void 0===e?void 0:e.InstitutionName),w((null===e||void 0===e?void 0:e.university)||[]),W(null===e||void 0===e||null===(t=e.IEH)||void 0===t?void 0:t.exists),T(null===e||void 0===e?void 0:e._id),k(""),re(""))},Qe=async e=>{switch(e.name){case"Country":ee(e.data),ie(""),ne(""),x([]);const t=r.find((t=>t.name===e.data));if(t){const e=await Me.Ay.getStatesOfCountry(t.isoCode);u(e)}break;case"State":ne(""),ie(e.data);const i=c.find((t=>t.name===e.data));if(i){const e=await Le.A.getCitiesOfState(i.countryCode,i.isoCode);x(e)}break;case"City":ne(e.data)}},Je=async e=>{try{X(!0);const t=await(0,A.oS)(e);t&&(o((0,Ge.Jz)(t.data.data.education.underGraduation)),o((0,B.DE)({show:!0,data:{container:{name:"success",data:"UnderGraduate Details are Added Succesfully",dimensions:{width:"35%",height:"40%",show:"none"}},type:"custom"}}))),X(!1)}catch(t){X(!1)}};return(0,C.jsx)("div",{children:(0,C.jsx)(Pe.l1,{initialValues:ge,validationSchema:ue,enableReinitialize:!0,onSubmit:e=>Je(e),children:e=>{var t,i,n;let{touched:d,errors:u,values:x,handleChange:A,setFieldValue:w}=e;return(0,C.jsx)(Pe.lV,{style:{},children:(0,C.jsxs)(M.Ay,{container:!0,spacing:3,sx:{px:2},children:[(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"instituteName",sx:{fontWeight:"500",color:"#000",mb:1},children:"Degree Name"}),(0,C.jsxs)(Se.A,{size:"small",id:"Country",name:"underGraduation.degreeProgram",displayEmpty:!0,defaultValue:"",value:F,onChange:e=>{((e,t)=>{const i=e.target.value,a=Z.FX[0][i]||[];je(a),t("underGraduation.programMajor","")})(e,w),N(e.target.value)},fullWidth:!0,sx:{"& .Mui-error .MuiOutlinedInput-notchedOutline":{borderColor:"red !important"}},MenuProps:ve,IconComponent:R.A,children:[(0,C.jsx)(Ce.A,{disabled:!0,value:"",sx:{"& .MuiTypography-root":{fontSize:"14px !important"}},children:"Select"}),Object.keys(Z.FX[0]).map((e=>(0,C.jsx)(Ce.A,{value:e,sx:{"& .MuiTypography-root":{fontSize:"14px !important"},"& .MuiSvgIcon-root ":{fontSize:"1rem"},whiteSpace:"normal"},children:e},e))),!Object.keys(Z.FX[0]).includes(F)&&""!==F&&(0,C.jsx)(Ce.A,{value:F,children:F},F),(0,C.jsx)(Ce.A,{sx:{fontSize:"14px !important",display:"flex",alignItems:"center",whiteSpace:"normal",color:"#1cbeb5  !important"},onClick:()=>{he(!0),o((0,B.DE)({show:!0,data:{container:{name:"customfield",data:{name:"underGraduation.degreeProgram",fieldName:F,setFieldName:N,placeholder:"Enter your degree name"},dimensions:{width:"450px"}},type:"custom"}}))},children:"Can't find your degree"})]})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"instituteName",sx:{fontWeight:"500",color:"#000",mb:1},children:"Specialization"}),(0,C.jsxs)(Se.A,{size:"small",id:"Country",name:"underGraduation.programMajor",displayEmpty:!0,defaultValue:"",value:I,onChange:e=>z(e.target.value),fullWidth:!0,sx:{"& .Mui-error .MuiOutlinedInput-notchedOutline":{borderColor:"red !important"}},MenuProps:ve,IconComponent:R.A,children:[(0,C.jsx)(Ce.A,{disabled:!0,value:"",sx:{"& .MuiTypography-root":{fontSize:"14px !important"}},children:"Select"}),null===fe||void 0===fe?void 0:fe.map((e=>(0,C.jsx)(Ce.A,{value:e,sx:{"& .MuiTypography-root":{fontSize:"14px !important"},"& .MuiSvgIcon-root ":{fontSize:"1rem"},whiteSpace:"normal"},children:e},e))),!fe.includes(I)&&""!==I&&(0,C.jsx)(Ce.A,{value:I,children:I},I),(0,C.jsx)(Ce.A,{sx:{fontSize:"14px !important",display:"flex",alignItems:"center",whiteSpace:"normal",color:"#1cbeb5  !important"},onClick:()=>{he(!0),o((0,B.DE)({show:!0,data:{container:{name:"customfield",data:{name:"underGraduation.programMajor",fieldName:I,setFieldName:z,placeholder:"Enter your specialization"},dimensions:{width:"450px"}},type:"custom"}}))},children:"Can't find your specialization"})]}),(0,C.jsx)(Pe.Kw,{name:"underGraduation.programMajor",component:"div",className:"error"})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"instituteName",sx:{fontWeight:"500",color:"#000",mb:1},children:"Name of Institution"}),(0,C.jsxs)(a.A,{sx:{width:"100%",position:"relative"},children:[(0,C.jsx)(De.A,{value:j,onChange:me,placeholder:"Search for an institution",variant:"outlined",name:"underGraduation.instituteName",size:"small",autoComplete:"off",fullWidth:!0,InputProps:{endAdornment:(0,C.jsxs)(C.Fragment,{children:[oe&&(0,C.jsx)(ke.A,{color:"inherit",size:20}),j&&(0,C.jsx)(Be.A,{sx:{cursor:"pointer"},onClick:()=>{y(""),g([]),re(""),Q(!1)}})]})}}),oe||v.length>0||H&&0===v.length?(0,C.jsxs)(a.A,{sx:{position:"absolute",zIndex:1,backgroundColor:"#fff",boxShadow:1,maxHeight:"200px",overflowY:"auto",width:"100%"},children:[v.map(((e,t)=>{var i;return(0,C.jsxs)(Ce.A,{sx:{fontSize:"14px !important",display:"flex",alignItems:"center",whiteSpace:"normal"},onClick:()=>He(e),children:[null===e||void 0===e?void 0:e.InstitutionName,(null===e||void 0===e||null===(i=e.IEH)||void 0===i?void 0:i.exists)&&(0,C.jsx)(qe.A,{sx:{fontSize:"1.1rem",color:"orange"}}),(null===e||void 0===e?void 0:e.District)&&", ".concat(null===e||void 0===e?void 0:e.District)]},t)})),!oe&&H&&(0,C.jsx)(Ce.A,{sx:{fontSize:"14px !important",display:"flex",whiteSpace:"normal",color:"#1cbeb5  !important"},onClick:()=>He("Other"),children:"Can't find institution"})]}):null]}),(0,C.jsx)(Pe.Kw,{name:"underGraduation.instituteName",component:"div",className:"error"})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"affiliatedUniversity",sx:{fontWeight:"500",color:"#000",mb:1},children:"Affiliated University"}),(0,C.jsxs)(Se.A,{size:"small",id:"affiliatedUniversity",name:"underGraduation.affiliatedUniversity",displayEmpty:!0,value:D,onChange:e=>k(e.target.value),fullWidth:!0,IconComponent:R.A,children:[(0,C.jsx)(Ce.A,{disabled:!0,value:"",children:"Select University"}),b.map((e=>(0,C.jsx)(Ce.A,{value:e,children:e},e))),!b.includes(D)&&""!==I&&(0,C.jsx)(Ce.A,{value:D,children:D},D),(0,C.jsx)(Ce.A,{sx:{fontSize:"14px !important",display:"flex",alignItems:"center",whiteSpace:"normal",color:"#1cbeb5  !important"},onClick:()=>{he(!0),o((0,B.DE)({show:!0,data:{container:{name:"customfield",data:{name:"underGraduation.affiliatedUniversity",fieldName:D,setFieldName:k,placeholder:"Enter your university"},dimensions:{width:"450px"}},type:"custom"}}))},children:"Can't find university"})]}),(0,C.jsx)(Pe.Kw,{name:"underGraduation.affiliatedUniversity",component:"div",className:"error"})]}),E?(0,C.jsxs)(M.Ay,{item:!0,xs:12,sx:{display:"flex",gap:"1rem",alignItems:"center"},children:[(0,C.jsxs)(p.A,{children:["This college is a member of ",(0,C.jsx)("b",{style:{color:"#3b3f76"},children:"IEH"})," . You need to verify to get benefits."]}),"Verification Request Initiated"===(null===V||void 0===V?void 0:V.verificationStatus)?"":(0,C.jsx)(K.A,{sx:G.Q4,onClick:()=>o((0,B.DE)({show:!0,data:{container:{name:"ieh",data:{id:P,setIEHStatus:U},dimensions:{width:"450px"}},type:"custom"}})),children:"Verify"})]}):"","Verification Request Initiated"===(null===V||void 0===V?void 0:V.verificationStatus)?(0,C.jsx)(M.Ay,{item:!0,xs:12,children:(0,C.jsx)(p.A,{children:"Your IEH verification request is initiated"})}):"",(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"instituteName",sx:{fontWeight:"500",color:"#000",mb:1},children:"Grading System"}),(0,C.jsxs)(Se.A,{id:"grading-system",size:"small",name:"gradingSystem",displayEmpty:!0,defaultValue:"",value:L,onChange:e=>(O(e.target.value),void Y("")),fullWidth:!0,IconComponent:R.A,children:[(0,C.jsx)(Ce.A,{value:"",disabled:!0,children:"Select grade"}),(0,C.jsx)(Ce.A,{value:"percentage",children:"Percentage"}),(0,C.jsx)(Ce.A,{value:"gpa",children:"CGPA    4.0 scale"}),(0,C.jsx)(Ce.A,{value:"cgpa",children:"CGPA   10.0 scale"}),(0,C.jsx)(Ce.A,{value:"grade",children:"Grade"})]}),(0,C.jsx)(Pe.Kw,{name:"underGraduation.gradingSystem",component:"div",className:"error"})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsxs)(we.A,{id:"instituteName",sx:{fontWeight:"500",color:"#000",mb:1},children:["Score"," "]}),"grade"===L?(0,C.jsxs)(Se.A,{size:"small",id:"totalScore",name:"underGraduation.totalScore",displayEmpty:!0,value:q,onChange:e=>Y(e.target.value),fullWidth:!0,IconComponent:R.A,MenuProps:ve,children:[(0,C.jsx)(Ce.A,{disabled:!0,value:"",children:"Select Grade"}),["A","A+","B","B+","C","C+","D","D+"].map((e=>(0,C.jsx)(Ce.A,{value:e,children:e},e)))]}):(0,C.jsx)(De.A,{name:"underGraduation.totalScore",size:"small",fullWidth:!0,value:q,onChange:e=>Y(e.target.value),placeholder:"percentage"===L?"Enter percentage":"grade"===L?"Enter grade":"Enter score",inputProps:{step:"0.1",min:"percentage"===L||"gpa"===L||"cgpa"===L?1:void 0,max:"percentage"===L?100:"gpa"===L?4:"cgpa"===L?10:void 0,list:"grade"===L?"grades":void 0,onInput:e=>{const t=e.target,i=parseFloat(t.value);if("Grade"!==L){(i<(("percentage"===L||"gpa"===L||"cgpa"===L?1:void 0)||0)||i>(("percentage"===L?100:"gpa"===L?4:"cgpa"===L?10:void 0)||1/0))&&(t.value=i.toString().slice(0,-1))}}}}),(0,C.jsx)(Pe.Kw,{name:"underGraduation.totalScore",component:"div",className:"error"})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"",sx:{color:"#000",fontWeight:500},children:"Education status"}),(0,C.jsx)(Ie.A,{children:(0,C.jsxs)(ze.A,{row:!0,"aria-labelledby":"education-status",name:"underGraduation.isCompleted",value:x.underGraduation.isCompleted,onChange:e=>{A({target:{name:"underGraduation.isCompleted",value:"true"===e.target.value}})},children:[(0,C.jsx)(Fe.A,{value:"true",control:(0,C.jsx)(Ne.A,{size:"small",sx:{"&.MuiRadio-root.Mui-checked":{color:"#3B3F76 !important"}}}),label:"Completed"}),(0,C.jsx)(Fe.A,{value:"false",control:(0,C.jsx)(Ne.A,{size:"small",sx:{"&.MuiRadio-root.Mui-checked":{color:"#3B3F76 !important"}}}),label:"Pursuing"})]})})]}),(0,C.jsx)(M.Ay,{item:!0,xs:12,sm:6}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"instituteName",sx:{fontWeight:"500",color:"#000",mb:1},children:"Start Date"}),(0,C.jsx)(Ke.A,{selectedDate:null===x||void 0===x||null===(t=x.underGraduation)||void 0===t?void 0:t.startDate,onChange:e=>A({target:{name:"underGraduation.startDate",value:null===e||void 0===e?void 0:e.toISOString().slice(0,10)}}),maxDate:new Date,placeholderText:"Start Date"}),(0,C.jsx)(Pe.Kw,{name:"underGraduation.startDate",component:"div",className:"error"})]}),(0,C.jsx)(M.Ay,{item:!0,xs:12,sm:6,children:x.underGraduation.isCompleted&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(we.A,{sx:{fontWeight:"500",color:"#000",mb:1},children:"End Date"}),(0,C.jsx)(Ke.A,{selectedDate:null===x||void 0===x||null===(i=x.underGraduation)||void 0===i?void 0:i.endDate,onChange:e=>A({target:{name:"underGraduation.endDate",value:null===e||void 0===e?void 0:e.toISOString().slice(0,10)}}),minDate:x.underGraduation.startDate?new Date(new Date(x.underGraduation.startDate).setFullYear(new Date(x.underGraduation.startDate).getFullYear()+1)):void 0,maxDate:x.underGraduation.startDate?(()=>{const e=new Date(new Date(x.underGraduation.startDate).setFullYear(new Date(x.underGraduation.startDate).getFullYear()+4));return e>new Date?new Date:e})():new Date,placeholderText:"End Date"}),(0,C.jsx)(Pe.Kw,{name:"underGraduation.endDate",component:"div",className:"error"})]})}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsxs)(we.A,{id:"",sx:{color:"#000",display:"flex",alignItems:"center"},children:["Backlogs",(0,C.jsx)(h.A,{slotProps:{tooltip:{sx:{color:"#514E6A",backgroundColor:"#ffff",boxShadow:2,cursor:"pointer"}}},title:"Backlog refers to a failed subject or exam that you have not cleared in your first attempt",placement:"right",children:(0,C.jsx)(xe.A,{sx:{color:"#3B3F76",ml:1,cursor:"pointer",fontSize:"1rem",float:"right"}})})]}),(0,C.jsx)(Ie.A,{children:(0,C.jsxs)(ze.A,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",value:s,onChange:e=>l(e.target.value),children:[(0,C.jsx)(Fe.A,{value:"yes",control:(0,C.jsx)(Ne.A,{size:"small",sx:{"&.MuiRadio-root.Mui-checked":{color:"#3B3F76 !important"}}}),label:"Yes"}),(0,C.jsx)(Fe.A,{value:"no",control:(0,C.jsx)(Ne.A,{size:"small",sx:{"&.MuiRadio-root.Mui-checked":{color:"#3B3F76 !important"}}}),label:"No"})]})})]}),(0,C.jsx)(M.Ay,{item:!0,xs:12,sm:6,children:"yes"===s||null!==x&&void 0!==x&&null!==(n=x.underGraduation)&&void 0!==n&&n.backlogs?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(we.A,{id:"",sx:{color:"#000"},children:"Number of Backlogs"}),(0,C.jsx)(Re.A,{id:"name",type:"number",placeholder:"Number of backlogs",name:"underGraduation.backlogs",value:x.underGraduation.backlogs,onChange:A,fullWidth:!0})]}):null}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"instituteName",sx:{fontWeight:"500",color:"#000",mb:1},children:"Country"}),(0,C.jsx)(Ve,{label:"Country",name:"underGraduation.country",options:r.map((e=>e.name)),value:$,onChange:e=>Qe({name:"Country",data:null===e||void 0===e?void 0:e.target.value}),placeholder:"Select",searchEnabled:!0})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"instituteName",sx:{fontWeight:"500",color:"#000",mb:1},children:"State/Province"}),(0,C.jsx)(Ve,{label:"State",name:"underGraduation.state",options:c.map((e=>e.name)),value:te,onChange:e=>Qe({name:"State",data:null===e||void 0===e?void 0:e.target.value}),placeholder:"Select",searchEnabled:!0})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"instituteName",sx:{fontWeight:"500",color:"#000",mb:1},children:"City/Town"}),(0,C.jsx)(Ie.A,{fullWidth:!0,children:(0,C.jsxs)(Se.A,{id:"city",name:"underGraduation.city",value:ae,displayEmpty:!0,size:"small",defaultValue:"",onChange:e=>ne(e.target.value),fullWidth:!0,IconComponent:R.A,onClose:()=>Ae(""),MenuProps:{PaperProps:{sx:{maxHeight:300,"&.MuiPaper-root":{boxShadow:3,borderRadius:"15px !important"}}}},children:[(0,C.jsx)(Ee.A,{children:(0,C.jsx)(De.A,{size:"small",autoFocus:!0,placeholder:"Search City...",fullWidth:!0,autoComplete:"off",value:ye,onChange:e=>Ae(e.target.value),InputProps:{startAdornment:(0,C.jsx)(We.A,{position:"start",children:(0,C.jsx)(_e.A,{})})},onKeyDown:e=>{"Escape"!==e.key&&e.stopPropagation()}})}),(0,C.jsx)(Ce.A,{value:"",disabled:!0,children:te?"Select city":"Please select state"}),be.length>0?be.map((e=>(0,C.jsx)(Ce.A,{value:e.name,children:e.name},e.name))):te&&(0,C.jsx)(Ce.A,{disabled:!0,children:"No cities available"}),!m.some((e=>e.name===ae))&&void 0!==ae&&""!==ae&&(0,C.jsx)(Ce.A,{value:ae,children:ae},ae),(0,C.jsx)(Ce.A,{sx:{fontSize:"14px !important",display:"flex",alignItems:"center",whiteSpace:"normal",color:"#1cbeb5 !important"},onClick:()=>{o((0,B.DE)({show:!0,data:{container:{name:"customfield",data:{name:"underGraduation.city",fieldName:ae,setFieldName:Ue,placeholder:"Enter your city"},dimensions:{width:"450px"}},type:"custom"}}))},children:"Can't find city"})]})})]}),(0,C.jsx)(M.Ay,{item:!0,xs:12,sx:{display:"flex",justifyContent:"end",my:2,mr:10},children:(0,C.jsx)(Oe.S,{handleSubmit:()=>Je,width:"100px",children:J?(0,C.jsx)("img",{src:f.A.standardLoader,alt:"load",style:{width:"1rem",height:"1rem"}}):"Save"})})]})})}})})},He=e=>{let{data:t}=e;const i=(0,S.j)(),[a,o]=(0,n.useState)(),[s,l]=(0,n.useState)([]),[r,d]=(0,n.useState)([]),[c,u]=(0,n.useState)([]),[m,x]=(0,n.useState)((null===t||void 0===t?void 0:t.country)||"India"),[p,v]=(0,n.useState)((null===t||void 0===t?void 0:t.state)||""),[g,f]=(0,n.useState)((null===t||void 0===t?void 0:t.city)||""),j=s.find((e=>e.name===m)),y=r.find((e=>e.name===p)),[b,w]=(0,n.useState)(null===t||void 0===t?void 0:t.gradingSystem),[D,k]=(0,n.useState)(null===t||void 0===t?void 0:t.totalScore),[I,z]=(0,n.useState)((null===t||void 0===t?void 0:t.stream)||""),[F,N]=(0,n.useState)(!1),[E,W]=(0,n.useState)((null===t||void 0===t?void 0:t.board)||"");(0,n.useEffect)((()=>{(async()=>{const e=await Te.A.getAllCountries();l(e)})()}),[]),(0,n.useEffect)((()=>{(async()=>{var e,t;const i=await Me.Ay.getStatesOfCountry(null===j||void 0===j?void 0:j.isoCode);d(i);const a=await Le.A.getCitiesOfState(null!==(e=null===y||void 0===y?void 0:y.countryCode)&&void 0!==e?e:"",null!==(t=null===y||void 0===y?void 0:y.isoCode)&&void 0!==t?t:"");u(a)})()}),[j,y]);const P={PaperProps:{style:{maxHeight:224,width:150}}},G={plus2:{instituteName:null===t||void 0===t?void 0:t.instituteName,city:g,state:p,country:m,languageOfInstruction:null===t||void 0===t?void 0:t.languageOfInstruction,gradingSystem:null===t||void 0===t?void 0:t.gradingSystem,board:E,stream:I,totalScore:null===t||void 0===t?void 0:t.totalScore,startDate:null===t||void 0===t?void 0:t.startDate,endDate:null===t||void 0===t?void 0:t.endDate,backlogs:null===t||void 0===t?void 0:t.backlogs,isCompleted:null===t||void 0===t?void 0:t.isCompleted,custom:F}},T=async e=>{switch(e.name){case"Country":x(e.data),v(""),f(""),u([]);const t=s.find((t=>t.name===e.data));if(t){const e=await Me.Ay.getStatesOfCountry(t.isoCode);d(e)}break;case"State":f(""),v(e.data);const i=r.find((t=>t.name===e.data));if(i){const e=await Le.A.getCitiesOfState(i.countryCode,i.isoCode);u(e)}break;case"City":f(e.data)}},[L,O]=(0,n.useState)(""),q=(0,n.useMemo)((()=>c.filter((e=>e.name.toLowerCase().includes(L.toLowerCase())))),[c,L]),Y=e=>{f(e)},_=async e=>{try{const t=await(0,A.oS)(e);t&&(i((0,Ge.hX)(t.data.data.education.plus2)),i((0,B.DE)({show:!0,data:{container:{name:"success",data:"Diploma details added successfully ",dimensions:{width:"35%",height:"40%",show:"none"}},type:"custom"}})))}catch(t){}};Ye.Ik().shape({plus2:Ye.Ik().shape({instituteName:Ye.Yj().required("Institution name is required"),state:Ye.Yj().required("State is required"),country:Ye.Yj().required("Country is required"),gradingSystem:Ye.Yj().required("Grading system is required"),totalScore:Ye.gl().required("Score is required").test("valid-score","Invalid score",(function(e){const{gradingSystem:t}=this.parent;return"percentage"===t?"number"===typeof e&&e>=1&&e<=100:"GPA"===t?"number"===typeof e&&e>=1&&e<=10:"CGPA"===t?"number"===typeof e&&e>=1&&e<=6:"grade"!==t||"string"===typeof e&&["A","A+","B","B+","C","D"].includes(e)})),startDate:Ye.p6().required("Start date is required"),endDate:Ye.p6().when("isCompleted",{is:!0,then:e=>e.required("End Date is required")}).nullable()})});return(0,C.jsx)("div",{children:(0,C.jsx)(Pe.l1,{initialValues:G,enableReinitialize:!0,onSubmit:e=>_(e),children:e=>{var t,n,l;let{touched:d,errors:u,values:x,handleChange:v,resetForm:j}=e;return(0,C.jsx)(Pe.lV,{style:{},children:(0,C.jsxs)(M.Ay,{container:!0,spacing:3,sx:{px:2},children:[(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"instituteName",sx:{fontWeight:"500",color:"#000",mb:1},children:"Specialization/Subjects"}),(0,C.jsx)(De.A,{value:I,onChange:e=>z(e.target.value),placeholder:"Enter your stream name",variant:"outlined",name:"plus2.stream",size:"small",autoComplete:"off",fullWidth:!0}),(0,C.jsx)(Pe.Kw,{name:"plus2.stream",component:"div",className:"error"})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"",sx:{color:"#000",fontWeight:500},children:"Education status"}),(0,C.jsx)(Ie.A,{children:(0,C.jsxs)(ze.A,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"plus2.isCompleted",value:x.plus2.isCompleted,onChange:e=>{v({target:{name:"plus2.isCompleted",value:"true"===e.target.value}})},children:[(0,C.jsx)(Fe.A,{value:"true",control:(0,C.jsx)(Ne.A,{size:"small",sx:{"&.MuiRadio-root.Mui-checked":{color:"#3B3F76 !important"}}}),label:"Completed"}),(0,C.jsx)(Fe.A,{value:"false",control:(0,C.jsx)(Ne.A,{size:"small",sx:{"&.MuiRadio-root.Mui-checked":{color:"#3B3F76 !important"}}}),label:"Pursuing"})]})})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsxs)(we.A,{id:"instituteName",sx:{fontWeight:"500",color:"#000",mb:1},children:["Name of Institution"," "]}),(0,C.jsx)(Re.A,{id:"name",type:"text",placeholder:"Name of Institution",name:"plus2.instituteName",value:x.plus2.instituteName,onChange:v,fullWidth:!0}),(0,C.jsx)(Pe.Kw,{name:"plus2.instituteName",component:"div",className:"error"})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsxs)(we.A,{id:"",sx:{color:"#000",display:"flex",alignItems:"center"},children:["Board",(0,C.jsx)(h.A,{slotProps:{tooltip:{sx:{color:"#514E6A",backgroundColor:"#ffff",boxShadow:2,cursor:"pointer"}}},title:"A board in education is a governing body that manages an educational system or part of it",placement:"right",children:(0,C.jsx)(xe.A,{sx:{color:"#3B3F76",ml:1,cursor:"pointer",fontSize:"1rem",float:"right"}})})]}),(0,C.jsxs)(Se.A,{size:"small",id:"Country",name:"plus2.board",displayEmpty:!0,defaultValue:"",value:E,onChange:e=>W(e.target.value),fullWidth:!0,IconComponent:R.A,MenuProps:P,children:[(0,C.jsx)(Ce.A,{disabled:!0,value:"",sx:{"& .MuiTypography-root":{fontSize:"14px !important"}},children:"Select"}),Z.kD.map((e=>(0,C.jsx)(Ce.A,{value:e,sx:{"& .MuiTypography-root":{fontSize:"14px !important"},"& .MuiSvgIcon-root ":{fontSize:"1rem"},whiteSpace:"normal"},children:e},e))),!Z.kD.includes(E)&&""!==E&&(0,C.jsx)(Ce.A,{value:E,children:E},E),(0,C.jsx)(Ce.A,{sx:{fontSize:"14px !important",display:"flex",alignItems:"center",whiteSpace:"normal",color:"#1cbeb5  !important"},onClick:()=>{N(!0),i((0,B.DE)({show:!0,data:{container:{name:"customfield",data:{name:"plus2.board",fieldName:E,setFieldName:W,placeholder:"Enter your board"},dimensions:{width:"450px"}},type:"custom"}}))},children:"Can't find your board"})]}),(0,C.jsx)(Pe.Kw,{name:"plus2.board",component:"div",className:"error"})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"instituteName",sx:{fontWeight:"500",color:"#000",mb:1},children:"Grading System"}),(0,C.jsxs)(Se.A,{id:"Country",size:"small",name:"plus2.gradingSystem",displayEmpty:!0,defaultValue:"",value:b,onChange:e=>(w(e.target.value),void k("")),fullWidth:!0,IconComponent:R.A,children:[(0,C.jsx)(Ce.A,{value:"",disabled:!0,children:"Select grade"}),(0,C.jsx)(Ce.A,{value:"percentage",children:"Percentage"}),(0,C.jsx)(Ce.A,{value:"gpa",children:"CGPA    4.0 scale"}),(0,C.jsx)(Ce.A,{value:"cgpa",children:"CGPA   10.0 scale"}),(0,C.jsx)(Ce.A,{value:"grade",children:"Grade"})]}),(0,C.jsx)(Pe.Kw,{name:"plus2.gradingSystem",component:"div",className:"error"})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsxs)(we.A,{id:"instituteName",sx:{fontWeight:"500",color:"#000",mb:1},children:["Score"," "]}),"grade"===b?(0,C.jsxs)(Se.A,{size:"small",id:"totalScore",name:"plus2.totalScore",displayEmpty:!0,value:D,onChange:e=>k(e.target.value),fullWidth:!0,IconComponent:R.A,MenuProps:P,children:[(0,C.jsx)(Ce.A,{disabled:!0,value:"",children:"Select Grade"}),["A","A+","B","B+","C","C+","D","D+"].map((e=>(0,C.jsx)(Ce.A,{value:e,children:e},e)))]}):(0,C.jsx)(De.A,{name:"plus2.totalScore",size:"small",fullWidth:!0,value:D,onChange:e=>k(e.target.value),placeholder:"percentage"===b?"Enter percentage":"grade"===b?"Enter grade":"Enter score",inputProps:{step:"0.1",min:"percentage"===b||"gpa"===b||"cgpa"===b?1:void 0,max:"percentage"===b?100:"gpa"===b?4:"cgpa"===b?10:void 0,list:"grade"===b?"grades":void 0,onInput:e=>{const t=e.target,i=parseFloat(t.value);if("Grade"!==b){(i<(("percentage"===b||"gpa"===b||"cgpa"===b?1:void 0)||0)||i>(("percentage"===b?100:"gpa"===b?4:"cgpa"===b?10:void 0)||1/0))&&(t.value=i.toString().slice(0,-1))}}}}),(0,C.jsx)(Pe.Kw,{name:"plus2.totalScore",component:"div",className:"error"})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"instituteName",sx:{fontWeight:"500",color:"#000",mb:1},children:"Start Date"}),(0,C.jsx)(Ke.A,{selectedDate:null===x||void 0===x||null===(t=x.plus2)||void 0===t?void 0:t.startDate,onChange:e=>v({target:{name:"plus2.startDate",value:null===e||void 0===e?void 0:e.toISOString().slice(0,10)}}),maxDate:new Date,placeholderText:"Start Date"}),(0,C.jsx)(Pe.Kw,{name:"plus2.startDate",component:"div",className:"error"})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[x.plus2.isCompleted&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(we.A,{id:"instituteName",sx:{fontWeight:"500",color:"#000",mb:1},children:"End Date"}),(0,C.jsx)(Ke.A,{selectedDate:null===x||void 0===x||null===(n=x.plus2)||void 0===n?void 0:n.endDate,onChange:e=>v({target:{name:"plus2.endDate",value:null===e||void 0===e?void 0:e.toISOString().slice(0,10)}}),minDate:x.plus2.startDate?new Date(new Date(x.plus2.startDate).setFullYear(new Date(x.plus2.startDate).getFullYear()+1)):void 0,maxDate:x.plus2.startDate?(()=>{const e=new Date(new Date(x.plus2.startDate).setFullYear(new Date(x.plus2.startDate).getFullYear()+2));return e>new Date?new Date:e})():new Date,placeholderText:"End Date"})]}),(0,C.jsx)(Pe.Kw,{name:"plus2.endDate",component:"div",className:"error"})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"instituteName",sx:{fontWeight:"500",color:"#000",mb:1},children:"Language of instruction"}),(0,C.jsx)(Ve,{label:"Language of Instruction",name:"plus2.languageOfInstruction",options:Z.eo,value:x.plus2.languageOfInstruction,onChange:v,placeholder:"Select",searchEnabled:!0})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsxs)(we.A,{id:"",sx:{color:"#000",display:"flex",alignItems:"center"},children:["Backlogs",(0,C.jsx)(h.A,{slotProps:{tooltip:{sx:{color:"#514E6A",backgroundColor:"#ffff",boxShadow:2,cursor:"pointer"}}},title:"Backlog refers to a failed subject or exam that you have not cleared in your first attempt",placement:"right",children:(0,C.jsx)(xe.A,{sx:{color:"#3B3F76",ml:1,cursor:"pointer",fontSize:"1rem",float:"right"}})})]}),(0,C.jsx)(Ie.A,{children:(0,C.jsxs)(ze.A,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",value:a,onChange:e=>o(e.target.value),children:[(0,C.jsx)(Fe.A,{value:"yes",control:(0,C.jsx)(Ne.A,{size:"small",sx:{"&.MuiRadio-root.Mui-checked":{color:"#3B3F76 !important"}}}),label:"Yes"}),(0,C.jsx)(Fe.A,{value:"no",control:(0,C.jsx)(Ne.A,{size:"small",sx:{"&.MuiRadio-root.Mui-checked":{color:"#3B3F76 !important"}}}),label:"No"})]})})]}),"yes"===a||null!==x&&void 0!==x&&null!==(l=x.plus2)&&void 0!==l&&l.backlogs?(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"",sx:{color:"#000"},children:"Number of Backlogs"}),(0,C.jsx)(Re.A,{id:"name",type:"number",placeholder:"Number of backlogs",name:"plus2.backlogs",value:x.plus2.backlogs,onChange:v,fullWidth:!0})]}):null,(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"instituteName",sx:{fontWeight:"500",color:"#000",mb:1},children:"Country"}),(0,C.jsx)(Ve,{label:"Country",name:"plus2.country",options:s.map((e=>e.name)),value:m,onChange:e=>T({name:"Country",data:null===e||void 0===e?void 0:e.target.value}),placeholder:"Select",searchEnabled:!0})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"instituteName",sx:{fontWeight:"500",color:"#000",mb:1},children:"State/Province"}),(0,C.jsx)(Ve,{label:"State",name:"plus2.state",options:r.map((e=>e.name)),value:p,onChange:e=>T({name:"State",data:null===e||void 0===e?void 0:e.target.value}),placeholder:"Select",searchEnabled:!0})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"instituteName",sx:{fontWeight:"500",color:"#000",mb:1},children:"City/Town"}),(0,C.jsx)(Ie.A,{fullWidth:!0,children:(0,C.jsxs)(Se.A,{id:"city",name:"plus2.city",value:g,displayEmpty:!0,size:"small",defaultValue:"",onChange:e=>f(e.target.value),fullWidth:!0,IconComponent:R.A,onClose:()=>O(""),MenuProps:{PaperProps:{sx:{maxHeight:300,"&.MuiPaper-root":{boxShadow:3,borderRadius:"15px !important"}}}},children:[(0,C.jsx)(Ee.A,{children:(0,C.jsx)(De.A,{size:"small",autoFocus:!0,placeholder:"Search City...",fullWidth:!0,autoComplete:"off",value:L,onChange:e=>O(e.target.value),InputProps:{startAdornment:(0,C.jsx)(We.A,{position:"start",children:(0,C.jsx)(_e.A,{})})},onKeyDown:e=>{"Escape"!==e.key&&e.stopPropagation()}})}),(0,C.jsx)(Ce.A,{value:"",disabled:!0,children:p?"Select city":"Please select state"}),q.length>0?q.map((e=>(0,C.jsx)(Ce.A,{value:e.name,children:e.name},e.name))):p&&(0,C.jsx)(Ce.A,{disabled:!0,children:"No cities available"}),!c.some((e=>e.name===g))&&void 0!==g&&""!==g&&(0,C.jsx)(Ce.A,{value:g,children:g},g),(0,C.jsx)(Ce.A,{sx:{fontSize:"14px !important",display:"flex",alignItems:"center",whiteSpace:"normal",color:"#1cbeb5 !important"},onClick:()=>{i((0,B.DE)({show:!0,data:{container:{name:"customfield",data:{name:"plus2.city",fieldName:g,setFieldName:Y,placeholder:"Enter your city"},dimensions:{width:"450px"}},type:"custom"}}))},children:"Can't find city"})]})})]}),(0,C.jsx)(M.Ay,{item:!0,xs:12,sx:{display:"flex",justifyContent:"end",my:2,mr:10},children:(0,C.jsx)(Oe.S,{handleSubmit:()=>_,width:"100px",children:"Save"})})]})})}})})},Qe=e=>{let{data:t}=e;const i=(0,S.j)(),[a,o]=(0,n.useState)([]),[s,l]=(0,n.useState)([]),[r,d]=(0,n.useState)([]),[c,u]=(0,n.useState)((null===t||void 0===t?void 0:t.country)||"India"),[m,x]=(0,n.useState)((null===t||void 0===t?void 0:t.state)||""),[p,v]=(0,n.useState)((null===t||void 0===t?void 0:t.city)||""),g=a.find((e=>e.name===c)),f=s.find((e=>e.name===m)),[j,y]=(0,n.useState)(null===t||void 0===t?void 0:t.gradingSystem),[b,w]=(0,n.useState)(null===t||void 0===t?void 0:t.totalScore),[D,k]=(0,n.useState)(!1),[I,z]=(0,n.useState)((null===t||void 0===t?void 0:t.board)||"");(0,n.useEffect)((()=>{(async()=>{const e=await Te.A.getAllCountries();o(e)})()}),[]),(0,n.useEffect)((()=>{(async()=>{var e,t;const i=await Me.Ay.getStatesOfCountry(null===g||void 0===g?void 0:g.isoCode);l(i);const a=await Le.A.getCitiesOfState(null!==(e=null===f||void 0===f?void 0:f.countryCode)&&void 0!==e?e:"",null!==(t=null===f||void 0===f?void 0:f.isoCode)&&void 0!==t?t:"");d(a)})()}),[g,f]);const F={PaperProps:{style:{maxHeight:224,width:150}}},N={school:{instituteName:null===t||void 0===t?void 0:t.instituteName,city:p,state:m,country:c,languageOfInstruction:null===t||void 0===t?void 0:t.languageOfInstruction,gradingSystem:null===t||void 0===t?void 0:t.gradingSystem,board:I,totalScore:null===t||void 0===t?void 0:t.totalScore,startDate:null===t||void 0===t?void 0:t.startDate,endDate:null===t||void 0===t?void 0:t.endDate,isCompleted:null===t||void 0===t?void 0:t.isCompleted,custom:D}},E=async e=>{switch(e.name){case"Country":u(e.data),x(""),v(""),d([]);const t=a.find((t=>t.name===e.data));if(t){const e=await Me.Ay.getStatesOfCountry(t.isoCode);l(e)}break;case"State":v(""),x(e.data);const i=s.find((t=>t.name===e.data));if(i){const e=await Le.A.getCitiesOfState(i.countryCode,i.isoCode);d(e)}break;case"City":v(e.data)}},[W,P]=(0,n.useState)(""),G=(0,n.useMemo)((()=>r.filter((e=>e.name.toLowerCase().includes(W.toLowerCase())))),[r,W]),T=e=>{v(e)},L=async e=>{try{const t=await(0,A.oS)(e);t&&(i((0,Ge.F5)(t.data.data.education.school)),i((0,B.DE)({show:!0,data:{container:{name:"success",data:"Grade 10 details added successfully",dimensions:{width:"35%",height:"40%",show:"none"}},type:"custom"}})))}catch(t){}};return(0,C.jsx)("div",{children:(0,C.jsx)(Pe.l1,{initialValues:N,enableReinitialize:!0,onSubmit:e=>L(e),children:e=>{var t,n;let{touched:o,errors:l,values:d,handleChange:u,resetForm:x}=e;return(0,C.jsx)(Pe.lV,{style:{},children:(0,C.jsxs)(M.Ay,{container:!0,spacing:3,sx:{px:2},children:[(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsxs)(we.A,{id:"instituteName",sx:{fontWeight:"500",color:"#000",mb:1},children:["Name of Institution"," "]}),(0,C.jsx)(Re.A,{id:"name",type:"text",placeholder:"Name of Institution",name:"school.instituteName",value:d.school.instituteName,onChange:u,fullWidth:!0})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"",sx:{color:"#000",fontWeight:500},children:"Education status"}),(0,C.jsx)(Ie.A,{children:(0,C.jsxs)(ze.A,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"school.isCompleted",value:d.school.isCompleted,onChange:u,children:[(0,C.jsx)(Fe.A,{value:"yes",control:(0,C.jsx)(Ne.A,{size:"small",sx:{"&.MuiRadio-root.Mui-checked":{color:"#3B3F76 !important"}}}),label:"Completed"}),(0,C.jsx)(Fe.A,{value:"no",control:(0,C.jsx)(Ne.A,{size:"small",sx:{"&.MuiRadio-root.Mui-checked":{color:"#3B3F76 !important"}}}),label:"Pursuing"})]})})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsxs)(we.A,{id:"",sx:{color:"#000",display:"flex",alignItems:"center"},children:["Board",(0,C.jsx)(h.A,{slotProps:{tooltip:{sx:{color:"#514E6A",backgroundColor:"#ffff",boxShadow:2,cursor:"pointer"}}},title:"A board in education is a governing body that manages an educational system or part of it",placement:"right",children:(0,C.jsx)(xe.A,{sx:{color:"#3B3F76",ml:1,cursor:"pointer",fontSize:"1rem",float:"right"}})})]}),(0,C.jsxs)(Se.A,{size:"small",id:"Country",name:"school.board",displayEmpty:!0,defaultValue:"",value:I,onChange:e=>z(e.target.value),fullWidth:!0,IconComponent:R.A,MenuProps:F,children:[(0,C.jsx)(Ce.A,{disabled:!0,value:"",sx:{"& .MuiTypography-root":{fontSize:"14px !important"}},children:"Select"}),Z.kD.map((e=>(0,C.jsx)(Ce.A,{value:e,sx:{"& .MuiTypography-root":{fontSize:"14px !important"},"& .MuiSvgIcon-root ":{fontSize:"1rem"},whiteSpace:"normal"},children:e},e))),!Z.kD.includes(I)&&""!==I&&(0,C.jsx)(Ce.A,{value:I,children:I},I),(0,C.jsx)(Ce.A,{sx:{fontSize:"14px !important",display:"flex",alignItems:"center",whiteSpace:"normal",color:"#1cbeb5  !important"},onClick:()=>{k(!0),i((0,B.DE)({show:!0,data:{container:{name:"customfield",data:{name:"school.board",fieldName:I,setFieldName:z,placeholder:"Enter your board"},dimensions:{width:"450px"}},type:"custom"}}))},children:"Can't find your board"})]})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"instituteName",sx:{fontWeight:"500",color:"#000",mb:1},children:"Grading System"}),(0,C.jsxs)(Se.A,{id:"Country",size:"small",name:"school.gradingSystem",displayEmpty:!0,defaultValue:"",value:j,onChange:e=>(y(e.target.value),void w("")),fullWidth:!0,IconComponent:R.A,children:[(0,C.jsx)(Ce.A,{value:"",disabled:!0,children:"Select grade"}),(0,C.jsx)(Ce.A,{value:"percentage",children:"Percentage"}),(0,C.jsx)(Ce.A,{value:"gpa",children:"CGPA    4.0 scale"}),(0,C.jsx)(Ce.A,{value:"cgpa",children:"CGPA   10.0 scale"}),(0,C.jsx)(Ce.A,{value:"grade",children:"Grade"})]})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsxs)(we.A,{id:"instituteName",sx:{fontWeight:"500",color:"#000",mb:1},children:["Score"," "]}),"grade"===j?(0,C.jsxs)(Se.A,{size:"small",id:"totalScore",name:"school.totalScore",displayEmpty:!0,value:b,onChange:e=>w(e.target.value),fullWidth:!0,IconComponent:R.A,MenuProps:F,children:[(0,C.jsx)(Ce.A,{disabled:!0,value:"",children:"Select Grade"}),["A","A+","B","B+","C","C+","D","D+"].map((e=>(0,C.jsx)(Ce.A,{value:e,children:e},e)))]}):(0,C.jsx)(De.A,{name:"school.totalScore",size:"small",fullWidth:!0,value:b,onChange:e=>w(e.target.value),placeholder:"percentage"===j?"Enter percentage":"grade"===j?"Enter grade":"Enter score",inputProps:{step:"0.1",min:"percentage"===j||"gpa"===j||"cgpa"===j?1:void 0,max:"percentage"===j?100:"gpa"===j?4:"cgpa"===j?10:void 0,list:"grade"===j?"grades":void 0,onInput:e=>{const t=e.target,i=parseFloat(t.value);if("Grade"!==j){(i<(("percentage"===j||"gpa"===j||"cgpa"===j?1:void 0)||0)||i>(("percentage"===j?100:"gpa"===j?4:"cgpa"===j?10:void 0)||1/0))&&(t.value=i.toString().slice(0,-1))}}}})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"instituteName",sx:{fontWeight:"500",color:"#000",mb:1},children:"Language of instruction"}),(0,C.jsx)(Ve,{label:"Language of Instruction",name:"school.languageOfInstruction",options:Z.eo,value:d.school.languageOfInstruction,onChange:u,placeholder:"Select",searchEnabled:!0})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"instituteName",sx:{fontWeight:"500",color:"#000",mb:1},children:"Start Date"}),(0,C.jsx)(Ke.A,{selectedDate:null===d||void 0===d||null===(t=d.school)||void 0===t?void 0:t.startDate,onChange:e=>u({target:{name:"school.startDate",value:null===e||void 0===e?void 0:e.toISOString().slice(0,10)}}),maxDate:new Date,placeholderText:"Start Date"})]}),(0,C.jsx)(M.Ay,{item:!0,xs:12,sm:6,children:"yes"===d.school.isCompleted&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(we.A,{id:"instituteName",sx:{fontWeight:"500",color:"#000",mb:1},children:"End Date"}),(0,C.jsx)(Ke.A,{selectedDate:null===d||void 0===d||null===(n=d.school)||void 0===n?void 0:n.endDate,onChange:e=>u({target:{name:"school.endDate",value:null===e||void 0===e?void 0:e.toISOString().slice(0,10)}}),minDate:d.school.startDate?new Date(new Date(d.school.startDate).setFullYear(new Date(d.school.startDate).getFullYear()+1)):void 0,maxDate:d.school.startDate?(()=>{const e=new Date(new Date(d.school.startDate).setFullYear(new Date(d.school.startDate).getFullYear()+2));return e>new Date?new Date:e})():new Date,placeholderText:"End Date"})]})}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"instituteName",sx:{fontWeight:"500",color:"#000",mb:1},children:"Country"}),(0,C.jsx)(Ve,{label:"Country",name:"school.country",options:a.map((e=>e.name)),value:c,onChange:e=>E({name:"Country",data:null===e||void 0===e?void 0:e.target.value}),placeholder:"Select",searchEnabled:!0})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"instituteName",sx:{fontWeight:"500",color:"#000",mb:1},children:"State/Province"}),(0,C.jsx)(Ve,{label:"State",name:"school.state",options:s.map((e=>e.name)),value:m,onChange:e=>E({name:"State",data:null===e||void 0===e?void 0:e.target.value}),placeholder:"Select",searchEnabled:!0})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"instituteName",sx:{fontWeight:"500",color:"#000",mb:1},children:"City/Town"}),(0,C.jsx)(Ie.A,{fullWidth:!0,children:(0,C.jsxs)(Se.A,{id:"city",name:"school.city",value:p,displayEmpty:!0,size:"small",defaultValue:"",onChange:e=>v(e.target.value),fullWidth:!0,IconComponent:R.A,onClose:()=>P(""),MenuProps:{PaperProps:{sx:{maxHeight:300,"&.MuiPaper-root":{boxShadow:3,borderRadius:"15px !important"}}}},children:[(0,C.jsx)(Ee.A,{children:(0,C.jsx)(De.A,{size:"small",autoFocus:!0,placeholder:"Search City...",fullWidth:!0,autoComplete:"off",value:W,onChange:e=>P(e.target.value),InputProps:{startAdornment:(0,C.jsx)(We.A,{position:"start",children:(0,C.jsx)(_e.A,{})})},onKeyDown:e=>{"Escape"!==e.key&&e.stopPropagation()}})}),(0,C.jsx)(Ce.A,{value:"",disabled:!0,children:m?"Select city":"Please select state"}),G.length>0?G.map((e=>(0,C.jsx)(Ce.A,{value:e.name,children:e.name},e.name))):m&&(0,C.jsx)(Ce.A,{disabled:!0,children:"No cities available"}),!r.some((e=>e.name===p))&&void 0!==p&&""!==p&&(0,C.jsx)(Ce.A,{value:p,children:p},p),(0,C.jsx)(Ce.A,{sx:{fontSize:"14px !important",display:"flex",alignItems:"center",whiteSpace:"normal",color:"#1cbeb5 !important"},onClick:()=>{i((0,B.DE)({show:!0,data:{container:{name:"customfield",data:{name:"school.city",fieldName:p,setFieldName:T,placeholder:"Enter your city"},dimensions:{width:"450px"}},type:"custom"}}))},children:"Can't find city"})]})})]}),(0,C.jsx)(M.Ay,{item:!0,xs:12,sx:{display:"flex",justifyContent:"end",my:2,mr:10},children:(0,C.jsx)(Oe.S,{handleSubmit:()=>L,width:"100px",children:"Save"})})]})})}})})},Je=e=>{var t;let{data:i}=e;const o=(0,S.j)(),[s,l]=(0,n.useState)(),[r,d]=(0,n.useState)([]),[c,u]=(0,n.useState)([]),[m,x]=(0,n.useState)([]),[v,g]=(0,n.useState)([]),[j,y]=(0,n.useState)((null===i||void 0===i?void 0:i.instituteName)||""),[b,w]=(0,n.useState)(null!==i&&void 0!==i&&i.affiliatedUniversity?[i.affiliatedUniversity]:[]),[D,k]=(0,n.useState)((null===i||void 0===i?void 0:i.affiliatedUniversity)||""),[I,z]=(0,n.useState)((null===i||void 0===i?void 0:i.specialization)||""),[F,N]=(0,n.useState)(null!==i&&void 0!==i&&i.degreeProgram?null===i||void 0===i?void 0:i.degreeProgram:""),[E,W]=(0,n.useState)(!1),[P,T]=(0,n.useState)(""),[L,O]=(0,n.useState)(null===i||void 0===i?void 0:i.gradingSystem),[q,Y]=(0,n.useState)(null===i||void 0===i?void 0:i.totalScore),_=(0,S.G)((e=>e.profile)),[V,U]=(0,n.useState)(null===_||void 0===_||null===(t=_.data)||void 0===t?void 0:t.IEH),[H,Q]=(0,n.useState)(!1),[J,X]=(0,n.useState)(!1),[$,ee]=(0,n.useState)((null===i||void 0===i?void 0:i.country)||"India"),[te,ie]=(0,n.useState)(null===i||void 0===i?void 0:i.state),[ae,ne]=(0,n.useState)(null===i||void 0===i?void 0:i.city),[oe,se]=(0,n.useState)(!1),[le,re]=(0,n.useState)(""),de=r.find((e=>e.name===$)),ce=c.find((e=>e.name===te));(0,n.useEffect)((()=>{(async()=>{const e=await Te.A.getAllCountries();d(e)})()}),[]);const ue=Ye.Ik().shape({postGraduation:Ye.Ik().shape({})});(0,n.useEffect)((()=>{(async()=>{var e,t;const i=await Me.Ay.getStatesOfCountry(null===de||void 0===de?void 0:de.isoCode);u(i);const a=await Le.A.getCitiesOfState(null!==(e=null===ce||void 0===ce?void 0:ce.countryCode)&&void 0!==e?e:"",null!==(t=null===ce||void 0===ce?void 0:ce.isoCode)&&void 0!==t?t:"");x(a)})()}),[de,ce]);const me=e=>{const t=e.target.value;re(t),y(t)};(0,n.useEffect)((()=>{le.length>3?(se(!0),Q(!0),(0,A.nw)(le,1,10,1,0,0,0,0).then((e=>{var t;g((null===(t=e.data)||void 0===t?void 0:t.institutions)||[]),se(!1)})).catch((e=>{console.error("Error fetching institutions:",e),se(!1)}))):(g([]),Q(!1))}),[le]);const[pe,he]=(0,n.useState)(!1),ve={PaperProps:{style:{maxHeight:224,width:150}}},ge={postGraduation:{instituteName:j,city:ae,state:te,country:$,specialization:I,degreeProgram:F,gradingSystem:L,affiliatedUniversity:D,totalScore:q,startDate:null===i||void 0===i?void 0:i.startDate,endDate:null===i||void 0===i?void 0:i.endDate,backlogs:null===i||void 0===i?void 0:i.backlogs,isCompleted:null===i||void 0===i?void 0:i.isCompleted,custom:pe}},[fe,je]=(0,n.useState)([]);(0,n.useEffect)((()=>{const e=Z.bh[0][null===i||void 0===i?void 0:i.degreeProgram]||[];je(e)}),[null===i||void 0===i?void 0:i.degreeProgram]);const ye=e=>{var t;"Other"===e?(y(""),W(!1),re(""),he(!0),o((0,B.DE)({show:!0,data:{container:{name:"customfield",data:{name:"postGraduation.institutionName",fieldName:j,setFieldName:y,placeholder:"Enter your institution name"},dimensions:{width:"450px"}},type:"custom"}}))):(y(null===e||void 0===e?void 0:e.InstitutionName),w((null===e||void 0===e?void 0:e.university)||[]),W(null===e||void 0===e||null===(t=e.IEH)||void 0===t?void 0:t.exists),T(null===e||void 0===e?void 0:e._id),k(""),re(""))},[Ae,be]=(0,n.useState)(""),Ue=(0,n.useMemo)((()=>m.filter((e=>e.name.toLowerCase().includes(Ae.toLowerCase())))),[m,Ae]),He=async e=>{switch(e.name){case"Country":ee(e.data),ie(""),ne(""),x([]);const t=r.find((t=>t.name===e.data));if(t){const e=await Me.Ay.getStatesOfCountry(t.isoCode);u(e)}break;case"State":ne(""),ie(e.data);const i=c.find((t=>t.name===e.data));if(i){const e=await Le.A.getCitiesOfState(i.countryCode,i.isoCode);x(e)}break;case"City":ne(e.data)}},Qe=async e=>{try{X(!0);const t=await(0,A.oS)(e);t&&(o((0,Ge.dy)(t.data.data.education.postGraduation)),o((0,B.DE)({show:!0,data:{container:{name:"success",data:"Post graduate Details are added succesfully",dimensions:{width:"35%",height:"40%",show:"none"}},type:"custom"}}))),X(!1)}catch(t){X(!1)}};return(0,C.jsx)("div",{children:(0,C.jsx)(Pe.l1,{initialValues:ge,validationSchema:ue,enableReinitialize:!0,onSubmit:e=>Qe(e),children:e=>{var t,i;let{touched:n,errors:d,values:u,handleChange:x,setFieldValue:A}=e;return(0,C.jsx)(Pe.lV,{style:{},children:(0,C.jsxs)(M.Ay,{container:!0,spacing:3,sx:{px:2},children:[(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"instituteName",sx:{fontWeight:"500",color:"#000",mb:1},children:"Degree Name"}),(0,C.jsxs)(Se.A,{size:"small",id:"Country",name:"postGraduation.degreeProgram",displayEmpty:!0,defaultValue:"",value:F,onChange:e=>{((e,t)=>{const i=e.target.value,a=Z.bh[0][i]||[];je(a),t("postGraduation.programMajor","")})(e,A),N(e.target.value)},fullWidth:!0,sx:{"& .Mui-error .MuiOutlinedInput-notchedOutline":{borderColor:"red !important"}},MenuProps:ve,IconComponent:R.A,children:[(0,C.jsx)(Ce.A,{disabled:!0,value:"",sx:{"& .MuiTypography-root":{fontSize:"14px !important"}},children:"Select"}),Object.keys(Z.bh[0]).map((e=>(0,C.jsx)(Ce.A,{value:e,sx:{"& .MuiTypography-root":{fontSize:"14px !important"},"& .MuiSvgIcon-root ":{fontSize:"1rem"},whiteSpace:"normal"},children:e},e))),!Object.keys(Z.bh[0]).includes(F)&&""!==F&&(0,C.jsx)(Ce.A,{value:F,children:F},F),(0,C.jsx)(Ce.A,{sx:{fontSize:"14px !important",display:"flex",alignItems:"center",whiteSpace:"normal",color:"#1cbeb5  !important"},onClick:()=>{he(!0),o((0,B.DE)({show:!0,data:{container:{name:"customfield",data:{name:"postGraduation.degreeProgram",fieldName:F,setFieldName:N,placeholder:"Enter your degree name"},dimensions:{width:"450px"}},type:"custom"}}))},children:"Can't find your degree"})]})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"instituteName",sx:{fontWeight:"500",color:"#000",mb:1},children:"Specialization"}),(0,C.jsxs)(Se.A,{size:"small",id:"Country",name:"postGraduation.specialization",displayEmpty:!0,defaultValue:"",value:I,onChange:e=>z(e.target.value),fullWidth:!0,sx:{"& .Mui-error .MuiOutlinedInput-notchedOutline":{borderColor:"red !important"}},MenuProps:ve,IconComponent:R.A,children:[(0,C.jsx)(Ce.A,{disabled:!0,value:"",sx:{"& .MuiTypography-root":{fontSize:"14px !important"}},children:"Select"}),null===fe||void 0===fe?void 0:fe.map((e=>(0,C.jsx)(Ce.A,{value:e,sx:{"& .MuiTypography-root":{fontSize:"14px !important"},"& .MuiSvgIcon-root ":{fontSize:"1rem"},whiteSpace:"normal"},children:e},e))),!fe.includes(I)&&""!==I&&(0,C.jsx)(Ce.A,{value:I,children:I},I),(0,C.jsx)(Ce.A,{sx:{fontSize:"14px !important",display:"flex",alignItems:"center",whiteSpace:"normal",color:"#1cbeb5  !important"},onClick:()=>{he(!0),o((0,B.DE)({show:!0,data:{container:{name:"customfield",data:{name:"postGraduation.specialization",fieldName:I,setFieldName:z,placeholder:"Enter your specialization"},dimensions:{width:"450px"}},type:"custom"}}))},children:"Can't find your specialization"})]}),(0,C.jsx)(Pe.Kw,{name:"postGraduation.specialization",component:"div",className:"error"})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"instituteName",sx:{fontWeight:"500",color:"#000",mb:1},children:"Name of Institution"}),(0,C.jsxs)(a.A,{sx:{width:"100%",position:"relative"},children:[(0,C.jsx)(De.A,{value:j,onChange:me,placeholder:"Search for an institution",variant:"outlined",name:"postGraduation.instituteName",size:"small",autoComplete:"off",fullWidth:!0,InputProps:{endAdornment:(0,C.jsxs)(C.Fragment,{children:[oe&&(0,C.jsx)(ke.A,{color:"inherit",size:20}),j&&(0,C.jsx)(Be.A,{sx:{cursor:"pointer"},onClick:()=>{y(""),g([]),re(""),Q(!1)}})]})}}),oe||v.length>0||H&&0===v.length?(0,C.jsxs)(a.A,{sx:{position:"absolute",zIndex:1,backgroundColor:"#fff",boxShadow:1,maxHeight:"200px",overflowY:"auto",width:"100%"},children:[v.map(((e,t)=>{var i;return(0,C.jsxs)(Ce.A,{sx:{fontSize:"14px !important",display:"flex",alignItems:"center",whiteSpace:"normal"},onClick:()=>ye(e),children:[null===e||void 0===e?void 0:e.InstitutionName,(null===e||void 0===e||null===(i=e.IEH)||void 0===i?void 0:i.exists)&&(0,C.jsx)(qe.A,{sx:{fontSize:"1.1rem",color:"orange"}}),(null===e||void 0===e?void 0:e.District)&&", ".concat(null===e||void 0===e?void 0:e.District)]},t)})),!oe&&H&&(0,C.jsx)(Ce.A,{sx:{fontSize:"14px !important",display:"flex",whiteSpace:"normal",color:"#1cbeb5  !important"},onClick:()=>ye("Other"),children:"Can't find institution"})]}):null]}),(0,C.jsx)(Pe.Kw,{name:"postGraduation.instituteName",component:"div",className:"error"})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"affiliatedUniversity",sx:{fontWeight:"500",color:"#000",mb:1},children:"Affiliated University"}),(0,C.jsxs)(Se.A,{size:"small",id:"affiliatedUniversity",name:"postGraduation.affiliatedUniversity",displayEmpty:!0,value:D,onChange:e=>k(e.target.value),fullWidth:!0,IconComponent:R.A,children:[(0,C.jsx)(Ce.A,{disabled:!0,value:"",children:"Select University"}),b.map((e=>(0,C.jsx)(Ce.A,{value:e,children:e},e))),!b.includes(D)&&""!==I&&(0,C.jsx)(Ce.A,{value:D,children:D},D),(0,C.jsx)(Ce.A,{sx:{fontSize:"14px !important",display:"flex",alignItems:"center",whiteSpace:"normal",color:"#1cbeb5  !important"},onClick:()=>{he(!0),o((0,B.DE)({show:!0,data:{container:{name:"customfield",data:{name:"postGraduation.affiliatedUniversity",fieldName:D,setFieldName:k,placeholder:"Enter your university"},dimensions:{width:"450px"}},type:"custom"}}))},children:"Can't find university"})]}),(0,C.jsx)(Pe.Kw,{name:"postGraduation.affiliatedUniversity",component:"div",className:"error"})]}),E?(0,C.jsxs)(M.Ay,{item:!0,xs:12,sx:{display:"flex",gap:"1rem",alignItems:"center"},children:[(0,C.jsxs)(p.A,{children:["This college is a member of ",(0,C.jsx)("b",{style:{color:"#3b3f76"},children:"IEH"})," . You need to verify to get benefits."]}),"Verification Request Initiated"===(null===V||void 0===V?void 0:V.verificationStatus)?"":(0,C.jsx)(K.A,{sx:G.Q4,onClick:()=>o((0,B.DE)({show:!0,data:{container:{name:"ieh",data:{id:P,setIEHStatus:U},dimensions:{width:"450px"}},type:"custom"}})),children:"Verify"})]}):"","Verification Request Initiated"===(null===V||void 0===V?void 0:V.verificationStatus)?(0,C.jsx)(M.Ay,{item:!0,xs:12,children:(0,C.jsx)(p.A,{children:"Your IEH verification request is initiated"})}):"",(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"instituteName",sx:{fontWeight:"500",color:"#000",mb:1},children:"Grading System"}),(0,C.jsxs)(Se.A,{id:"grading-system",size:"small",name:"gradingSystem",displayEmpty:!0,defaultValue:"",value:L,onChange:e=>(O(e.target.value),void Y("")),fullWidth:!0,IconComponent:R.A,children:[(0,C.jsx)(Ce.A,{value:"",disabled:!0,children:"Select grade"}),(0,C.jsx)(Ce.A,{value:"percentage",children:"Percentage"}),(0,C.jsx)(Ce.A,{value:"gpa",children:"CGPA    4.0 scale"}),(0,C.jsx)(Ce.A,{value:"cgpa",children:"CGPA   10.0 scale"}),(0,C.jsx)(Ce.A,{value:"grade",children:"Grade"})]}),(0,C.jsx)(Pe.Kw,{name:"postGraduation.gradingSystem",component:"div",className:"error"})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsxs)(we.A,{id:"instituteName",sx:{fontWeight:"500",color:"#000",mb:1},children:["Score"," "]}),"grade"===L?(0,C.jsxs)(Se.A,{size:"small",id:"totalScore",name:"postGraduation.totalScore",displayEmpty:!0,value:q,onChange:e=>Y(e.target.value),fullWidth:!0,IconComponent:R.A,MenuProps:ve,children:[(0,C.jsx)(Ce.A,{disabled:!0,value:"",children:"Select Grade"}),["A","A+","B","B+","C","C+","D","D+"].map((e=>(0,C.jsx)(Ce.A,{value:e,children:e},e)))]}):(0,C.jsx)(De.A,{name:"postGraduation.totalScore",size:"small",fullWidth:!0,value:q,onChange:e=>Y(e.target.value),placeholder:"percentage"===L?"Enter percentage":"grade"===L?"Enter grade":"Enter score",inputProps:{step:"0.1",min:"percentage"===L||"gpa"===L||"cgpa"===L?1:void 0,max:"percentage"===L?100:"gpa"===L?4:"cgpa"===L?10:void 0,list:"grade"===L?"grades":void 0,onInput:e=>{const t=e.target,i=parseFloat(t.value);if("Grade"!==L){(i<(("percentage"===L||"gpa"===L||"cgpa"===L?1:void 0)||0)||i>(("percentage"===L?100:"gpa"===L?4:"cgpa"===L?10:void 0)||1/0))&&(t.value=i.toString().slice(0,-1))}}}}),(0,C.jsx)(Pe.Kw,{name:"postGraduation.totalScore",component:"div",className:"error"})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"",sx:{color:"#000",fontWeight:500},children:"Education status"}),(0,C.jsx)(Ie.A,{children:(0,C.jsxs)(ze.A,{row:!0,"aria-labelledby":"education-status",name:"postGraduation.isCompleted",value:u.postGraduation.isCompleted,onChange:e=>{x({target:{name:"postGraduation.isCompleted",value:"true"===e.target.value}})},children:[(0,C.jsx)(Fe.A,{value:"true",control:(0,C.jsx)(Ne.A,{size:"small",sx:{"&.MuiRadio-root.Mui-checked":{color:"#3B3F76 !important"}}}),label:"Completed"}),(0,C.jsx)(Fe.A,{value:"false",control:(0,C.jsx)(Ne.A,{size:"small",sx:{"&.MuiRadio-root.Mui-checked":{color:"#3B3F76 !important"}}}),label:"Pursuing"})]})})]}),(0,C.jsx)(M.Ay,{item:!0,xs:12,sm:6}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"instituteName",sx:{fontWeight:"500",color:"#000",mb:1},children:"Start Date"}),(0,C.jsx)(Ke.A,{selectedDate:null===u||void 0===u||null===(t=u.postGraduation)||void 0===t?void 0:t.startDate,onChange:e=>x({target:{name:"postGraduation.startDate",value:null===e||void 0===e?void 0:e.toISOString().slice(0,10)}}),maxDate:new Date,placeholderText:"Start Date"}),(0,C.jsx)(Pe.Kw,{name:"postGraduation.startDate",component:"div",className:"error"})]}),(0,C.jsx)(M.Ay,{item:!0,xs:12,sm:6,children:u.postGraduation.isCompleted&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(we.A,{sx:{fontWeight:"500",color:"#000",mb:1},children:"End Date"}),(0,C.jsx)(Ke.A,{selectedDate:null===u||void 0===u||null===(i=u.postGraduation)||void 0===i?void 0:i.endDate,onChange:e=>x({target:{name:"postGraduation.endDate",value:null===e||void 0===e?void 0:e.toISOString().slice(0,10)}}),minDate:u.postGraduation.startDate?new Date(new Date(u.postGraduation.startDate).setFullYear(new Date(u.postGraduation.startDate).getFullYear()+1)):void 0,maxDate:u.postGraduation.startDate?(()=>{const e=new Date(new Date(u.postGraduation.startDate).setFullYear(new Date(u.postGraduation.startDate).getFullYear()+3));return e>new Date?new Date:e})():new Date,placeholderText:"End Date"}),(0,C.jsx)(Pe.Kw,{name:"postGraduation.endDate",component:"div",className:"error"})]})}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsxs)(we.A,{id:"",sx:{color:"#000",display:"flex",alignItems:"center"},children:["Backlogs",(0,C.jsx)(h.A,{slotProps:{tooltip:{sx:{color:"#514E6A",backgroundColor:"#ffff",boxShadow:2,cursor:"pointer"}}},title:"Backlog refers to a failed subject or exam that you have not cleared in your first attempt",placement:"right",children:(0,C.jsx)(xe.A,{sx:{color:"#3B3F76",ml:1,cursor:"pointer",fontSize:"1rem",float:"right"}})})]}),(0,C.jsx)(Ie.A,{children:(0,C.jsxs)(ze.A,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",value:s,onChange:e=>l(e.target.value),children:[(0,C.jsx)(Fe.A,{value:"yes",control:(0,C.jsx)(Ne.A,{size:"small",sx:{"&.MuiRadio-root.Mui-checked":{color:"#3B3F76 !important"}}}),label:"Yes"}),(0,C.jsx)(Fe.A,{value:"no",control:(0,C.jsx)(Ne.A,{size:"small",sx:{"&.MuiRadio-root.Mui-checked":{color:"#3B3F76 !important"}}}),label:"No"})]})})]}),(0,C.jsx)(M.Ay,{item:!0,xs:12,sm:6,children:"yes"===s||u.postGraduation.backlogs?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(we.A,{id:"",sx:{color:"#000"},children:"Number of Backlogs"}),(0,C.jsx)(Re.A,{id:"name",type:"number",placeholder:"Number of backlogs",name:"postGraduation.backlogs",value:u.postGraduation.backlogs,onChange:x,fullWidth:!0})]}):null}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"instituteName",sx:{fontWeight:"500",color:"#000",mb:1},children:"Country"}),(0,C.jsx)(Ve,{label:"Country",name:"postGraduation.country",options:r.map((e=>e.name)),value:$,onChange:e=>He({name:"Country",data:null===e||void 0===e?void 0:e.target.value}),placeholder:"Select",searchEnabled:!0})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"instituteName",sx:{fontWeight:"500",color:"#000",mb:1},children:"State/Province"}),(0,C.jsx)(Ve,{label:"State",name:"postGraduation.state",options:c.map((e=>e.name)),value:te,onChange:e=>He({name:"State",data:null===e||void 0===e?void 0:e.target.value}),placeholder:"Select",searchEnabled:!0})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"instituteName",sx:{fontWeight:"500",color:"#000",mb:1},children:"City/Town"}),(0,C.jsx)(Ie.A,{fullWidth:!0,children:(0,C.jsxs)(Se.A,{id:"city",name:"postGraduation.city",value:ae,displayEmpty:!0,size:"small",defaultValue:"",onChange:e=>ne(e.target.value),fullWidth:!0,IconComponent:R.A,onClose:()=>be(""),MenuProps:{PaperProps:{sx:{maxHeight:300,"&.MuiPaper-root":{boxShadow:3,borderRadius:"15px !important"}}}},children:[(0,C.jsx)(Ee.A,{children:(0,C.jsx)(De.A,{size:"small",autoFocus:!0,placeholder:"Search City...",fullWidth:!0,autoComplete:"off",value:Ae,onChange:e=>be(e.target.value),InputProps:{startAdornment:(0,C.jsx)(We.A,{position:"start",children:(0,C.jsx)(_e.A,{})})},onKeyDown:e=>{"Escape"!==e.key&&e.stopPropagation()}})}),(0,C.jsx)(Ce.A,{value:"",disabled:!0,children:te?"Select city":"Please select state"}),Ue.length>0?Ue.map((e=>(0,C.jsx)(Ce.A,{value:e.name,children:e.name},e.name))):te&&(0,C.jsx)(Ce.A,{disabled:!0,children:"No cities available"}),!m.some((e=>e.name===ae))&&void 0!==ae&&""!==ae&&(0,C.jsx)(Ce.A,{value:ae,children:ae},ae),(0,C.jsx)(Ce.A,{sx:{fontSize:"14px !important",display:"flex",alignItems:"center",whiteSpace:"normal",color:"#1cbeb5 !important"},onClick:()=>{o((0,B.DE)({show:!0,data:{container:{name:"customfield",data:{name:"postGraduation.city",fieldName:ae,setFieldName:ne,placeholder:"Enter your city"},dimensions:{width:"450px"}},type:"custom"}}))},children:"Can't find city"})]})})]}),(0,C.jsx)(M.Ay,{item:!0,xs:12,sx:{display:"flex",justifyContent:"end",my:2,mr:10},children:(0,C.jsx)(Oe.S,{handleSubmit:()=>Qe,width:"100px",children:J?(0,C.jsx)("img",{src:f.A.standardLoader,alt:"load",style:{width:"1rem",height:"1rem"}}):"Save"})})]})})}})})},Ze=()=>{const e=(0,S.G)((e=>e.educationhistory)),t=[{title:"Masters",component:(0,C.jsx)(Je,{data:e.data.postGraduation})},{title:"Under Graduation",component:(0,C.jsx)(Ue,{data:e.data.underGraduation})},{title:"Diploma / Grade 12 ",component:(0,C.jsx)(He,{data:e.data.plus2})},{title:"Grade 10",component:(0,C.jsx)(Qe,{data:e.data.school})}];return(0,C.jsxs)(a.A,{sx:{background:"#fff",borderRadius:"10px",height:"80vh",overflowY:"scroll",px:3},children:[(0,C.jsx)(p.A,{fontSize:"1rem",gutterBottom:!0,color:"#3b3f76",sx:{m:1,fontWeight:"500"},children:"Enter your current and last education details"}),null===t||void 0===t?void 0:t.map((e=>(0,C.jsx)(Q,{title:e.title,children:e.component})))]})};var Xe=i(64730),$e=i(68137),et=i(17022);const tt=()=>{var e;const t=(0,S.j)(),i=(0,S.G)((e=>e.testscores)),[o,s]=(0,n.useState)(!1),[l,r]=(0,n.useState)(null),[d,c]=(0,n.useState)({}),u=(0,n.useRef)({}),m=Object.values(Xe.Vz),x=null===(e=i.data)||void 0===e?void 0:e.filter((e=>m.includes(e.name)));return(0,C.jsxs)("div",{children:[(0,C.jsx)(M.Ay,{container:!0,spacing:2,sx:{mb:2},children:null===x||void 0===x?void 0:x.map(((e,o)=>{var l,m,x;return u.current[e._id]||(u.current[e._id]=n.createRef()),(0,C.jsx)(M.Ay,{item:!0,xs:12,sm:6,lg:4,children:(0,C.jsxs)(a.A,{sx:{boxShadow:"0px 0px 8px 0px #0000001A",p:2,mt:2,borderRadius:"15px"},children:[(0,C.jsxs)(L.A,{direction:"row",justifyContent:"space-between",children:[(0,C.jsx)(p.A,{sx:{position:"relative",width:"1rem",height:"1rem",borderRadius:"50%",background:"#72D4D1"},children:(0,C.jsx)(p.A,{fontWeight:"500",sx:{position:"absolute",top:"-4px",left:"8px",width:"200px"},children:Object.keys(Xe.Vz).find((t=>Xe.Vz[t]===e.name))})}),(0,C.jsx)(a.A,{sx:{display:"flex",gap:"0.5rem"},children:null!==e&&void 0!==e&&e.docId?(0,C.jsxs)(L.A,{direction:"row",spacing:2,sx:{alignItems:"center",marginRight:"10px"},children:[(0,C.jsx)(p.A,{children:null===e||void 0===e||null===(l=e.docId)||void 0===l||null===(m=l.data)||void 0===m?void 0:m.originalname}),(0,C.jsx)(O.A,{sx:{fontSize:"large",cursor:"pointer"},onClick:()=>{var i,a;t((0,B.DE)({show:!0,data:{container:{name:"fileViewer",data:null===e||void 0===e||null===(i=e.docId)||void 0===i||null===(a=i.data)||void 0===a?void 0:a.preview_url,dimensions:{width:"500px"}},type:"custom"}}))}})]}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("input",{style:{display:"none"},type:"file",className:"",name:"docId",onChange:a=>(async(e,a,n)=>{const o=e.target.files&&e.target.files[0];if(o){c((e=>({...e,[n]:!0})));try{const e=new FormData;e.append("uploaded_file",o),e.append("fieldPath",a),e.append("fileIdentifier","general".concat(o.name));const s=await(0,A.Lb)(e);if(s){t((0,J.FT)(s.data.data.docs));const e=s.data.data.docs.test.general.at(-1),a={...n,docId:e._id},o=i.data.map((e=>e._id===a._id?a:e));console.log(o,a);const l=await(0,A.oS)({tests:o});l&&t((0,$e.ox)(l.data.data.tests))}}catch(s){console.error(s)}finally{c((e=>({...e,[n]:!1})))}}})(a,"test.general",e),ref:u.current[e._id],accept:".pdf,.jpeg,.png"}),(0,C.jsx)(K.A,{sx:{color:"#000",textTransform:"none",border:"1px solid #000",borderRadius:"15px",fontSize:"0.7rem",p:0,mr:3},onClick:()=>{var t,i;return null===(t=u.current[e._id])||void 0===t||null===(i=t.current)||void 0===i?void 0:i.click()},children:d[e._id]?(0,C.jsx)(a.A,{component:"img",src:f.A.standardLoader,alt:"standardLoader",sx:{width:"1rem",height:"1rem"}}):"Upload"})]})})]}),(0,C.jsxs)(M.Ay,{container:!0,spacing:1,children:[null===e||void 0===e||null===(x=e.scores)||void 0===x?void 0:x.map(((e,t)=>(0,C.jsx)(M.Ay,{item:!0,xs:12,sx:{textAlign:"center"},children:(0,C.jsxs)(M.Ay,{container:!0,children:[(0,C.jsx)(M.Ay,{item:!0,xs:8,children:(0,C.jsx)(p.A,{sx:{fontSize:{xs:"13px",sm:"16px"},textAlign:"start",color:"#00000080"},children:null===e||void 0===e?void 0:e.description})}),(0,C.jsx)(M.Ay,{item:!0,xs:3,children:(0,C.jsxs)(p.A,{fontWeight:"500",children:[null===e||void 0===e?void 0:e.count," "]})})]})},t))),(0,C.jsx)(M.Ay,{item:!0,xs:12,children:(0,C.jsxs)(M.Ay,{container:!0,children:[(0,C.jsx)(M.Ay,{item:!0,xs:9,children:(0,C.jsx)(p.A,{sx:{fontSize:{xs:"13px",sm:"16px"},textAlign:"start",color:"#00000080"},children:"Took test on"})}),(0,C.jsx)(M.Ay,{item:!0,xs:3,children:(0,C.jsx)(p.A,{fontWeight:"500",children:null!==e&&void 0!==e&&e.testDate?new Date(null===e||void 0===e?void 0:e.testDate).toLocaleString("en-GB",{month:"short",year:"numeric"}):"N/A"})})]})}),(0,C.jsx)(M.Ay,{item:!0,xs:12,children:(0,C.jsxs)(M.Ay,{container:!0,children:[(0,C.jsx)(M.Ay,{item:!0,xs:9}),(0,C.jsxs)(M.Ay,{item:!0,xs:3,sx:{display:"flex",gap:"0.5rem"},children:[(0,C.jsx)(et.A,{sx:{fontSize:"large",cursor:"pointer"},onClick:()=>t((0,B.DE)({show:!0,data:{container:{name:"edittest",data:{data:e,name:"test.general"},dimensions:{width:"800px",height:"50%"}},type:"custom"}}))}),(0,C.jsx)("img",{src:f.A.delete,alt:"del",style:{width:"20px",cursor:"pointer"},onClick:()=>(e=>{s(!0),r(e)})(e)})]})]})})]})]})},o)}))}),(0,C.jsx)($.A,{open:o,handleClose:()=>s(!1),additionalData:{onSubmit:()=>(async e=>{var a;const n=null===i||void 0===i||null===(a=i.data)||void 0===a?void 0:a.filter((t=>(null===t||void 0===t?void 0:t._id)!==e._id)),o=await(0,A.oS)({tests:n});o&&t((0,$e.ox)(o.data.data.tests)),s(!1)})(l),title:"Are you sure you want to delete ?",content:""}})]})},it=()=>{var e;const t=(0,S.j)(),i=(0,S.G)((e=>e.testscores)),[o,s]=(0,n.useState)(!1),[l,r]=(0,n.useState)(null),[d,c]=(0,n.useState)({}),u=(0,n.useRef)({}),m=Object.values(Xe.uE),x=null===(e=i.data)||void 0===e?void 0:e.filter((e=>m.includes(e.name)));return(0,C.jsxs)("div",{children:[(0,C.jsx)(M.Ay,{container:!0,spacing:2,children:null===x||void 0===x?void 0:x.map((e=>{var o,l,m;return u.current[e._id]||(u.current[e._id]=n.createRef()),(0,C.jsx)(M.Ay,{item:!0,xs:12,sm:6,lg:4,children:(0,C.jsxs)(a.A,{sx:{boxShadow:"0px 0px 8px 0px #0000001A",p:2,mt:2,borderRadius:"15px"},children:[(0,C.jsxs)(L.A,{direction:"row",justifyContent:"space-between",children:[(0,C.jsx)(p.A,{sx:{position:"relative",width:"1rem",height:"1rem",borderRadius:"50%",background:"#72D4D1"},children:(0,C.jsx)(p.A,{fontWeight:"500",sx:{position:"absolute",top:"-4px",left:"8px",width:"200px"},children:Object.keys(Xe.uE).find((t=>Xe.uE[t]===e.name))})}),(0,C.jsx)(a.A,{sx:{display:"flex",gap:"0.5rem"},children:null!==e&&void 0!==e&&e.docId?(0,C.jsxs)(L.A,{direction:"row",spacing:2,sx:{alignItems:"center",marginRight:"10px"},children:[(0,C.jsx)(p.A,{children:null===e||void 0===e||null===(o=e.docId)||void 0===o||null===(l=o.data)||void 0===l?void 0:l.FileName}),(0,C.jsx)(O.A,{sx:{fontSize:"large",cursor:"pointer"},onClick:()=>{var i,a;t((0,B.DE)({show:!0,data:{container:{name:"fileViewer",data:null===e||void 0===e||null===(i=e.docId)||void 0===i||null===(a=i.data)||void 0===a?void 0:a.preview_url,dimensions:{width:"500px"}},type:"custom"}}))}})]}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("input",{style:{display:"none"},type:"file",name:"docId",onChange:a=>(async(e,a,n)=>{const o=e.target.files&&e.target.files[0];if(o){c((e=>({...e,[n]:!0})));try{const e=new FormData;e.append("uploaded_file",o),e.append("fieldPath",a),e.append("fileIdentifier","langPro".concat(o.name));const s=await(0,A.Lb)(e);if(s){t((0,J.FT)(s.data.data.docs));const e=s.data.data.docs.test.languageProf.at(-1),a={...n,docId:e._id},o=null===i||void 0===i?void 0:i.data.map((e=>e._id===a._id?a:e)),l=await(0,A.oS)({tests:o});l&&t((0,$e.ox)(l.data.data.tests))}else c((e=>({...e,[n]:!1})))}catch(s){console.error(s),c((e=>({...e,[n]:!1})))}finally{c((e=>({...e,[n]:!1})))}}})(a,"test.languageProf",e),ref:u.current[e._id],accept:".pdf,.jpeg,.png"}),(0,C.jsx)(K.A,{sx:{color:"#000",textTransform:"none",border:"1px solid #000",borderRadius:"15px",fontSize:"0.7rem",p:0,mr:3},onClick:()=>{var t,i;return null===(t=u.current[e._id])||void 0===t||null===(i=t.current)||void 0===i?void 0:i.click()},children:d[e._id]?(0,C.jsx)(a.A,{component:"img",src:f.A.standardLoader,alt:"standardLoader",sx:{width:"1rem",height:"1rem"}}):"Upload"})]})})]}),(0,C.jsxs)(M.Ay,{container:!0,spacing:1,children:[null===e||void 0===e||null===(m=e.scores)||void 0===m?void 0:m.map(((e,t)=>(0,C.jsx)(M.Ay,{item:!0,xs:12,sx:{textAlign:"center"},children:(0,C.jsxs)(M.Ay,{container:!0,children:[(0,C.jsx)(M.Ay,{item:!0,xs:8,children:(0,C.jsx)(p.A,{sx:{fontSize:{xs:"13px",sm:"16px"},textAlign:"start",color:"#00000080"},children:null===e||void 0===e?void 0:e.description})}),(0,C.jsx)(M.Ay,{item:!0,xs:3,children:(0,C.jsxs)(p.A,{fontWeight:"500",children:[null===e||void 0===e?void 0:e.count," "]})})]})},t))),(0,C.jsx)(M.Ay,{item:!0,xs:12,children:(0,C.jsxs)(M.Ay,{container:!0,children:[(0,C.jsx)(M.Ay,{item:!0,xs:9,children:(0,C.jsx)(p.A,{sx:{fontSize:{xs:"13px",sm:"16px"},textAlign:"start",color:"#00000080"},children:"Took test on"})}),(0,C.jsx)(M.Ay,{item:!0,xs:3,children:(0,C.jsx)(p.A,{fontWeight:"500",children:null!==e&&void 0!==e&&e.testDate?new Date(null===e||void 0===e?void 0:e.testDate).toLocaleString("en-GB",{month:"short",year:"numeric"}):"N/A"})})]})}),(0,C.jsx)(M.Ay,{item:!0,xs:12,children:(0,C.jsxs)(M.Ay,{container:!0,children:[(0,C.jsx)(M.Ay,{item:!0,xs:9}),(0,C.jsx)(M.Ay,{item:!0,xs:3,children:(0,C.jsxs)(a.A,{sx:{display:"flex",gap:"0.5rem"},children:[(0,C.jsx)(et.A,{sx:{fontSize:"large",cursor:"pointer"},onClick:()=>t((0,B.DE)({show:!0,data:{container:{name:"edittest",data:{data:e,name:"test.languageProf"},dimensions:{width:"800px",height:"50%"}},type:"custom"}}))}),(0,C.jsx)("img",{src:f.A.delete,alt:"del",style:{width:"20px",cursor:"pointer"},onClick:()=>(e=>{s(!0),r(e)})(e)})]})})]})})]})]})},e._id)}))}),(0,C.jsx)($.A,{open:o,handleClose:()=>s(!1),additionalData:{onSubmit:()=>(async e=>{var a;const n=null===i||void 0===i||null===(a=i.data)||void 0===a?void 0:a.filter((t=>(null===t||void 0===t?void 0:t._id)!==e._id)),o=await(0,A.oS)({tests:n});o&&t((0,$e.ox)(o.data.data.tests)),s(!1)})(l),title:"Are you sure you want to delete ?",content:""}})]})},at=()=>{var e,t;const i=(0,S.G)((e=>e.testscores)),o=Object.values(Xe.uE),s=Object.values(Xe.Vz),[l,r]=(0,n.useState)(""),[d,c]=(0,n.useState)(""),u=(0,S.G)((e=>e.sharedInfo)),m=(0,S.j)(),x=null===(e=i.data)||void 0===e?void 0:e.filter((e=>s.includes(e.name))),h=null===(t=i.data)||void 0===t?void 0:t.filter((e=>o.includes(e.name))),[v,g]=(0,n.useState)((()=>{var e,t;return(null===h||void 0===h?void 0:h.length)>0?"Yes":!0===(null===(e=u.data)||void 0===e?void 0:e.isPlanningToTakeLanguageTest)?"Planning to take":!1===(null===(t=u.data)||void 0===t?void 0:t.isPlanningToTakeLanguageTest)?"Not planning to take":""})),[f,j]=(0,n.useState)((()=>{var e,t;return(null===x||void 0===x?void 0:x.length)>0?"Yes":!0===(null===(e=u.data)||void 0===e?void 0:e.isPlanningToTakeAcademicTest)?"Planning to take":!1===(null===(t=u.data)||void 0===t?void 0:t.isPlanningToTakeAcademicTest)?"Not planning to take":""})),y=async e=>{switch(e.name){case"englishTest":r(e.data),m((0,B.DE)({show:!0,data:{container:{name:"testscores",data:e.data,dimensions:{width:"800px",height:"57%"}},type:"custom"}})),r("");break;case"academicTest":c(e.data),m((0,B.DE)({show:!0,data:{container:{name:"testscores",data:e.data,dimensions:{width:"800px",height:"57%"}},type:"custom"}})),c("");break;case"englishTestSelection":if(g(e.data),"Planning to take"===e.data||"Not planning to take"===e.data)try{const t=await(0,A.oS)({isPlanningToTakeLanguageTest:Boolean("Planning to take"===e.data?"Yes":"No")});m((0,b.q5)({...u.data,isPlanningToTakeLanguageTest:t.data.data.isPlanningToTakeLanguageTest}))}catch(t){console.error("Error in API Call:",t)}break;case"academicTestSelection":if(j(e.data),"Planning to take"===e.data||"Not planning to take"===e.data){console.log("Planning to take"===e.data?"Yes":"No");try{const t=await(0,A.oS)({isPlanningToTakeAcademicTest:Boolean("Planning to take"===e.data?"Yes":"No")});m((0,b.q5)({...u.data,isPlanningToTakeAcademicTest:t.data.data.isPlanningToTakeAcademicTest}))}catch(t){console.error("Error in API Call:",t)}}}};return(0,C.jsxs)(L.A,{spacing:2,sx:{px:3,"&. MuiButtonBase-root-MuiRadio-root.Mui-checked":{color:"green"}},children:["No"===v?(0,C.jsxs)(a.A,{children:[(0,C.jsx)(we.A,{sx:{color:"#000",fontWeight:500},children:"English marks in class 12"}),(0,C.jsx)(De.A,{type:"number",onChange:()=>{},size:"small"})]}):null,(0,C.jsxs)(L.A,{direction:"column",spacing:2,children:[(0,C.jsxs)(a.A,{sx:{position:"relative"},children:[(0,C.jsx)(a.A,{sx:{position:"absolute",top:6,left:8,right:0,bottom:0,zIndex:0,borderRadius:"15px",background:"#D1D3F9",width:"100%",height:"100%",transform:"translate(0px, -2px)"}}),(0,C.jsxs)(a.A,{sx:{position:"relative",background:"#F4F4FF",p:1,borderRadius:"10px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,C.jsxs)(a.A,{sx:{mt:1},children:[(0,C.jsx)(p.A,{sx:{position:"relative",width:"1rem",height:"1rem",borderRadius:"50%",background:"#FEA89B"},children:(0,C.jsx)(p.A,{sx:{position:"absolute",top:"-4px",left:"8px",width:"500px",color:"#000",fontWeight:500},children:"Have you taken any English Proficiency Test?"})}),(0,C.jsx)(Ie.A,{children:(0,C.jsx)(ze.A,{row:!0,name:"englishTest",value:v,onChange:e=>y({name:"englishTestSelection",data:e.target.value}),children:["Yes","Planning to take","Not planning to take"].map((e=>(0,C.jsx)(Fe.A,{value:e,control:(0,C.jsx)(Ne.A,{}),label:e},e)))})})]}),"Yes"===v&&(null===h||void 0===h?void 0:h.length)!==(null===o||void 0===o?void 0:o.length)&&(0,C.jsx)(a.A,{sx:{borderRadius:"10px",p:2},children:(0,C.jsxs)(Se.A,{displayEmpty:!0,value:l,size:"small",onChange:e=>y({name:"englishTest",data:e.target.value}),sx:{border:"1px solid #1C1F4066 !important",borderRadius:"25px",width:"150px"},children:[(0,C.jsx)(Ce.A,{value:"",children:"Select a test"}),Object.entries(Xe.uE).map((e=>{let[t,i]=e;const a=null===h||void 0===h?void 0:h.some((e=>e.name===i));return(0,C.jsx)(Ce.A,{value:i,disabled:a,children:t},t)}))]})})]})]}),"Yes"===v?(0,C.jsx)(it,{}):null,(0,C.jsxs)(a.A,{children:[(0,C.jsxs)(a.A,{sx:{position:"relative"},children:[(0,C.jsx)(a.A,{sx:{position:"absolute",top:6,left:8,right:0,bottom:0,zIndex:0,borderRadius:"15px",background:"#D1D3F9",width:"100%",height:"100%",transform:"translate(0px, -2px)"}}),(0,C.jsxs)(a.A,{sx:{position:"relative",background:"#F4F4FF",p:1,borderRadius:"10px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,C.jsxs)(a.A,{sx:{mt:1},children:[(0,C.jsx)(p.A,{sx:{position:"relative",width:"1rem",height:"1rem",borderRadius:"50%",background:"#FEA89B"},children:(0,C.jsx)(p.A,{sx:{position:"absolute",top:"-4px",left:"8px",width:"500px",color:"#000",fontWeight:500},children:"Have you taken GRE/GMAT Test?"})}),(0,C.jsx)(Ie.A,{children:(0,C.jsx)(ze.A,{row:!0,name:"greTest",value:f,onChange:e=>y({name:"academicTestSelection",data:e.target.value}),children:["Yes","Planning to take","Not planning to take"].map((e=>(0,C.jsx)(Fe.A,{value:e,control:(0,C.jsx)(Ne.A,{}),label:e},e)))})})]}),"Yes"===f&&(null===x||void 0===x?void 0:x.length)!==(null===s||void 0===s?void 0:s.length)&&(0,C.jsx)(a.A,{sx:{p:2,borderRadius:"10px"},children:(0,C.jsxs)(Se.A,{displayEmpty:!0,defaultValue:"",size:"small",value:d,onChange:e=>y({name:"academicTest",data:e.target.value}),sx:{border:"1px solid #1C1F4066 !important",borderRadius:"25px",width:"150px"},children:[(0,C.jsx)(Ce.A,{value:"",children:"Select a test"}),Object.entries(Xe.Vz).map((e=>{let[t,i]=e;const a=null===x||void 0===x?void 0:x.some((e=>e.name===i));return(0,C.jsx)(Ce.A,{value:i,disabled:a,children:t},t)}))]})})]})]}),"Yes"===f?(0,C.jsx)(tt,{}):null]})]})]})};var nt=i(68266),ot=i(15100),st=i(31802),lt=i(39232),rt=i(50550),dt=i(58987),ct=i(18723);const ut=()=>{var e,t,i,o,s,l,r,d,c,u,m,x,h,v,g;const j=(0,S.G)((e=>e.preferences)),y=(0,S.j)(),[b,w]=(0,n.useState)(!1),[D,k]=(0,n.useState)(null!==(e=j.data)&&void 0!==e&&e.intake?null===(t=j.data)||void 0===t?void 0:t.intake:""),I=new Date(D),[z,F]=(0,n.useState)(null!==(i=j.data)&&void 0!==i&&i.intake?I.getFullYear():""),[N,E]=(0,n.useState)(null!==(o=j.data)&&void 0!==o&&o.intake?I.getMonth():""),[W,P]=(0,n.useState)((null===j||void 0===j||null===(s=j.data)||void 0===s?void 0:s.courses)||[]),[G,T]=(0,n.useState)((null===j||void 0===j||null===(l=j.data)||void 0===l?void 0:l.country)||[]),[O,q]=(0,n.useState)((null===j||void 0===j||null===(r=j.data)||void 0===r||null===(d=r.budget)||void 0===d?void 0:d.lower)||0),[Y,_]=(0,n.useState)((null===j||void 0===j||null===(c=j.data)||void 0===c||null===(u=c.budget)||void 0===u?void 0:u.upper)||5e6),[V,U]=(0,n.useState)(null===j||void 0===j||null===(m=j.data)||void 0===m?void 0:m.currency),H=(0,S.G)((e=>e.advisor)),Q=(null===H||void 0===H||null===(x=H.data)||void 0===x?void 0:x.flatMap((e=>e.assignedCountries)))||[],J=null===j||void 0===j||null===(h=j.data)||void 0===h||null===(v=h.country)||void 0===v?void 0:v.filter((e=>!Q.includes(e))),X=(Ye.Ik().shape({preference:Ye.Ik().shape({intake:Ye.Yj().required("Intake is required"),budget:Ye.Ik().shape({lower:Ye.ai().required("Lower budget is required"),upper:Ye.ai().min(Ye.KR("lower"),"Upper budget must be greater than lower budget").required("Upper budget is required")}),degree:Ye.Yj().required("Degree is required"),country:Ye.YO().of(Ye.Yj()).min(1,"At least one country is required"),courses:Ye.YO().of(Ye.Yj()).min(1,"At least one course is required"),currency:Ye.Yj().required("Currency is required")})}),{PaperProps:{style:{maxHeight:224,width:150}}}),$=Z.zA.map((e=>{const[t,i]=e.split("-");return{label:e,value:i}})),ee=async e=>{var t;switch(e.name){case"OptionChange":U(null===(t=e.data.newValue)||void 0===t?void 0:t.value);break;case"sliderChange":Array.isArray(e.data.newValue)&&(q(e.data.newValue[0]),_(e.data.newValue[1]));break;case"countryChange":T(e.data.newValue);break;case"courseChange":P(e.data.newValue)}};(0,n.useEffect)((()=>{void 0!==N&&void 0!==z&&k(Z.dF[N]+"-"+z)}),[N,z]);const te={preference:{intake:D,budget:{upper:Y,lower:O},degree:null===j||void 0===j||null===(g=j.data)||void 0===g?void 0:g.degree,country:G,courses:W,currency:V}};return(0,C.jsx)(a.A,{sx:{px:{lg:3}},children:(0,C.jsx)(Pe.l1,{initialValues:te,enableReinitialize:!0,onSubmit:e=>(async e=>{w(!0);try{const t=await(0,A.oS)(e);t&&(y((0,lt.xX)(t.data.data.preference)),y((0,B.DE)({show:!0,data:{container:{name:"success",data:"Preferences updated ",dimensions:{width:"30%",height:"40%",show:"none"}},type:"custom"}})),w(!1))}catch(t){w(!1)}})(e),children:e=>{var t,i,n,o,s,l,r,d,c,u,m,x,h,v,g,j;let{touched:w,errors:S,values:D,handleChange:k,setFieldValue:I}=e;return(0,C.jsx)(Pe.lV,{className:"mt-5",children:(0,C.jsxs)(M.Ay,{container:!0,spacing:4,sx:{width:"100% !important"},children:[(0,C.jsxs)(M.Ay,{item:!0,xs:12,md:6,sx:{display:"flex",flexDirection:"column"},children:[(0,C.jsx)(p.A,{fontWeight:"500",gutterBottom:!0,sx:{},children:"What program would you like to pursue?"}),(0,C.jsx)(ot.A,{multiple:!0,id:"subdisciplines",sx:{"& .MuiOutlinedInput-root .MuiAutocomplete-input":{padding:"5px"},width:"100%"},limitTags:2,size:"small",options:Z.Sy,getOptionLabel:e=>e,value:W,filterSelectedOptions:!0,ListboxProps:{style:{maxHeight:"180px",overflowY:"auto"}},onChange:(e,t)=>ee({name:"courseChange",data:{event:e,newValue:t}}),renderInput:e=>(0,C.jsx)(De.A,{...e,placeholder:"Search programs",variant:"outlined",InputProps:{...e.InputProps}})}),null!==(t=w.preference)&&void 0!==t&&t.courses&&null!==(i=S.preference)&&void 0!==i&&i.courses?(0,C.jsx)("div",{className:"error",children:S.preference.courses}):null]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,md:6,sx:{display:"flex",flexDirection:"column"},children:[(0,C.jsx)(p.A,{fontWeight:"500",gutterBottom:!0,sx:{},children:"What are your preferred study destinations?"}),(0,C.jsx)(ot.A,{multiple:!0,id:"autocomplete",sx:{"& .MuiOutlinedInput-root .MuiAutocomplete-input":{padding:"5px"},width:"100%"},limitTags:2,size:"small",options:Z.HH,getOptionLabel:e=>e,value:G,filterSelectedOptions:!0,ListboxProps:{style:{maxHeight:"180px",overflowY:"auto"}},onChange:(e,t)=>ee({name:"countryChange",data:{event:e,newValue:t}}),renderInput:e=>(0,C.jsx)(De.A,{...e,placeholder:"Search country",variant:"outlined",InputProps:{...e.InputProps}})}),null!==(n=w.preference)&&void 0!==n&&n.country&&null!==(o=S.preference)&&void 0!==o&&o.country?(0,C.jsx)("div",{className:"error",children:S.preference.country}):null,null===J||void 0===J?void 0:J.map(((e,t)=>(0,C.jsx)(M.Ay,{item:!0,xs:12,children:(0,C.jsx)(a.A,{sx:{py:1,display:"flex",gap:"1rem",alignItems:"center"},children:(0,C.jsxs)(K.A,{onClick:()=>(async e=>{try{var t;const i=await(0,A.id)({country:e}),a=i.data.data.advisor,n=null===H||void 0===H||null===(t=H.data)||void 0===t?void 0:t.find((e=>e._id===a._id));y(n?(0,dt.UN)(a):(0,dt.S6)(a)),null!==i.data.data.chat&&y((0,ct.Nl)(i.data.data.chat))}catch(i){console.error(i)}})(e),sx:{border:"1px solid #3B3F76CC",borderRadius:"15px",p:.5,textTransform:"none",color:"#3B3F76CC"},children:["Request advisor for ",e]})})},t)))]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,md:6,sx:{display:"flex",flexDirection:"column"},children:[(0,C.jsx)(p.A,{fontWeight:"500",gutterBottom:!0,sx:{},children:"Which degree program do you prefer?"}),(0,C.jsxs)(Ie.A,{size:"small",children:[(0,C.jsx)(we.A,{id:"degree",children:"Select Degree"}),(0,C.jsx)(Se.A,{labelId:"degree",id:"degree",size:"small",name:"preference.degree",MenuProps:X,value:D.preference.degree,label:"Select Degree",onChange:k,children:Z.DP.map(((e,t)=>(0,C.jsx)(Ce.A,{value:e,children:e},t)))}),null!==(s=w.preference)&&void 0!==s&&s.degree&&null!==(l=S.preference)&&void 0!==l&&l.degree?(0,C.jsx)("div",{className:"error",children:S.preference.degree}):null]})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,md:6,children:[(0,C.jsx)(p.A,{fontWeight:"500",gutterBottom:!0,sx:{},children:"When would you like to begin your studies?"}),(0,C.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[(0,C.jsxs)(Se.A,{labelId:"degree",id:"degree",size:"small",MenuProps:X,value:z,onChange:e=>F(e.target.value),defaultValue:"",displayEmpty:!0,children:[(0,C.jsx)(Ce.A,{value:"",disabled:!0,children:"Select Year"}),["2025","2026","2027","2028","2029","2030"].map(((e,t)=>(0,C.jsx)(Ce.A,{value:e,children:e},t)))]}),(0,C.jsxs)(Se.A,{labelId:"degree",id:"degree",size:"small",MenuProps:X,value:N,onChange:e=>E(e.target.value),defaultValue:"",displayEmpty:!0,children:[(0,C.jsx)(Ce.A,{value:"",disabled:!0,children:"Select Month"}),Z.dF.map(((e,t)=>(0,C.jsx)(Ce.A,{value:t,children:e},t)))]})]})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,md:6,children:[(0,C.jsx)(p.A,{fontWeight:"500",gutterBottom:!0,sx:{mb:.5},children:"What is your estimated budget range for your studies?"}),(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(L.A,{direction:"row",spacing:1,sx:{mt:1},children:[(0,C.jsx)(De.A,{name:"minBudget",label:"Min Budget",type:"number",size:"small",value:O,onChange:e=>q(Number(e.target.value)),InputProps:{sx:{"input[type=number]":{"-moz-appearance":"textfield","-webkit-appearance":"none",margin:0},"input[type=number]::-webkit-outer-spin-button, input[type=number]::-webkit-inner-spin-button":{"-webkit-appearance":"none"}},startAdornment:(0,C.jsx)(We.A,{position:"start",children:D.preference.currency})}}),(0,C.jsx)(De.A,{name:"maxBudget",label:"Max Budget",type:"number",size:"small",value:Y,onChange:e=>_(Number(e.target.value)),InputProps:{sx:{"input[type=number]":{"-moz-appearance":"textfield","-webkit-appearance":"none",margin:0},"input[type=number]::-webkit-outer-spin-button, input[type=number]::-webkit-inner-spin-button":{"-webkit-appearance":"none"}},startAdornment:(0,C.jsx)(We.A,{position:"start",children:D.preference.currency})}})]}),(0,C.jsx)(st.Ay,{value:[O,Y],onChange:(e,t)=>ee({name:"sliderChange",data:{event:e,newValue:t}}),min:0,max:5e6,step:1,valueLabelDisplay:"auto",sx:{mt:2,width:{xs:"100%",md:"50%"},color:"#979a9d",height:"2px"}}),null!==(r=w.preference)&&void 0!==r&&null!==(d=r.budget)&&void 0!==d&&d.lower&&null!==(c=S.preference)&&void 0!==c&&null!==(u=c.budget)&&void 0!==u&&u.lower?(0,C.jsx)("div",{className:"error",children:S.preference.budget.lower}):null,null!==(m=w.preference)&&void 0!==m&&null!==(x=m.budget)&&void 0!==x&&x.upper&&null!==(h=S.preference)&&void 0!==h&&null!==(v=h.budget)&&void 0!==v&&v.upper?(0,C.jsx)("div",{className:"error",children:S.preference.budget.upper}):null]})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,md:6,children:[(0,C.jsx)(we.A,{id:"degree",sx:{fontWeight:"500",color:"#000",mb:.5},children:"Preferred currency?"}),(0,C.jsx)(ot.A,{sx:{marginTop:"9px",width:"100%","& .MuiInputBase-input":{fontSize:"14px !important"},"&.MuiAutocomplete-listbox":{width:"400px"},"&.MuiAutocomplete-listbox .MuiAutocomplete-option ":{fontSize:"14px !important"},"& .MuiOutlinedInput-root":{paddingRight:"0 !important"}},options:$,getOptionLabel:e=>null===e||void 0===e?void 0:e.label,value:$.find((e=>e.value===V))||null,onChange:(e,t)=>ee({name:"OptionChange",data:{event:e,newValue:t}}),renderInput:e=>(0,C.jsx)(De.A,{...e,placeholder:"Search currency",size:"small",InputProps:{...e.InputProps,type:"search",endAdornment:(0,C.jsx)(R.A,{sx:{color:"gray",marginRight:"5px"}}),style:{fontSize:"14px !important",color:"#000 !important"}}})}),null!==(g=w.preference)&&void 0!==g&&g.currency&&null!==(j=S.preference)&&void 0!==j&&j.currency?(0,C.jsx)("div",{className:"error",children:String(S.preference.currency)}):null]}),(0,C.jsx)(M.Ay,{item:!0,xs:12,sx:{justifyContent:"end",display:"flex"},children:(0,C.jsx)(Oe.S,{width:"100px",handleSubmit:()=>console.log("first"),children:b?(0,C.jsx)("img",{src:f.A.standardLoader,alt:"load",style:{width:"1rem"}}):"Save"})})]})})}})})},mt=()=>{const e=(0,S.G)((e=>e.skills)),t=(0,S.j)(),[i,o]=(0,n.useState)(e.data),[s,l]=(0,n.useState)(!1);return(0,C.jsxs)("div",{children:[(0,C.jsx)(p.A,{sx:{fontSize:"1.25rem",fontWeight:"500",color:"rgba(48, 51, 99, 0.5)"},children:"Skills"}),(0,C.jsx)(ot.A,{multiple:!0,id:"autocomplete",sx:{"& .MuiOutlinedInput-root .MuiAutocomplete-input":{padding:"5px"},width:{lg:"50%"},"& .MuiTextField-root":{marginTop:"8px"},mb:1},disableClearable:!0,size:"small",fullWidth:!0,options:Z.$q,getOptionLabel:e=>e,value:i,filterSelectedOptions:!0,ListboxProps:{style:{maxHeight:"180px",overflowY:"auto"}},onChange:(e,t)=>{o(t)},renderInput:e=>(0,C.jsx)(De.A,{...e,placeholder:"Ex: Problem-Solving",variant:"outlined",InputProps:{...e.InputProps,type:"search",endAdornment:null}})}),(0,C.jsx)(a.A,{sx:{justifyContent:"end",display:"flex",mr:{lg:10}},children:(0,C.jsxs)(K.A,{type:"submit",onClick:async()=>{l(!0);const e=await(0,A.oS)({skills:i});e?(t((0,rt.pA)(e.data.data.skills)),t((0,B.DE)({show:!0,data:{container:{name:"success",data:"Skills added successfully",dimensions:{width:"30%",height:"40%",show:"none"}},type:"custom"}})),l(!1)):l(!1)},sx:[G.zr,{width:"100px"}],children:[s?(0,C.jsx)("img",{src:f.A.standardLoader,alt:"load",style:{width:"1rem"}}):"Save","        "]})})]})},xt={PaperProps:{style:{maxHeight:224,width:150}}},pt=Ye.Ik().shape({activity:Ye.Yj().required("Activity is required"),description:Ye.Yj().required("Description is required"),startDate:Ye.p6().required("Start Date is required"),endDate:Ye.p6().nullable().when("status",{is:"completed",then:e=>e.required("End Date is required").min(Ye.KR("startDate"),"End Date cannot be earlier than Start Date"),otherwise:e=>e.nullable()}),status:Ye.Yj().required("Status is required")}),ht=Ye.YO().of(pt),vt=()=>{var e;const t=(0,S.j)(),[i,o]=(0,n.useState)(!1),s=(0,S.G)((e=>e.extracurriculum)),l={extraCurriculumActivities:null!==(e=s.data)&&void 0!==e&&e.length?s.data:[{activity:"",description:"",designation:"",startDate:"",endDate:"",status:""}]},r=["Dance","Online Certification","Paper Publication","Project","Research","Student Government","Academic Teams and Clubs","The Debate Team Students","Internships"],d=async e=>{if(!i)try{o(!0);const i=await(0,A.oS)({extraCurriculumActivities:e.extraCurriculumActivities});i&&(t((0,nt.MP)(i.data.extraCurriculumActivities)),t((0,B.DE)({show:!0,data:{container:{name:"success",data:"Extra curricular activities added successfully",dimensions:{width:"40%",height:"40%",show:"none"}},type:"custom"}}))),o(!1)}catch(a){o(!1)}};return(0,C.jsxs)(a.A,{sx:{overflowY:"scroll",px:3},children:[(0,C.jsx)(a.A,{sx:{px:2},children:(0,C.jsx)(mt,{})}),(0,C.jsxs)(a.A,{sx:{},children:[(0,C.jsx)(p.A,{sx:{fontSize:"1.25rem",fontWeight:"500",mb:1,color:"rgba(48, 51, 99, 0.5)",px:2},children:"Activities"}),(0,C.jsx)(Pe.l1,{initialValues:l,validationSchema:Ye.Ik().shape({extraCurriculumActivities:ht}),onSubmit:(e,t)=>{let{setSubmitting:i}=t;d(e),i(!1)},children:e=>{let{values:t,handleChange:n,handleBlur:o,isValid:s,dirty:l}=e;return(0,C.jsx)(Pe.lV,{children:(0,C.jsx)(Pe.ED,{name:"extraCurriculumActivities",children:e=>{let{push:s,remove:l}=e;return(0,C.jsxs)(C.Fragment,{children:[t.extraCurriculumActivities.map(((e,i)=>(0,C.jsx)("div",{className:"mb-5",children:(0,C.jsxs)(M.Ay,{container:!0,spacing:4,sx:{px:2},children:[(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"",sx:{color:"#000",fontWeight:500},children:"Activity"}),(0,C.jsxs)(Ie.A,{fullWidth:!0,variant:"outlined",size:"small",sx:{mt:1},children:[(0,C.jsxs)(Pe.D0,{as:Se.A,size:"small",name:"extraCurriculumActivities.".concat(i,".activity"),value:e.activity,onBlur:o,onChange:n,fullWidth:!0,displayEmpty:!0,IconComponent:R.A,MenuProps:xt,children:[(0,C.jsx)(Ce.A,{disabled:!0,value:"",children:"Select activity"}),r.map((e=>(0,C.jsx)(Ce.A,{value:e,children:e},e)))]}),(0,C.jsx)(Pe.Kw,{name:"extraCurriculumActivities.".concat(i,".activity"),component:"div",className:"error"})]})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"",sx:{color:"#000",fontWeight:500,mb:1},children:"Designation"}),(0,C.jsx)(Pe.D0,{as:De.A,size:"small",name:"extraCurriculumActivities.".concat(i,".designation"),placeholder:"Designation",value:e.designation,onBlur:o,onChange:n,fullWidth:!0}),(0,C.jsx)(Pe.Kw,{name:"extraCurriculumActivities.".concat(i,".designation"),component:"div",className:"error"})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"",sx:{color:"#000",fontWeight:500},children:"Active status"}),(0,C.jsxs)(Pe.D0,{as:ze.A,row:!0,name:"extraCurriculumActivities.".concat(i,".status"),value:e.status,onBlur:o,onChange:n,children:[(0,C.jsx)(Fe.A,{value:"completed",control:(0,C.jsx)(Ne.A,{size:"small"}),label:"Completed"}),(0,C.jsx)(Fe.A,{value:"ongoing",control:(0,C.jsx)(Ne.A,{size:"small"}),label:"Ongoing"})]}),(0,C.jsx)(Pe.Kw,{name:"extraCurriculumActivities.".concat(i,".status"),component:"div",className:"error"})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"",sx:{color:"#000",fontWeight:500,mb:1},children:"Description"}),(0,C.jsx)(Pe.D0,{as:De.A,size:"small",name:"extraCurriculumActivities.".concat(i,".description"),placeholder:"Description",value:e.description,onBlur:o,onChange:n,fullWidth:!0}),(0,C.jsx)(Pe.Kw,{name:"extraCurriculumActivities.".concat(i,".description"),component:"div",className:"error"})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"",sx:{color:"#000",fontWeight:500,mb:1},children:"Attended from"}),(0,C.jsx)(Ke.A,{selectedDate:null===e||void 0===e?void 0:e.startDate,onChange:e=>n({target:{name:"extraCurriculumActivities.".concat(i,".startDate"),value:null===e||void 0===e?void 0:e.toISOString().slice(0,10)}}),maxDate:new Date,placeholderText:"Start Date"}),(0,C.jsx)(Pe.Kw,{name:"extraCurriculumActivities.".concat(i,".startDate"),component:"div",className:"error"})]}),(0,C.jsx)(M.Ay,{item:!0,xs:12,sm:6,children:"completed"===e.status&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(we.A,{id:"",sx:{color:"#000",fontWeight:500},children:"Attended to"}),(0,C.jsx)(Ke.A,{selectedDate:null===e||void 0===e?void 0:e.endDate,onChange:e=>n({target:{name:"extraCurriculumActivities.".concat(i,".endDate"),value:null===e||void 0===e?void 0:e.toISOString().slice(0,10)}}),minDate:e.startDate?new Date(new Date(null===e||void 0===e?void 0:e.startDate).getTime()+864e6):void 0,maxDate:new Date,placeholderText:"End Date"}),(0,C.jsx)(Pe.Kw,{name:"extraCurriculumActivities.".concat(i,".endDate"),component:"div",className:"error"})]})}),t.extraCurriculumActivities.length>1&&(0,C.jsx)(M.Ay,{item:!0,xs:12,children:(0,C.jsx)(a.A,{sx:{display:"flex",justifyContent:"end"},children:(0,C.jsx)("img",{src:f.A.deleteIcon,alt:"delete",style:{width:"1.5rem"},onClick:()=>l(i)})})})]})},i))),(0,C.jsxs)(L.A,{direction:"row",sx:{mt:5,mb:1,display:"flex",justifyContent:"end",mr:10},spacing:2,children:[(0,C.jsx)(K.A,{onClick:()=>s({activity:"",description:"",designation:"",startDate:"",endDate:"",status:""}),sx:G.zr,children:"Add new"}),(0,C.jsx)(Oe.S,{width:"100px",handleSubmit:()=>d,children:i?(0,C.jsx)("img",{src:f.A.standardLoader,alt:"load",style:{width:"1rem",height:"1rem",padding:"4px"}}):"Save"})]})]})}})})}})]})]})};var gt=i(57900),ft=i(17195),jt=i.n(ft),yt=(i(15935),i(64018));const At=Ye.Ik({familyDetails:Ye.YO().of(Ye.Ik({GuardianFirstName:Ye.Yj().required("First name is required"),GuardianLastName:Ye.Yj().required("Last name is required"),GuardianOccupation:Ye.Yj().required("Occupation is required"),RelationshipWithStudent:Ye.Yj().required("Relationship is required"),GuardianContactNumber:Ye.Ik({number:Ye.Yj().required("Phone number is required").test("is-valid-phone","Invalid phone number",(function(e){const{countryCode:t}=this.parent;if(!t||!e)return!1;try{const i=(0,yt.l)("".concat(t).concat(e),t);return null===i||void 0===i?void 0:i.isValid()}catch(i){return!1}})),countryCode:Ye.Yj().required("Country code is required")}).required("Phone number is required")})).required("Must have family members").min(1,"Minimum of 1 family member is required")}),bt=()=>{var e;const t=(0,S.G)((e=>e.familyInfo)),i=(0,S.j)(),[o,s]=(0,n.useState)(!1),l={familyDetails:(null===(e=t.data)||void 0===e?void 0:e.length)>0?t.data:[{GuardianFirstName:"",GuardianLastName:"",GuardianEmail:"",GuardianOccupation:"",GuardianQualification:"",RelationshipWithStudent:"",GuardianContactNumber:{number:"",countryCode:""}}]};return(0,C.jsx)(a.A,{sx:{overflowY:"scroll",px:3},children:(0,C.jsx)(Pe.l1,{initialValues:l,validationSchema:At,onSubmit:async e=>{let t={familyDetails:e.familyDetails};try{s(!0);const e=await(0,A.oS)(t);e&&(i((0,gt.N9)(e.data.data.familyDetails)),i((0,B.DE)({show:!0,data:{container:{name:"success",data:"Family details added successfully",dimensions:{width:"30%",height:"40%",show:"none"}},type:"custom"}}))),s(!1)}catch(a){s(!1)}},children:e=>{let{values:t,handleChange:i,handleBlur:n,handleSubmit:s,setFieldValue:l}=e;return(0,C.jsx)("form",{onSubmit:s,children:(0,C.jsx)(Pe.ED,{name:"familyDetails",children:e=>{let{push:r,remove:d}=e;return(0,C.jsxs)("div",{children:[t.familyDetails.map(((e,o)=>(0,C.jsx)("div",{className:"mb-5",children:(0,C.jsxs)(M.Ay,{container:!0,spacing:4,sx:{px:2},children:[(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsxs)(Ie.A,{fullWidth:!0,variant:"outlined",size:"small",sx:{mt:1},children:[(0,C.jsx)(we.A,{id:"family",children:"Select Relation"}),(0,C.jsxs)(Se.A,{size:"small",id:"family",name:"familyDetails.".concat(o,".RelationshipWithStudent"),value:e.RelationshipWithStudent,onChange:i,fullWidth:!0,IconComponent:R.A,label:"Select Relation",children:[(0,C.jsx)(Ce.A,{disabled:!0,value:"",children:"Select"}),[{name:"Father",value:"father"},{name:"Mother",value:"mother"},{name:"Spouse",value:"spouse"},{name:"Guardian",value:"guardian"}].map((e=>(0,C.jsx)(Ce.A,{value:e.value,children:e.name},e.value)))]})]}),(0,C.jsx)(Pe.Kw,{name:"familyDetails.".concat(o,".RelationshipWithStudent"),component:"div",className:"error"})]}),(0,C.jsx)(M.Ay,{xs:12,sm:6}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(Pe.D0,{as:De.A,size:"small",name:"familyDetails.".concat(o,".GuardianFirstName"),placeholder:"First Name",value:e.GuardianFirstName,onChange:i,onBlur:n,fullWidth:!0,label:"First Name"}),(0,C.jsx)(Pe.Kw,{name:"familyDetails.".concat(o,".GuardianFirstName"),component:"div",className:"error"})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(Pe.D0,{as:De.A,size:"small",name:"familyDetails.".concat(o,".GuardianLastName"),placeholder:"Last Name",value:e.GuardianLastName,onChange:i,onBlur:n,fullWidth:!0,label:"Last Name"}),(0,C.jsx)(Pe.Kw,{name:"familyDetails.".concat(o,".GuardianLastName"),component:"div",className:"error"})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(Pe.D0,{as:De.A,size:"small",type:"email",name:"familyDetails.".concat(o,".GuardianEmail"),placeholder:"Email",value:e.GuardianEmail,onChange:i,onBlur:n,fullWidth:!0,label:"Email"}),(0,C.jsx)(Pe.Kw,{name:"familyDetails.".concat(o,".GuardianEmail"),component:"div",className:"error"})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(jt(),{value:"".concat(e.GuardianContactNumber.countryCode).concat(e.GuardianContactNumber.number),onChange:(e,t)=>{const i=(null===t||void 0===t?void 0:t.dialCode)||"";l("familyDetails.".concat(o,".GuardianContactNumber.countryCode"),"+"+i),l("familyDetails.".concat(o,".GuardianContactNumber.number"),e.slice(i.length).trim())},country:"in"}),(0,C.jsx)(Pe.Kw,{name:"familyDetails.".concat(o,".GuardianContactNumber.number"),component:"div",className:"error"})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(Pe.D0,{as:De.A,size:"small",name:"familyDetails.".concat(o,".GuardianOccupation"),placeholder:"Occupation",value:e.GuardianOccupation,onChange:i,onBlur:n,fullWidth:!0,label:"Occupation"}),(0,C.jsx)(Pe.Kw,{name:"familyDetails.".concat(o,".GuardianOccupation"),component:"div",className:"error"})]}),(0,C.jsx)(M.Ay,{item:!0,xs:12,sm:6,children:(0,C.jsx)(Pe.D0,{as:De.A,size:"small",name:"familyDetails.".concat(o,".GuardianQualification"),placeholder:"Educational Qualification",value:e.GuardianQualification,onChange:i,onBlur:n,fullWidth:!0,label:"Qualification"})}),t.familyDetails.length>1&&(0,C.jsx)(M.Ay,{item:!0,xs:12,children:(0,C.jsx)(a.A,{sx:{display:"flex",justifyContent:"end"},children:(0,C.jsx)("img",{src:f.A.deleteIcon,alt:"delete",style:{width:"1.5rem"},onClick:()=>d(o)})})})]})},o))),(0,C.jsxs)(L.A,{direction:"row",sx:{mt:5,mb:1,display:"flex",justifyContent:"end",mr:10},spacing:2,children:[(0,C.jsx)(K.A,{onClick:()=>r({GuardianFirstName:"",GuardianLastName:"",GuardianEmail:"",GuardianOccupation:"",GuardianQualification:"",RelationshipWithStudent:"",GuardianContactNumber:{number:"",countryCode:""}}),sx:[G.zr,{width:"100px"}],children:"Add new"}),(0,C.jsx)(Oe.S,{width:"35%",handleSubmit:s,children:o?(0,C.jsx)("img",{src:f.A.standardLoader,alt:"load",style:{width:"1rem",height:"1rem",padding:"4px"}}):"Save"})]})]})}})})}})})};var wt=i(78496),St=i(98468);const Ct=()=>{var e,t,i,o,s,l,r,d,c,u,m,x,v,g,j,y,w,D,k,I,z,F,N,E,W,P,T,L,O,q,Y,_,V,U,H,Q,J,X,$,ee,te,ie,ae,ne;const oe=(0,S.j)(),se=(0,S.G)((e=>e.verification)),le=null===(e=se.data)||void 0===e?void 0:e.phoneLoginOtp.verified,re=null===(t=se.data)||void 0===t||null===(i=t.emailLoginOtp)||void 0===i?void 0:i.verified,de=(0,S.G)((e=>e.personalInfo)),ce=(0,S.G)((e=>e.sharedInfo)),[ue,me]=(0,n.useState)(void 0!==(null===de||void 0===de||null===(o=de.data)||void 0===o?void 0:o.visaRejectedDetails)?"yes":"no"),[xe,pe]=(0,n.useState)(""),[he,ve]=(0,n.useState)(!1),[ge,fe]=(0,n.useState)(!1),[je,ye]=(0,n.useState)(!1),[Ae,be]=(0,n.useState)([]),[ke,Ge]=(0,n.useState)([]),[Be,qe]=(0,n.useState)([]),[Ue,He]=(0,n.useState)([]),[Qe,Je]=(0,n.useState)([]),[Ze,Xe]=(0,n.useState)(null===de||void 0===de||null===(s=de.data)||void 0===s||null===(l=s.temporaryAddress)||void 0===l?void 0:l.country),[$e,et]=(0,n.useState)(null===de||void 0===de||null===(r=de.data)||void 0===r||null===(d=r.temporaryAddress)||void 0===d?void 0:d.state),[tt,it]=(0,n.useState)(null===de||void 0===de||null===(c=de.data)||void 0===c||null===(u=c.temporaryAddress)||void 0===u?void 0:u.city),[at,nt]=(0,n.useState)(null===de||void 0===de||null===(m=de.data)||void 0===m||null===(x=m.permanentAddress)||void 0===x?void 0:x.country),[ot,st]=(0,n.useState)(null===de||void 0===de||null===(v=de.data)||void 0===v||null===(g=v.permanentAddress)||void 0===g?void 0:g.state),[lt,rt]=(0,n.useState)(null===de||void 0===de||null===(j=de.data)||void 0===j||null===(y=j.permanentAddress)||void 0===y?void 0:y.city),dt={PaperProps:{style:{maxHeight:359,width:220}}},ct=Ae.find((e=>e.name===Ze)),ut=ke.find((e=>e.name===$e)),mt=Ae.find((e=>e.name===at)),xt=ke.find((e=>e.name===ot));console.log(null===ce||void 0===ce||null===(w=ce.data)||void 0===w?void 0:w.email),(0,n.useEffect)((()=>{(async()=>{const e=await Te.A.getAllCountries();be(e)})()}),[]),(0,n.useEffect)((()=>{(async()=>{var e,t;const i=await Me.Ay.getStatesOfCountry(null===ct||void 0===ct?void 0:ct.isoCode);Ge(i);const a=await Le.A.getCitiesOfState(null!==(e=null===ut||void 0===ut?void 0:ut.countryCode)&&void 0!==e?e:"",null!==(t=null===ut||void 0===ut?void 0:ut.isoCode)&&void 0!==t?t:"");qe(a)})()}),[ct,ut]),(0,n.useEffect)((()=>{(async()=>{var e,t;const i=await Me.Ay.getStatesOfCountry(null===mt||void 0===mt?void 0:mt.isoCode);He(i);const a=await Le.A.getCitiesOfState(null!==(e=null===xt||void 0===xt?void 0:xt.countryCode)&&void 0!==e?e:"",null!==(t=null===xt||void 0===xt?void 0:xt.isoCode)&&void 0!==t?t:"");Je(a)})()}),[mt,xt]),(0,n.useEffect)((()=>{var e,t,i,a,n,o,s,l,r,d,c,u;null!==de&&void 0!==de&&de.data&&(Xe(null===de||void 0===de||null===(e=de.data)||void 0===e||null===(t=e.temporaryAddress)||void 0===t?void 0:t.country),et(null===de||void 0===de||null===(i=de.data)||void 0===i||null===(a=i.temporaryAddress)||void 0===a?void 0:a.state),it(null===de||void 0===de||null===(n=de.data)||void 0===n||null===(o=n.temporaryAddress)||void 0===o?void 0:o.city),nt(null===de||void 0===de||null===(s=de.data)||void 0===s||null===(l=s.permanentAddress)||void 0===l?void 0:l.country),st(null===de||void 0===de||null===(r=de.data)||void 0===r||null===(d=r.permanentAddress)||void 0===d?void 0:d.state),rt(null===de||void 0===de||null===(c=de.data)||void 0===c||null===(u=c.permanentAddress)||void 0===u?void 0:u.city))}),[de]);const pt=async e=>{switch(e.name){case"temporaryCountry":Xe(e.data),et(""),it(""),qe([]);const i=Ae.find((t=>t.name===e.data));if(i){const e=await Me.Ay.getStatesOfCountry(i.isoCode);Ge(e)}break;case"temporaryState":it(""),et(e.data);const a=ke.find((t=>t.name===e.data));if(a){const e=await Le.A.getCitiesOfState(a.countryCode,a.isoCode);qe(e)}break;case"temporaryCity":it(e.data);break;case"permanentCountry":nt(e.data),st(""),rt(""),Je([]);const n=Ae.find((t=>t.name===e.data));if(n){const e=await Me.Ay.getStatesOfCountry(n.isoCode);He(e)}break;case"permanentState":rt(""),st(e.data);const o=Ue.find((t=>t.name===e.data));if(o){const e=await Le.A.getCitiesOfState(null===o||void 0===o?void 0:o.countryCode,null===o||void 0===o?void 0:o.isoCode);Je(e)}break;case"permanentCity":rt(e.data);break;case"verifyPhone":fe(!0);const s=await(0,A.qm)({});s?(fe(!1),oe((0,B.DE)({show:!0,data:{container:{name:"phoneverification",data:s.data.message,dimensions:{width:"400px"}},type:"custom"}}))):fe(!1);break;case"verifyemail":if(ve(!0),e.data){if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.data))return oe((0,B.DE)({show:!0,data:{container:{name:"error",data:"Please enter a valid email address.",dimensions:{width:"400px",show:"none"}},type:"custom"}})),void ve(!1);try{const t=await(0,A.cX)({email:e.data});t?(oe((0,B.DE)({show:!0,data:{container:{name:"verifyEmail",data:e.data,dimensions:{width:"500px"}},type:"custom"}})),ve(!1)):console.log("Verification failed:",t)}catch(t){console.error("Error during verification:",t)}finally{ve(!1)}}else ve(!1)}},ht=Ye.Ik().shape({firstName:Ye.Yj().max(20,"First name cannot exceed 20 characters").required("First name is required"),lastName:Ye.Yj().max(20,"Last name cannot exceed 20 characters").required("Last name is required"),email:Ye.Yj().matches(/([a-z0-9]+)([{1}])?([a-zA-Z0-9]+)([a-zA-Z0-9]+)([a-z]+)/g,"Enter Email Id").required("Enter Email ID").max(40,"Email ID must be at most 40 characters"),personalDetails:Ye.Ik().shape({DOB:Ye.p6().required("Date of birth is required"),Gender:Ye.Yj().required("Gender is required"),nationality:Ye.Yj().required("Nationality is required"),countyOfBirth:Ye.Yj().required("County of birth is required"),maritalStatus:Ye.Yj().required("Marital status is required"),temporaryAddress:Ye.Ik().shape({city:Ye.Yj().required("City is required"),state:Ye.Yj().required("State is required"),pinCode:Ye.ai().required("Pincode is required"),country:Ye.Yj().required("Country is required"),addressLine1:Ye.Yj().required("Address Line1 is required")}),permanentAddress:Ye.Ik().when("permanent",{is:"no",then:e=>e.shape({city:Ye.Yj().required("City is required"),state:Ye.Yj().required("State is required"),pinCode:Ye.ai().required("Pincode is required"),country:Ye.Yj().required("Country is required"),addressLine1:Ye.Yj().required("Address Line1 is required")})})})}),vt={firstName:null===ce||void 0===ce||null===(D=ce.data)||void 0===D?void 0:D.firstName,lastName:null===ce||void 0===ce||null===(k=ce.data)||void 0===k?void 0:k.lastName,email:null===ce||void 0===ce||null===(I=ce.data)||void 0===I?void 0:I.email,personalDetails:{DOB:null===de||void 0===de||null===(z=de.data)||void 0===z?void 0:z.DOB,Gender:null===de||void 0===de||null===(F=de.data)||void 0===F?void 0:F.Gender,nationality:null===de||void 0===de||null===(N=de.data)||void 0===N?void 0:N.nationality,countyOfBirth:null===de||void 0===de||null===(E=de.data)||void 0===E?void 0:E.countyOfBirth,maritalStatus:null===de||void 0===de||null===(W=de.data)||void 0===W?void 0:W.maritalStatus,validPassport:null===de||void 0===de||null===(P=de.data)||void 0===P?void 0:P.validPassport,validPermit:null===de||void 0===de||null===(T=de.data)||void 0===T?void 0:T.validPermit,visaRejectedDetails:null===de||void 0===de||null===(L=de.data)||void 0===L?void 0:L.visaRejectedDetails,temporaryAddress:{city:tt,state:$e,pinCode:null===de||void 0===de||null===(O=de.data)||void 0===O||null===(q=O.temporaryAddress)||void 0===q?void 0:q.pinCode,country:Ze,addressLine1:null===de||void 0===de||null===(Y=de.data)||void 0===Y||null===(_=Y.temporaryAddress)||void 0===_?void 0:_.addressLine1,addressLine2:null===de||void 0===de||null===(V=de.data)||void 0===V||null===(U=V.temporaryAddress)||void 0===U?void 0:U.addressLine2,addressLine3:null===de||void 0===de||null===(H=de.data)||void 0===H||null===(Q=H.temporaryAddress)||void 0===Q?void 0:Q.addressLine3},permanentAddress:{city:lt,state:ot,pinCode:null===de||void 0===de||null===(J=de.data)||void 0===J||null===(X=J.permanentAddress)||void 0===X?void 0:X.pinCode,country:at,addressLine1:null===de||void 0===de||null===($=de.data)||void 0===$||null===(ee=$.permanentAddress)||void 0===ee?void 0:ee.addressLine1,addressLine2:null===de||void 0===de||null===(te=de.data)||void 0===te||null===(ie=te.permanentAddress)||void 0===ie?void 0:ie.addressLine2,addressLine3:null===de||void 0===de||null===(ae=de.data)||void 0===ae||null===(ne=ae.permanentAddress)||void 0===ne?void 0:ne.addressLine3}}};(0,n.useEffect)((()=>{var e;const t=vt.personalDetails.temporaryAddress,i=vt.personalDetails.permanentAddress;var a;null==(a=null===de||void 0===de||null===(e=de.data)||void 0===e?void 0:e.permanentAddress)||0===Object.keys(a).length&&a.constructor===Object?pe(""):t.city===i.city&&t.state===i.state&&t.pinCode===i.pinCode&&t.country===i.country&&t.addressLine1===i.addressLine1&&t.addressLine2===i.addressLine2&&t.addressLine3===i.addressLine3?pe("yes"):pe("no")}),[]);const gt=async e=>{try{ye(!0),"yes"===xe&&(e.personalDetails.permanentAddress={...e.personalDetails.temporaryAddress});const q=await(0,A.oS)(e);if(q.data.success){var t,i,a,n,o,s,l,r,d,c,u,m,x,p,h,v,g,f,j,y,w,S,C,D,k,I,z,F,N,E,W,P,R,G,T,M,L,O;const e={_id:null===(t=q.data)||void 0===t||null===(i=t.data)||void 0===i?void 0:i._id,firstName:null===(a=q.data)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.firstName,lastName:null===(o=q.data)||void 0===o||null===(s=o.data)||void 0===s?void 0:s.lastName,displayPicSrc:null===(l=q.data)||void 0===l||null===(r=l.data)||void 0===r?void 0:r.displayPicSrc,email:null===(d=q.data)||void 0===d||null===(c=d.data)||void 0===c?void 0:c.email,phone:null===(u=q.data)||void 0===u||null===(m=u.data)||void 0===m?void 0:m.phone,LeadSource:null===(x=q.data)||void 0===x||null===(p=x.data)||void 0===p?void 0:p.LeadSource,isPlanningToTakeAcademicTest:null===(h=q.data)||void 0===h||null===(v=h.data)||void 0===v?void 0:v.isPlanningToTakeAcademicTest,isPlanningToTakeLanguageTest:null===(g=q.data)||void 0===g||null===(f=g.data)||void 0===f?void 0:f.isPlanningToTakeLanguageTest},A={DOB:null===(j=q.data)||void 0===j||null===(y=j.data)||void 0===y?void 0:y.personalDetails.DOB,Gender:null===(w=q.data)||void 0===w||null===(S=w.data)||void 0===S?void 0:S.personalDetails.Gender,temporaryAddress:null===(C=q.data)||void 0===C||null===(D=C.data)||void 0===D?void 0:D.personalDetails.temporaryAddress,permanentAddress:null===(k=q.data)||void 0===k||null===(I=k.data)||void 0===I?void 0:I.personalDetails.permanentAddress,nationality:null===(z=q.data)||void 0===z||null===(F=z.data)||void 0===F?void 0:F.personalDetails.nationality,countyOfBirth:null===(N=q.data)||void 0===N||null===(E=N.data)||void 0===E?void 0:E.personalDetails.countyOfBirth,maritalStatus:null===(W=q.data)||void 0===W||null===(P=W.data)||void 0===P?void 0:P.personalDetails.maritalStatus,validPassport:null===(R=q.data)||void 0===R||null===(G=R.data)||void 0===G?void 0:G.personalDetails.validPassport,validPermit:null===(T=q.data)||void 0===T||null===(M=T.data)||void 0===M?void 0:M.personalDetails.validPermit,visaRejectedDetails:null===(L=q.data)||void 0===L||null===(O=L.data)||void 0===O?void 0:O.personalDetails.visaRejectedDetails};oe((0,b.q5)({...e})),oe((0,wt.p5)({...A})),oe((0,B.DE)({show:!0,data:{container:{name:"success",data:"Profile updated successfully",dimensions:{width:"30%",height:"40%",show:"none"}},type:"custom"}})),ye(!1)}else ye(!1)}catch(q){}},ft=()=>{const e=new Date;return new Date(e.getFullYear()-12,e.getMonth(),e.getDate())},[jt,yt]=(0,n.useState)(""),At=(0,n.useMemo)((()=>Be.filter((e=>e.name.toLowerCase().includes(jt.toLowerCase())))),[Be,jt]),bt=(0,n.useMemo)((()=>Qe.filter((e=>e.name.toLowerCase().includes(jt.toLowerCase())))),[Qe,jt]);return(0,C.jsx)("div",{style:{height:"100%",overflowY:"scroll"},children:(0,C.jsx)(Pe.l1,{initialValues:vt,validationSchema:ht,enableReinitialize:!0,onSubmit:e=>gt(e),children:e=>{var t,i,n,o,s,l,r,d,c,u,m,x,v,g,j,y,A,b,w,S;let{touched:D,errors:k,values:I,handleChange:z,setFieldValue:F}=e;return(0,C.jsx)(Pe.lV,{style:{},children:(0,C.jsxs)(M.Ay,{container:!0,spacing:4,sx:{px:{xs:.5,lg:2},width:"100% !important"},children:[(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsxs)(we.A,{id:"firstName",sx:{fontWeight:"500",color:"#000",mb:1},children:["First Name"," "]}),(0,C.jsx)(Re.A,{id:"name",type:"text",placeholder:"First Name",name:"firstName",value:I.firstName,onChange:z,fullWidth:!0,error:D.firstName&&Boolean(k.firstName)}),(0,C.jsx)("div",{style:{color:"#e60c0c",fontSize:"12px"},children:(0,C.jsx)(Pe.Kw,{name:"firstName",component:"div"})})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsxs)(we.A,{id:"firstName",sx:{fontWeight:"500",color:"#000",mb:1},children:["Last Name"," "]}),(0,C.jsx)(Re.A,{id:"lastName",type:"text",placeholder:"Last Name",name:"lastName",value:I.lastName,onChange:z,fullWidth:!0,error:D.lastName&&Boolean(k.lastName)}),(0,C.jsx)("div",{style:{color:"#e60c0c",fontSize:"12px"},children:(0,C.jsx)(Pe.Kw,{name:"lastName",component:"div"})})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,md:6,children:[(0,C.jsxs)(we.A,{id:"firstName",sx:{fontWeight:"500",color:"#000",mb:1},children:["Email"," "]}),(0,C.jsxs)(a.A,{sx:{display:"flex"},children:[re?(0,C.jsx)(p.A,{sx:{border:"1px solid rgba(0, 0, 0, 0.23)",p:1,borderRadius:"5px",width:"100%"},children:null===ce||void 0===ce||null===(t=ce.data)||void 0===t?void 0:t.email}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(Re.A,{id:"lastName",type:"email",placeholder:"Email",name:"email",value:I.email,onChange:z,fullWidth:!0,error:D.email&&Boolean(k.email)}),(0,C.jsx)("div",{style:{color:"#e60c0c",fontSize:"12px"},children:(0,C.jsx)(Pe.Kw,{name:"email",component:"div"})})]}),(0,C.jsx)(a.A,{sx:{display:"flex",justifyContent:"center",width:"20%"},children:re&&null!==ce&&void 0!==ce&&null!==(i=ce.data)&&void 0!==i&&i.email?(0,C.jsx)(h.A,{slotProps:{tooltip:{sx:{color:"#514E6A",backgroundColor:"#ffff",boxShadow:2,cursor:"pointer"}}},title:"Verified",placement:"right",children:(0,C.jsx)(St.A,{sx:{fontSize:{xs:"1.2rem"},color:"green",marginLeft:"-8px",cursor:"pointer"}})}):null!==ce&&void 0!==ce&&null!==(n=ce.data)&&void 0!==n&&n.email&&!re?(0,C.jsx)(K.A,{sx:[G.zr,{width:"75px"}],onClick:()=>pt({name:"verifyemail",data:I.email}),children:he?(0,C.jsx)("img",{src:f.A.standardLoader,alt:"load",style:{width:"1rem"}}):"Verify"}):""})]})]}),(0,C.jsx)(M.Ay,{item:!0,xs:12,sm:6,children:null!==ce&&void 0!==ce&&null!==(o=ce.data)&&void 0!==o&&o.phone&&(ce.data.phone.number||Object.keys(ce.data.phone).length>0)?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(we.A,{id:"firstName",sx:{fontWeight:"500",color:"#000",mb:1},children:"Contact number"}),(0,C.jsxs)(a.A,{sx:{display:"flex"},children:[(0,C.jsxs)(p.A,{sx:{border:"1px solid rgba(0, 0, 0, 0.23)",p:1,borderRadius:"5px",width:"100%"},onClick:()=>oe((0,B.DE)({show:!0,data:{container:{name:"phonenumber",dimensions:{width:"400px",show:"none"}},type:"custom"}})),children:[null===ce||void 0===ce||null===(s=ce.data)||void 0===s||null===(l=s.phone)||void 0===l?void 0:l.countryCode," ",null===ce||void 0===ce||null===(r=ce.data)||void 0===r||null===(d=r.phone)||void 0===d?void 0:d.number]}),(0,C.jsx)(a.A,{sx:{width:"20%",display:"flex",justifyContent:"center"},children:le?(0,C.jsx)(h.A,{slotProps:{tooltip:{sx:{color:"#514E6A",backgroundColor:"#ffff",boxShadow:2,cursor:"pointer"}}},title:"Verified",placement:"right",children:(0,C.jsx)(St.A,{sx:{fontSize:{xs:"1.2rem"},color:"green",marginLeft:"-8px",cursor:"pointer"}})}):(0,C.jsx)(K.A,{sx:[G.zr,{width:"75px"}],onClick:()=>oe((0,B.DE)({show:!0,data:{container:{name:"phonenumber",dimensions:{width:"400px",show:"none"}},type:"custom"}})),children:ge?(0,C.jsx)("img",{src:f.A.standardLoader,alt:"load",style:{width:"1rem"}}):"Verify"})})]})]}):(0,C.jsx)(K.A,{sx:{textTransform:"none",fontSize:"1rem"},onClick:()=>oe((0,B.DE)({show:!0,data:{container:{name:"phonenumber",dimensions:{width:"400px",show:"none"}},type:"custom"}})),children:"+ Add contact number"})}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"firstName",sx:{fontWeight:"500",color:"#000",mb:1},children:"Gender"}),(0,C.jsxs)(Se.A,{id:"Country",size:"small",name:"personalDetails.Gender",displayEmpty:!0,defaultValue:"",value:I.personalDetails.Gender,onChange:z,fullWidth:!0,IconComponent:R.A,error:(null===D||void 0===D||null===(c=D.personalDetails)||void 0===c?void 0:c.Gender)&&Boolean(null===k||void 0===k||null===(u=k.personalDetails)||void 0===u?void 0:u.Gender),children:[(0,C.jsx)(Ce.A,{disabled:!0,value:"",sx:{"& .MuiTypography-root":{fontSize:"14px !important"}},children:"Gender"}),["Male","Female","Non-Binary","Prefer Not to Say"].map((e=>(0,C.jsx)(Ce.A,{value:e,sx:{"& .MuiTypography-root":{fontSize:"14px !important"},"& .MuiSvgIcon-root ":{fontSize:"1rem"},whiteSpace:"normal"},children:e},e)))]}),(0,C.jsx)("div",{style:{color:"#e60c0c",fontSize:"12px"},children:(0,C.jsx)(Pe.Kw,{name:"personalDetails.Gender",component:"div"})})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"firstName",sx:{fontWeight:"500",color:"#000",mb:1},children:"Date of Birth"}),(0,C.jsx)(Ke.A,{selectedDate:I.personalDetails.DOB,onChange:e=>F("personalDetails.DOB",null===e||void 0===e?void 0:e.toISOString().slice(0,10)),maxDate:ft(),placeholderText:"Date of Birth"}),(0,C.jsx)("div",{style:{color:"#e60c0c",fontSize:"12px"},children:(0,C.jsx)(Pe.Kw,{name:"personalDetails.DOB",component:"div"})})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"firstName",sx:{fontWeight:"500",color:"#000",mb:1},children:"Nationality"}),(0,C.jsx)(Ve,{label:"Nationality",name:"personalDetails.nationality",options:Z.bf,value:I.personalDetails.nationality,onChange:z,placeholder:"Select",searchEnabled:!0}),(0,C.jsx)("div",{style:{color:"#e60c0c",fontSize:"12px"},children:(0,C.jsx)(Pe.Kw,{name:"personalDetails.nationality",component:"div"})})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"firstName",sx:{fontWeight:"500",color:"#000",mb:1},children:"Country of Birth"}),(0,C.jsx)(Ve,{label:"Country",name:"personalDetails.countyOfBirth",options:Ae.map((e=>e.name)),value:I.personalDetails.countyOfBirth,onChange:z,placeholder:"Select",searchEnabled:!0}),(0,C.jsx)("div",{style:{color:"#e60c0c",fontSize:"12px"},children:(0,C.jsx)(Pe.Kw,{name:"personalDetails.countyOfBirth",component:"div"})})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"firstName",sx:{fontWeight:"500",color:"#000",mb:1},children:"Marital status"}),(0,C.jsx)(Ie.A,{children:(0,C.jsx)(ze.A,{"aria-label":"radio-group",name:"personalDetails.maritalStatus",value:I.personalDetails.maritalStatus,sx:{display:"flex",flexDirection:"row"},onChange:z,children:["Married","Single","Widowed","Seperated"].map((e=>(0,C.jsx)(Fe.A,{value:e,control:(0,C.jsx)(Ne.A,{sx:{"&.Mui-checked.Mui-disabled":{color:"#14C6A4"}}}),label:e},e)))})})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"firstName",sx:{fontWeight:"500",color:"#000",mb:1},children:"Do you have valid passport ?"}),(0,C.jsxs)(Se.A,{size:"small",id:"Country",name:"personalDetails.validPassport",displayEmpty:!0,defaultValue:"",value:I.personalDetails.validPassport,onChange:z,fullWidth:!0,IconComponent:R.A,error:(null===D||void 0===D||null===(m=D.personalDetails)||void 0===m?void 0:m.validPassport)&&Boolean(null===k||void 0===k||null===(x=k.personalDetails)||void 0===x?void 0:x.validPassport),children:[(0,C.jsx)(Ce.A,{disabled:!0,value:"",sx:{"& .MuiTypography-root":{fontSize:"14px !important"}},children:"Do you have a valid passport"}),[{name:"Yes",value:"yes"},{name:"No",value:"no"},{name:"Processing",value:"processing"}].map((e=>(0,C.jsx)(Ce.A,{value:e.value,sx:{"& .MuiTypography-root":{fontSize:"14px !important"},"& .MuiSvgIcon-root ":{fontSize:"1rem"},whiteSpace:"normal"},children:e.name},e)))]}),(0,C.jsx)("div",{style:{color:"#e60c0c",fontSize:"12px"},children:(0,C.jsx)(Pe.Kw,{name:"personalDetails.validPassport",component:"div"})})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"refusedLabel",sx:{fontWeight:"500",color:"#000",mb:1,whiteSpace:"normal"},children:"Have you ever been refused a visa from any country?"}),(0,C.jsxs)(Se.A,{size:"small",id:"Country",name:"refusal",displayEmpty:!0,defaultValue:"",value:"no"===ue&&I.personalDetails.visaRejectedDetails?"yes":ue,onChange:e=>{const t=e.target.value;me(t),"no"===t&&z({target:{name:"personalDetails.visaRejectedDetails",value:""}})},fullWidth:!0,IconComponent:R.A,children:[(0,C.jsx)(Ce.A,{disabled:!0,value:"",sx:{"& .MuiTypography-root":{fontSize:"14px !important"}},children:"Select"}),[{name:"Yes",value:"yes"},{name:"No",value:"no"}].map((e=>(0,C.jsx)(Ce.A,{value:e.value,sx:{"& .MuiTypography-root":{fontSize:"14px !important"},"& .MuiSvgIcon-root ":{fontSize:"1rem"},whiteSpace:"normal"},children:e.name},e.value)))]})]}),("yes"===ue||I.personalDetails.visaRejectedDetails)&&(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"visaRejectedDetailsLabel",sx:{fontWeight:"500",color:"#000",mb:1},children:"Reason for visa rejection"}),(0,C.jsx)(De.A,{variant:"outlined",size:"small",type:"text",id:"visaRejectedDetails",multiline:!0,fullWidth:!0,rows:3,placeholder:"Reason for visa rejection",onChange:z,name:"personalDetails.visaRejectedDetails",value:I.personalDetails.visaRejectedDetails})]}),(0,C.jsx)(M.Ay,{item:!0,xs:12,children:(0,C.jsx)(p.A,{sx:{p:1,fontWeight:600,fontSize:"1.5rem"},children:"Address"})}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"firstName",sx:{fontWeight:"500",color:"#000",mb:1},children:"Address Line 1"}),(0,C.jsx)(Re.A,{id:"addressLine1",type:"text",placeholder:"Address Line 1",name:"personalDetails.temporaryAddress.addressLine1",value:I.personalDetails.temporaryAddress.addressLine1,onChange:z,fullWidth:!0,error:(null===D||void 0===D||null===(v=D.personalDetails)||void 0===v||null===(g=v.temporaryAddress)||void 0===g?void 0:g.addressLine1)&&Boolean(null===k||void 0===k||null===(j=k.personalDetails)||void 0===j||null===(y=j.temporaryAddress)||void 0===y?void 0:y.addressLine1)}),(0,C.jsx)("div",{style:{color:"#e60c0c",fontSize:"12px"},children:(0,C.jsx)(Pe.Kw,{name:"personalDetails.temporaryAddress.addressLine1",component:"div"})})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"firstName",sx:{fontWeight:"500",color:"#000",mb:1},children:"Address Line 2"}),(0,C.jsx)(Re.A,{id:"addressLine2",type:"text",placeholder:"Address Line 2",name:"personalDetails.temporaryAddress.addressLine2",value:I.personalDetails.temporaryAddress.addressLine2,onChange:z,fullWidth:!0})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"firstName",sx:{fontWeight:"500",color:"#000",mb:1},children:"Address Line 3"}),(0,C.jsx)(Re.A,{id:"addressLine3",type:"text",placeholder:"Address Line 3",name:"personalDetails.temporaryAddress.addressLine3",value:I.personalDetails.temporaryAddress.addressLine3,onChange:z,fullWidth:!0})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"firstName",sx:{fontWeight:"500",color:"#000",mb:1},children:"Country"}),(0,C.jsx)(Ve,{label:"Country",name:"personalDetails.temporaryAddress.country",options:Ae.map((e=>e.name)),value:Ze,onChange:e=>pt({name:"temporaryCountry",data:null===e||void 0===e?void 0:e.target.value}),placeholder:"Select",searchEnabled:!0}),(0,C.jsx)("div",{style:{color:"#e60c0c",fontSize:"12px"},children:(0,C.jsx)(Pe.Kw,{name:"personalDetails.temporaryAddress.country",component:"div"})})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"firstName",sx:{fontWeight:"500",color:"#000",mb:1},children:"State/Province"}),(0,C.jsx)(Ve,{label:"State",name:"personalDetails.temporaryAddress.state",options:ke.map((e=>e.name)),value:$e,onChange:e=>pt({name:"temporaryState",data:null===e||void 0===e?void 0:e.target.value}),placeholder:"Select",searchEnabled:!0}),(0,C.jsx)("div",{style:{color:"#e60c0c",fontSize:"12px"},children:(0,C.jsx)(Pe.Kw,{name:"personalDetails.temporaryAddress.state",component:"div"})})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"firstName",sx:{fontWeight:"500",color:"#000",mb:1},children:"City/Town"}),(0,C.jsx)(Ie.A,{fullWidth:!0,children:(0,C.jsxs)(Se.A,{id:"city",name:"personalDetails.temporaryAddress.city",value:tt,displayEmpty:!0,size:"small",defaultValue:"",onChange:e=>it(e.target.value),fullWidth:!0,IconComponent:R.A,onClose:()=>yt(""),MenuProps:{PaperProps:{sx:{maxHeight:300,"&.MuiPaper-root":{boxShadow:3,borderRadius:"15px !important"}}}},children:[(0,C.jsx)(Ee.A,{children:(0,C.jsx)(De.A,{size:"small",autoFocus:!0,placeholder:"Search City...",fullWidth:!0,value:jt,onChange:e=>yt(e.target.value),InputProps:{startAdornment:(0,C.jsx)(We.A,{position:"start",children:(0,C.jsx)(_e.A,{})})},onKeyDown:e=>{"Escape"!==e.key&&e.stopPropagation()}})}),(0,C.jsx)(Ce.A,{value:"",disabled:!0,children:"Select City"}),At.length>0?At.map((e=>(0,C.jsx)(Ce.A,{value:e.name,children:e.name},e.name))):(0,C.jsx)(Ce.A,{disabled:!0,children:"No cities available"}),!Be.some((e=>e.name===tt))&&void 0!==tt&&""!==tt&&(0,C.jsx)(Ce.A,{value:tt,children:tt},tt),(0,C.jsx)(Ce.A,{sx:{fontSize:"14px !important",display:"flex",alignItems:"center",whiteSpace:"normal",color:"#1cbeb5 !important"},onClick:()=>{oe((0,B.DE)({show:!0,data:{container:{name:"customfield",data:{name:"personalDetails.temporaryAddress.city",fieldName:tt,setFieldName:it,placeholder:"Enter your city"},dimensions:{width:"450px"}},type:"custom"}}))},children:"Can't find city"})]})}),(0,C.jsx)("div",{style:{color:"#e60c0c",fontSize:"12px"},children:(0,C.jsx)(Pe.Kw,{name:"personalDetails.temporaryAddress.city",component:"div"})})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"firstName",sx:{fontWeight:"500",color:"#000",mb:1},children:"Zipcode"}),(0,C.jsx)(Re.A,{id:"pinCode",type:"number",placeholder:"Pincode",name:"personalDetails.temporaryAddress.pinCode",value:I.personalDetails.temporaryAddress.pinCode,onChange:z,fullWidth:!0,error:(null===D||void 0===D||null===(A=D.personalDetails)||void 0===A||null===(b=A.temporaryAddress)||void 0===b?void 0:b.pinCode)&&Boolean(null===k||void 0===k||null===(w=k.personalDetails)||void 0===w||null===(S=w.temporaryAddress)||void 0===S?void 0:S.pinCode)}),(0,C.jsx)("div",{style:{color:"#e60c0c",fontSize:"12px"},children:(0,C.jsx)(Pe.Kw,{name:"personalDetails.temporaryAddress.pinCode",component:"div"})})]}),(0,C.jsx)(M.Ay,{item:!0,xs:12,sm:6}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"",sx:{color:"#000"},children:"Is your Home address same as Contact address?"}),(0,C.jsx)(Ie.A,{children:(0,C.jsxs)(ze.A,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",value:xe,onChange:e=>pe(e.target.value),children:[(0,C.jsx)(Fe.A,{value:"yes",control:(0,C.jsx)(Ne.A,{size:"small",sx:{"&.MuiRadio-root.Mui-checked":{color:"#3B3F76 !important"}}}),label:"Yes"}),(0,C.jsx)(Fe.A,{value:"no",control:(0,C.jsx)(Ne.A,{size:"small",sx:{"&.MuiRadio-root.Mui-checked":{color:"#3B3F76 !important"}}}),label:"No"})]})})]}),(0,C.jsx)(M.Ay,{item:!0,xs:12,sm:6}),"no"===xe?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"firstName",sx:{fontWeight:"500",color:"#000",mb:1},children:"Address Line 1"}),(0,C.jsx)(Re.A,{id:"addressLine1",type:"text",placeholder:"Address Line 1",name:"personalDetails.permanentAddress.addressLine1",value:I.personalDetails.permanentAddress.addressLine1,onChange:z,fullWidth:!0})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"firstName",sx:{fontWeight:"500",color:"#000",mb:1},children:"Address Line 2"}),(0,C.jsx)(Re.A,{id:"addressLine2",type:"text",placeholder:"Address Line 2",name:"personalDetails.permanentAddress.addressLine2",value:I.personalDetails.permanentAddress.addressLine2,onChange:z,fullWidth:!0})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"firstName",sx:{fontWeight:"500",color:"#000",mb:1},children:"Address Line 3"}),(0,C.jsx)(Re.A,{id:"addressLine3",type:"text",placeholder:"Address Line 3",name:"personalDetails.permanentAddress.addressLine3",value:I.personalDetails.permanentAddress.addressLine3,onChange:z,fullWidth:!0})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"firstName",sx:{fontWeight:"500",color:"#000",mb:1},children:"Country"}),(0,C.jsxs)(Se.A,{id:"country",size:"small",name:"personalDetails.permanentAddress.country",value:at,onChange:e=>pt({name:"permanentCountry",data:null===e||void 0===e?void 0:e.target.value}),fullWidth:!0,IconComponent:R.A,MenuProps:dt,displayEmpty:!0,defaultValue:"",children:[(0,C.jsx)(Ce.A,{value:"",disabled:!0,children:"Select Country"}),Ae.map((e=>(0,C.jsx)(Ce.A,{value:e.name,children:e.name},e.isoCode))),(0,C.jsx)(Ce.A,{sx:{fontSize:"14px !important",display:"flex",alignItems:"center",whiteSpace:"normal",color:"#1cbeb5  !important"},onClick:()=>{oe((0,B.DE)({show:!0,data:{container:{name:"customfield",data:{name:"personalDetails.permanentAddress.country",fieldName:Ze,setFieldName:Xe,placeholder:"Enter your country"},dimensions:{width:"450px"}},type:"custom"}}))},children:"Can't find your degree"})]})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"firstName",sx:{fontWeight:"500",color:"#000",mb:1},children:"State/Province"}),(0,C.jsxs)(Se.A,{id:"state",name:"personalDetails.permanentAddress.state",value:ot,size:"small",onChange:e=>pt({name:"permanentState",data:null===e||void 0===e?void 0:e.target.value}),fullWidth:!0,displayEmpty:!0,defaultValue:"",IconComponent:R.A,MenuProps:dt,children:[(0,C.jsx)(Ce.A,{value:"",disabled:!0,children:"Select State"}),Ue.map((e=>(0,C.jsx)(Ce.A,{value:e.name,children:e.name},e.isoCode)))]})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"firstName",sx:{fontWeight:"500",color:"#000",mb:1},children:"City/Town"}),(0,C.jsx)(Ie.A,{fullWidth:!0,children:(0,C.jsxs)(Se.A,{id:"city",name:"personalDetails.permanentAddress.city",value:lt,displayEmpty:!0,size:"small",defaultValue:"",onChange:e=>rt(e.target.value),fullWidth:!0,IconComponent:R.A,onClose:()=>yt(""),MenuProps:{PaperProps:{sx:{maxHeight:300,"&.MuiPaper-root":{boxShadow:3,borderRadius:"15px !important"}}}},children:[(0,C.jsx)(Ee.A,{children:(0,C.jsx)(De.A,{size:"small",autoFocus:!0,placeholder:"Search City...",fullWidth:!0,value:jt,onChange:e=>yt(e.target.value),InputProps:{startAdornment:(0,C.jsx)(We.A,{position:"start",children:(0,C.jsx)(_e.A,{})})},onKeyDown:e=>{"Escape"!==e.key&&e.stopPropagation()}})}),(0,C.jsx)(Ce.A,{value:"",disabled:!0,children:"Select City"}),bt.length>0?bt.map((e=>(0,C.jsx)(Ce.A,{value:e.name,children:e.name},e.name))):(0,C.jsx)(Ce.A,{disabled:!0,children:"No cities available"}),!Qe.some((e=>e.name===lt))&&void 0!==lt&&""!==lt&&(0,C.jsx)(Ce.A,{value:lt,children:lt},lt),(0,C.jsx)(Ce.A,{sx:{fontSize:"14px !important",display:"flex",alignItems:"center",whiteSpace:"normal",color:"#1cbeb5 !important"},onClick:()=>{oe((0,B.DE)({show:!0,data:{container:{name:"customfield",data:{name:"personalDetails.permanentAddress.city",fieldName:lt,setFieldName:rt,placeholder:"Enter your city"},dimensions:{width:"450px"}},type:"custom"}}))},children:"Can't find city"})]})})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"firstName",sx:{fontWeight:"500",color:"#000",mb:1},children:"Zipcode"}),(0,C.jsx)(Re.A,{id:"pinCode",type:"number",placeholder:"Pincode",name:"personalDetails.permanentAddress.pinCode",value:I.personalDetails.permanentAddress.pinCode,onChange:z,fullWidth:!0})]})]}):null,(0,C.jsx)(M.Ay,{item:!0,xs:12,sx:{display:"flex",justifyContent:"end",my:1,mr:10},children:(0,C.jsx)(Oe.S,{width:"100px",handleSubmit:()=>gt,children:je?(0,C.jsx)("img",{src:f.A.standardLoader,alt:"load",style:{width:"1rem"}}):"Update"})})]})})}})})};var Dt=i(56239),kt=i(75456);const It={PaperProps:{style:{maxHeight:224,width:150}}},zt=()=>{var e,t;const i=(0,S.j)(),[o,s]=(0,n.useState)(!1),[l,r]=(0,n.useState)(null),[d,c]=(0,n.useState)(null),u=(0,n.useRef)(null),[m,x]=(0,n.useState)(!1),[v,g]=(0,n.useState)(!1),j=(0,S.G)((e=>e.workexperience)),[y,b]=(0,n.useState)((null===(e=j.data)||void 0===e?void 0:e.length)>0?j.data:[{companyName:"",sector:"",type:"",startDate:"",endDate:"",designation:"",docId:d}]),[w,D]=(0,n.useState)(y.map((e=>e.endDate?"completed":""))),[k,I]=(0,n.useState)({}),z=async e=>{var t;switch(e.name){case"addWork":b([...y,{companyName:"",sector:"",type:"",designation:"",startDate:"",endDate:"",docId:d}]),I({...k,[y.length]:{}});break;case"removeWorkExperience":const s=[...y];s.splice(e.data,1);const l={...k};delete l[e.data],I(l);try{let e={workExperience:s};const t=await(0,A.oS)(e);var a;if(t)i((0,Dt.E_)(t.data.data.workExperience)),b((null===(a=t.data.data.workExperience)||void 0===a?void 0:a.length)>0?t.data.data.workExperience:[{companyName:"",sector:"",type:"",designation:"",startDate:"",endDate:"",docId:d}]),i((0,B.DE)({show:!0,data:{container:{name:"success",data:"Work experience removed",dimensions:{width:"30%",height:"40%",show:"none"}},type:"custom"}}))}catch(n){}break;case"inputChange":const{name:r,value:p}=e.data.e.target;b((t=>{const i=[...t];return i[e.data.index]={...i[e.data.index],[r]:p},i})),I((t=>{const i={...t};return i[e.data.index]&&(delete i[e.data.index][r],0===Object.keys(i[e.data.index]).length&&delete i[e.data.index]),i}));break;case"inputClick":null===u||void 0===u||null===(t=u.current)||void 0===t||t.click();break;case"statusChange":const h=[...w];h[e.data.index]=e.data.e.target.value,D(h);break;case"submitForm":if((()=>{const e={};return y.forEach(((t,i)=>{const a={};t.companyName||(a.companyName="Company Name is required"),t.sector||(a.sector="Sector is required"),t.designation||(a.designation="Designation is required"),t.startDate||(a.startDate="Start Date is required"),"completed"!==w[i]||t.endDate||(a.endDate="End Date is required"),t.type||(a.type="Work Type is required"),t.docId||m||(a.docId="Document upload is required"),Object.keys(a).length>0&&(e[i]=a)})),I(e),0===Object.keys(e).length})()){g(!0);try{let e={workExperience:y};const t=await(0,A.oS)(e);t&&(i((0,Dt.E_)(t.data.data.workExperience)),i((0,B.DE)({show:!0,data:{container:{name:"success",data:"Work experience added",dimensions:{width:"30%",height:"40%",show:"none"}},type:"custom"}}))),g(!1)}catch(n){g(!1)}}break;case"documentUpload":const v=e.data.e.target.files&&e.data.e.target.files[0];if(v&&Z.OD.includes(v.type))try{if(null!==v&&void 0!==v){x(!0);const e=new FormData;e.append("uploaded_file",v),e.append("fieldPath","workExperiences"),e.append("fileIdentifier","workExperiences".concat(v.name));const t=await(0,A.Lb)(e);if(t.data.success){i((0,J.FT)(t.data.data.docs));const e=t.data.data.docs.workExperiences[t.data.data.docs.workExperiences.length-1];c(e);const a=[...y];a[y.length-1].docId=e,b(a),x(!1)}else x(!1)}else x(!1)}catch(o){x(!1)}else i((0,B.DE)({show:!0,data:{container:{name:"error",data:"Only jpeg , png , pdf files are accepted",dimensions:{width:"250px",show:"none"}},type:"custom"}}))}};return(0,C.jsxs)(a.A,{sx:{overflowY:"scroll",px:3},children:[(0,C.jsx)(p.A,{fontSize:"1rem",gutterBottom:!0,color:"#3b3f76",sx:{ml:2,mb:2,fontWeight:"500"},children:"Provide details of your most recent or current experience"}),null===y||void 0===y?void 0:y.map(((e,t)=>{var n,o,l,d,c,x,v,g,A,S,D,I,F,N;return(0,C.jsx)("div",{className:"mb-5",children:(0,C.jsxs)(M.Ay,{container:!0,spacing:3,sx:{px:2},children:[(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"",sx:{color:"#000",fontWeight:500},children:"Name of Organization"}),(0,C.jsx)(De.A,{size:"small",name:"companyName",placeholder:"Name of Organization",value:e.companyName,onChange:e=>z({name:"inputChange",data:{index:t,e:e}}),required:!0,fullWidth:!0,error:!(null===(n=k[t])||void 0===n||!n.companyName),helperText:null===(o=k[t])||void 0===o?void 0:o.companyName})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"",sx:{color:"#000",fontWeight:500},children:"Sector"}),(0,C.jsxs)(Se.A,{size:"small",id:"Country",name:"sector",displayEmpty:!0,value:e.sector||"",onChange:e=>z({name:"inputChange",data:{index:t,e:e}}),IconComponent:R.A,required:!0,fullWidth:!0,error:!(null===(l=k[t])||void 0===l||!l.sector),MenuProps:It,children:[(0,C.jsx)(Ce.A,{disabled:!0,value:"",children:"Select a sector"}),Z.j$.map((e=>(0,C.jsx)(Ce.A,{value:e.value,children:e.name},e.name))),e.sector&&!Z.j$.some((t=>t.value===e.sector))&&(0,C.jsx)(Ce.A,{value:e.sector,children:e.sector},e.sector),(0,C.jsx)(Ce.A,{sx:{fontSize:"14px !important",display:"flex",alignItems:"center",whiteSpace:"normal",color:"#1cbeb5  !important"},onClick:()=>{i((0,B.DE)({show:!0,data:{container:{name:"customfield",data:{name:"workExperience[".concat(t,"].sector"),fieldName:e.sector,setFieldName:e=>{const i=[...y];i[t].sector=e,b(i)},placeholder:"Enter your sector"},dimensions:{width:"450px"}},type:"custom"}}))},children:"Can't find your sector"})]}),(null===(d=k[t])||void 0===d?void 0:d.sector)&&(0,C.jsx)(a.A,{sx:{color:"error.main",fontSize:"0.75rem",mt:1},children:k[t].sector})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"",sx:{color:"#000",fontWeight:500},children:"Type of Work"}),(0,C.jsxs)(Se.A,{size:"small",id:"Country",name:"type",displayEmpty:!0,defaultValue:"",value:e.type,onChange:e=>z({name:"inputChange",data:{index:t,e:e}}),IconComponent:R.A,required:!0,fullWidth:!0,error:!(null===(c=k[t])||void 0===c||!c.type),MenuProps:It,children:[(0,C.jsx)(Ce.A,{disabled:!0,value:"",children:"Select"}),Z.XB.map((e=>(0,C.jsx)(Ce.A,{value:e.value,children:e.name},e.name)))]}),(null===(x=k[t])||void 0===x?void 0:x.type)&&(0,C.jsx)(a.A,{sx:{color:"error.main",fontSize:"0.75rem",mt:1},children:k[t].type})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"",sx:{color:"#000",fontWeight:500},children:"Designation"}),(0,C.jsx)(De.A,{size:"small",name:"designation",placeholder:"Designation",value:e.designation,onChange:e=>z({name:"inputChange",data:{index:t,e:e}}),required:!0,fullWidth:!0,error:!(null===(v=k[t])||void 0===v||!v.designation),helperText:null===(g=k[t])||void 0===g?void 0:g.designation})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"",sx:{color:"#000",fontWeight:500},children:"Status"}),(0,C.jsx)(Ie.A,{sx:{},children:(0,C.jsxs)(ze.A,{row:!0,name:"workStatus",value:w[t],onChange:e=>z({name:"statusChange",data:{index:t,e:e}}),children:[(0,C.jsx)(Fe.A,{value:"completed",control:(0,C.jsx)(Ne.A,{}),label:"Completed"}),(0,C.jsx)(Fe.A,{value:"ongoing",control:(0,C.jsx)(Ne.A,{}),label:"Ongoing"})]})})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"",sx:{color:"#000",fontWeight:500},children:"Upload Document"}),(0,C.jsxs)(L.A,{direction:"row",spacing:1,alignItems:"center",onClick:()=>{var e;return null===u||void 0===u||null===(e=u.current)||void 0===e?void 0:e.click()},children:[e.docId?"":(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(K.A,{variant:"outlined",size:"small",component:"label",startIcon:(0,C.jsx)(U.A,{}),sx:{...G.zr,fontSize:"12px",textTransform:"capitalize"},children:["Upload",(0,C.jsx)("input",{type:"file",hidden:!0,onChange:e=>z({name:"documentUpload",data:{index:t,e:e}})})]}),(0,C.jsx)(h.A,{slotProps:{tooltip:{sx:{color:"#000",backgroundColor:"#fff",fontSize:"14px",boxShadow:1,"&.MuiTooltip-tooltip":{marginTop:"3px !important"}}}},title:"Only jpeg , png , pdf files are accepted",placement:"bottom",children:(0,C.jsx)(kt.A,{sx:{color:"#7d7d7d",fontSize:"1rem",cursor:"pointer"}})})]}),m?(0,C.jsx)(p.A,{variant:"body2",color:"textSecondary",children:"Uploading..."}):e.docId?(0,C.jsxs)(p.A,{variant:"body2",color:"textSecondary",sx:{display:"flex",gap:"1rem",alignItems:"center"},children:[null===e||void 0===e||null===(A=e.docId)||void 0===A||null===(S=A.data)||void 0===S?void 0:S.originalname,(0,C.jsx)(O.A,{sx:{fontSize:"large"},onClick:()=>{var t,a;i((0,B.DE)({show:!0,data:{container:{name:"fileViewer",data:null===(t=e.docId)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.preview_url,dimensions:{width:"500px"}},type:"custom"}}))}})]}):""]}),(null===(D=k[t])||void 0===D?void 0:D.docId)&&(0,C.jsx)(a.A,{sx:{color:"error.main",fontSize:"0.75rem",mt:1},children:k[t].docId})]}),(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"",sx:{color:"#000",fontWeight:500},children:"Start Date"}),(0,C.jsx)(Ke.A,{selectedDate:null===e||void 0===e?void 0:e.startDate,onChange:e=>z({name:"inputChange",data:{index:t,e:{target:{name:"startDate",value:e?e.toISOString().slice(0,10):""}}}}),maxDate:new Date,placeholderText:"Start Date"}),(null===(I=k[t])||void 0===I?void 0:I.startDate)&&(0,C.jsx)(a.A,{sx:{color:"error.main",fontSize:"0.75rem",mt:1},children:k[t].startDate})]}),"completed"===w[t]&&(0,C.jsxs)(M.Ay,{item:!0,xs:12,sm:6,children:[(0,C.jsx)(we.A,{id:"",sx:{color:"#000",fontWeight:500},children:"End Date"}),(0,C.jsx)(Ke.A,{selectedDate:null===e||void 0===e?void 0:e.endDate,onChange:e=>z({name:"inputChange",data:{index:t,e:{target:{name:"endDate",value:e?e.toISOString().slice(0,10):""}}}}),minDate:null!==e&&void 0!==e&&e.startDate?new Date(new Date(null===e||void 0===e?void 0:e.startDate).getTime()+864e6):void 0,maxDate:new Date,placeholderText:"End Date"}),(null===(F=k[t])||void 0===F?void 0:F.endDate)&&(0,C.jsx)(a.A,{sx:{color:"error.main",fontSize:"0.75rem",mt:1},children:k[t].endDate})]}),(null===j||void 0===j||null===(N=j.data)||void 0===N?void 0:N.length)>0&&(0,C.jsx)(M.Ay,{item:!0,xs:12,sx:{mt:3},children:(0,C.jsx)(a.A,{sx:{display:"flex",justifyContent:"end"},children:(0,C.jsx)("img",{src:f.A.deleteIcon,alt:"delete",style:{width:"1.5rem",cursor:"pointer"},onClick:()=>{return e=t,s(!0),void r(e);var e}})})})]})},t)})),(0,C.jsx)(a.A,{sx:{mt:4},children:(0,C.jsxs)(L.A,{direction:"row",sx:{mt:5,mb:1,display:"flex",justifyContent:"end",mr:10},spacing:2,children:[(null===j||void 0===j||null===(t=j.data)||void 0===t?void 0:t.length)>0&&(0,C.jsx)(K.A,{variant:"outlined",sx:{...G.zr,textTransform:"capitalize"},onClick:()=>z({name:"addWork",data:{}}),children:"Add Previous"}),(0,C.jsx)(Oe.S,{width:"100px",handleSubmit:()=>z({name:"submitForm",data:{}}),children:v?(0,C.jsx)("img",{src:f.A.standardLoader,alt:"load",style:{width:"1rem",height:"1rem",padding:"4px"}}):"Save"})]})}),(0,C.jsx)($.A,{open:o,handleClose:()=>s(!1),additionalData:{onSubmit:()=>z({name:"removeWorkExperience",data:l}),title:"Are you sure you want to delete ?",content:""}})]})};var Ft=i(68620),Nt=i(83510),Et=i(95922),Wt=i(20289),Pt=i(41302),Rt=i(41116),Gt=i(92429);const Tt=()=>{const e=[{label:"Personal Information",image:(0,C.jsx)(Et.A,{}),Component:(0,C.jsx)(Ct,{})},{label:"Education",image:(0,C.jsx)(Nt.A,{}),Component:(0,C.jsx)(Ze,{})},{label:"Test Scores",image:(0,C.jsx)(Gt.A,{}),Component:(0,C.jsx)(at,{})},{label:"Work experience",image:(0,C.jsx)(Wt.A,{}),Component:(0,C.jsx)(zt,{})},{label:"Preferences",image:(0,C.jsx)(Ft.A,{}),Component:(0,C.jsx)(ut,{})},{label:"Family",image:(0,C.jsx)(Rt.A,{}),Component:(0,C.jsx)(bt,{})},{label:"Extra Curriculum Activities ",image:(0,C.jsx)(Pt.A,{}),Component:(0,C.jsx)(vt,{})}];return(0,C.jsxs)(a.A,{sx:{},children:[(0,C.jsx)(a.A,{sx:{display:{xs:"block",lg:"none"}},children:null===e||void 0===e?void 0:e.map((e=>(0,C.jsx)(T,{title:e.label,imageUrl:e.image,children:e.Component},e)))}),(0,C.jsx)(a.A,{sx:{display:{xs:"none",lg:"block"}},children:(0,C.jsx)(z.A,{tabs:e})})]})},Mt=()=>{var e,t;const i=(0,S.G)((e=>e.applications)),n=(0,S.j)();function o(e){return e.toLocaleString("default",{month:"short"})+" "+e.getFullYear()}return(0,C.jsx)("div",{style:{overflowY:"scroll",paddingTop:"1rem"},children:(0,C.jsx)(M.Ay,{container:!0,spacing:3,children:null!==i&&void 0!==i&&i.data&&(null===i||void 0===i||null===(e=i.data)||void 0===e?void 0:e.length)>0?(0,C.jsx)(C.Fragment,{children:null===i||void 0===i||null===(t=i.data)||void 0===t?void 0:t.map(((e,t)=>{var i,s,l,r,d,c,u;return(0,C.jsx)(M.Ay,{item:!0,xs:12,sm:6,lg:4,sx:{paddingLeft:{xs:0,md:"1rem"}},children:(0,C.jsx)(oe.A,{title:e.stage,i:t,children:(0,C.jsxs)(a.A,{onClick:()=>n((0,B.DE)({show:!0,data:{container:{name:"applicationPopup",data:e._id,dimensions:{width:"800px",height:"85%"}},type:"custom"}})),children:[!0===(null===e||void 0===e?void 0:e.cancellationRequest)?(0,C.jsx)("img",{src:f.A.cancelledIcon,alt:"cancelled",style:{position:"absolute",top:"-28px",right:"-26px"}}):"",(0,C.jsxs)(a.A,{sx:{display:"flex",gap:"10px",width:"100%"},children:[(0,C.jsx)("img",{src:null===(i=e.course)||void 0===i||null===(s=i.university)||void 0===s?void 0:s.logoSrc,alt:"logo",style:{width:"1.5rem",height:"1.5rem",marginRight:"5px",borderRadius:"10px"}}),(0,C.jsxs)("div",{style:{flex:1},children:[(0,C.jsx)(h.A,{slotProps:{tooltip:{sx:{color:"#fff",backgroundColor:"#3B3F76",boxShadow:1,"&.MuiTooltip-tooltip":{marginTop:"-5px !important"}}}},title:e.course.name,placement:"bottom",children:(0,C.jsx)(p.A,{fontSize:"0.9rem",sx:{fontSize:{xs:"13px",lg:"14px"},fontWeight:500,textOverflow:"ellipsis ",lineClamp:1,height:"1.5rem",textTransform:"capitalize",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:"1",WebkitBoxOrient:"vertical"},children:e.course.name})}),(0,C.jsxs)(p.A,{fontSize:"0.9rem",sx:{fontSize:{xs:"12px",lg:"12px"},height:"1.5rem",textTransform:"capitalize",display:"-webkit-box",WebkitBoxOrient:"vertical",my:1},children:[null===(l=e.course)||void 0===l||null===(r=l.university)||void 0===r?void 0:r.name," | \xa0",null===(d=e.course)||void 0===d||null===(c=d.university)||void 0===c||null===(u=c.location)||void 0===u?void 0:u.country]})]})]}),(0,C.jsx)(L.A,{direction:"row",justifyContent:"end",spacing:1,sx:{mt:1},children:(0,C.jsxs)(p.A,{component:"span",fontSize:"0.8rem",fontWeight:"500",sx:{display:"flex",alignItems:"center",whiteSpace:"nowrap"},children:[(0,C.jsx)(le.A,{sx:{fontSize:"1.25rem"}}),"\xa0 Start date :",null!==e&&void 0!==e&&e.intake?o(new Date(null===e||void 0===e?void 0:e.intake)):null]})})]})})},t)}))}):(0,C.jsxs)(M.Ay,{item:!0,xs:12,sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px",flexDirection:"column"},children:[(0,C.jsx)("img",{src:f.A.noData,alt:"noData",style:{width:"70px",height:"70px",marginBottom:"1rem"}}),(0,C.jsx)(p.A,{children:"No products purchased"})]})})})};var Lt=i(4598),Ot=i(59454),Bt=i(21834),qt=i(81574),Yt=i(78030);const _t=()=>{var e,t,i,o,s,l,r,c,u,m,x,v,g,j,y;const{id:b}=(0,d.g)(),[w,D]=(0,n.useState)("Safe"),k=(0,S.G)((e=>e.recommendations)),I=null===k||void 0===k||null===(e=k.data)||void 0===e?void 0:e.criteria,z=(0,S.G)((e=>e.preferences)),F=(0,S.G)((e=>e.educationhistory)),N=(0,S.G)((e=>e.testscores)),E=N.data.find((e=>"Graduate Record Examination"===e.name)),W=(null===I||void 0===I?void 0:I.sub_discipline)===JSON.stringify(null===z||void 0===z||null===(t=z.data)||void 0===t?void 0:t.courses)&&(null===I||void 0===I?void 0:I.ug_gpa)===JSON.stringify(null===F||void 0===F||null===(i=F.data)||void 0===i?void 0:i.underGraduation)&&(null===I||void 0===I?void 0:I.gre)===JSON.stringify(null===E||void 0===E?void 0:E.scores),P=(null===k||void 0===k?void 0:k.data)&&(null===k||void 0===k||null===(o=k.data)||void 0===o||null===(s=o.data)||void 0===s?void 0:s.filter((e=>"Ambitious"===(null===e||void 0===e?void 0:e.possibilityOfAdmit)))),R=(null===k||void 0===k?void 0:k.data)&&(null===k||void 0===k||null===(l=k.data)||void 0===l||null===(r=l.data)||void 0===r?void 0:r.filter((e=>"Safe"===(null===e||void 0===e?void 0:e.possibilityOfAdmit)))),T=(null===k||void 0===k?void 0:k.data)&&(null===k||void 0===k||null===(c=k.data)||void 0===c||null===(u=c.data)||void 0===u?void 0:u.filter((e=>"Moderate"===(null===e||void 0===e?void 0:e.possibilityOfAdmit)))),O=(null!==(m=null===z||void 0===z||null===(x=z.data)||void 0===x||null===(v=x.courses)||void 0===v?void 0:v.length)&&void 0!==m?m:0)>0,[q,Y]=(0,n.useState)(!1),[_,V]=n.useState("interested");(0,n.useEffect)((()=>{if(b){const e=Q.find((e=>e.value.toLowerCase()===b.toLowerCase()));e&&D(e.value)}}),[b]);const U=e=>{var t,i,o,s,l,r,d,c,u,m,x,v;const g=null===e||void 0===e?void 0:e.data,j=(0,S.G)((e=>e.userAuthStatus)),y=(0,S.G)((e=>e.shortlistedcourses)),b=(0,S.j)(),[w,D]=(0,n.useState)({}),[k,I]=n.useState(!1),[z,F]=(0,n.useState)(),N=async e=>{var t,i;switch(e.name){case"cart":var a;if(null!==j&&void 0!==j&&null!==(t=j.data)&&void 0!==t&&t.isAuthorized&&null!==j&&void 0!==j&&null!==(i=j.data)&&void 0!==i&&i.isAuthorized)b((0,B.DE)({show:!0,data:{container:{name:"applynow",data:null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.course,dimensions:{width:"450px"}},type:"custom"}}));else b((0,B.DE)({show:!0,data:{container:{name:"login",dimensions:{width:"800px",height:"70%",show:"none"}},type:"custom"}}));break;case"shortlist":try{var n,o;if(null!==j&&void 0!==j&&null!==(n=j.data)&&void 0!==n&&n.isAuthorized&&null!==j&&void 0!==j&&null!==(o=j.data)&&void 0!==o&&o.isAuthorized){var s,l;D((t=>({...t,[e.data.course._id]:!0})));const t={action:"push",courseId:null===(s=e.data)||void 0===s||null===(l=s.course)||void 0===l?void 0:l._id},i=await(0,A.ZK)(t);i.data.success?(b((0,se.u$)(i.data.data)),D((t=>({...t,[e.data.course._id]:!1})))):D((t=>({...t,[e.data.course._id]:!1})))}else b((0,B.DE)({show:!0,data:{container:{name:"login",dimensions:{width:"800px",height:"70%",show:"none"}},type:"custom"}}))}catch(c){console.error("An error occurred while shortlisting:",c),D((t=>({...t,[e.data._id]:!1})))}break;case"delete":try{var r,d;D((t=>({...t,[e.data.course._id]:!0})));const t={action:"pull",courseId:null===(r=e.data)||void 0===r||null===(d=r.course)||void 0===d?void 0:d._id},i=await(0,A.ZK)(t);i.data.success&&(D((t=>{var i;return{...t,[null===(i=e.data.course)||void 0===i?void 0:i._id]:!1}})),b((0,se.u$)(i.data.data)))}catch(c){D((t=>({...t,[e.data.course._id]:!1}))),console.error("An error occurred while unshortlisting:",c)}break;case"hideRecommendation":try{const t=await(0,A.Gd)({recommendationId:e.data});b((0,Yt.M2)(t.data.data))}catch(u){}}},E=Object.fromEntries(Object.entries(Xe.yZ).map((e=>{let[t,i]=e;return[i,t]})));return(0,C.jsxs)("div",{children:[(0,C.jsxs)(oe.A,{title:!0===(null===g||void 0===g?void 0:g.counsellorRecommended)?"Counsellor Recommended":"AI recommended",i:e.i,children:[(0,C.jsxs)(a.A,{onClick:()=>{var e;b((0,B.DE)({show:!0,data:{container:{name:"mainPopup",data:{...g.course,university:{...null===g||void 0===g||null===(e=g.course)||void 0===e?void 0:e.university}},dimensions:{width:"90%"}},type:"custom"}}))},children:[(0,C.jsxs)(a.A,{sx:{display:"flex",gap:"10px",width:"100%"},children:[(0,C.jsx)("img",{src:null===(t=g.course)||void 0===t||null===(i=t.university)||void 0===i?void 0:i.logoSrc,alt:"logo",style:{width:"1.5rem",height:"1.5rem",marginRight:"5px",borderRadius:"10px"}}),(0,C.jsxs)("div",{style:{flex:1},children:[(0,C.jsx)(h.A,{slotProps:{tooltip:{sx:{color:"#fff",backgroundColor:"#3B3F76",boxShadow:1,"&.MuiTooltip-tooltip":{marginTop:"-5px !important"}}}},title:null===g||void 0===g||null===(o=g.course)||void 0===o?void 0:o.name,placement:"bottom",children:(0,C.jsx)(p.A,{fontSize:"0.9rem",sx:{fontSize:{xs:"13px",lg:"14px"},fontWeight:500,textOverflow:"ellipsis ",lineClamp:1,height:"1.5rem",textTransform:"capitalize",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:"1",WebkitBoxOrient:"vertical"},children:null===g||void 0===g||null===(s=g.course)||void 0===s?void 0:s.name})}),(0,C.jsxs)(p.A,{fontSize:"0.8rem",color:"#8D8B8B",children:[null===(l=g.course)||void 0===l||null===(r=l.university)||void 0===r?void 0:r.name," ,\xa0",E[null===g||void 0===g||null===(d=g.course)||void 0===d||null===(c=d.university)||void 0===c||null===(u=c.location)||void 0===u?void 0:u.country]]})]})]}),(0,C.jsx)(L.A,{sx:{my:1,marginLeft:"2rem"},spacing:1,children:(0,C.jsxs)(L.A,{direction:"row",alignItems:"center",spacing:1,sx:{flexWrap:"nowrap",height:"1.5rem",fontWeight:600,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},children:[(0,C.jsxs)(p.A,{component:"span",fontSize:"0.8rem",sx:{display:"flex",alignItems:"center",whiteSpace:"nowrap"},children:[(0,C.jsx)(le.A,{sx:{fontSize:"1.25rem"}}),"\xa0 Start date :"," "+(null===g||void 0===g||null===(m=g.course)||void 0===m||null===(x=m.startDate)||void 0===x?void 0:x.map(((e,t)=>Z.dF[null===e||void 0===e?void 0:e.courseStartingMonth])).join(", "))]}),(0,C.jsxs)(p.A,{fontSize:"0.8rem",children:["| ",g.course.studyLevel]})]})})]}),(0,C.jsx)(M.Ay,{container:!0,spacing:2,sx:{paddingLeft:"40px",mt:"0 !important"},children:(0,C.jsxs)(M.Ay,{item:!0,xs:12,sx:{display:"flex",alignItems:"center",justifyContent:"end",gap:"1rem"},children:[(0,C.jsx)(a.A,{children:w[null===(v=g.course)||void 0===v?void 0:v._id]?(0,C.jsx)(K.A,{sx:{border:"1px solid #1C1F40",borderRadius:"50%",width:"2rem",display:"flex",justifyContent:"center",alignItems:"center",minWidth:0},children:(0,C.jsx)(a.A,{component:"img",src:f.A.standardLoader,alt:"standardLoader",sx:{width:"1rem",height:"1rem"}})}):y.data.some((e=>{var t;return e._id===(null===(t=g.course)||void 0===t?void 0:t._id)}))?(0,C.jsxs)(K.A,{sx:{border:"1px solid #1C1F40",borderRadius:"50%",width:"2rem",display:"flex",justifyContent:"center",alignItems:"center",minWidth:0},onClick:()=>N({name:"delete",data:g}),children:[(0,C.jsx)(Bt.A,{sx:{color:"#1C1F40",fontSize:"1.2rem"}})," "]}):(0,C.jsx)(K.A,{sx:{border:"1px solid #1C1F40",borderRadius:"50%",width:"2rem",height:"2rem",display:"flex",justifyContent:"center",alignItems:"center",minWidth:0},onClick:()=>N({name:"shortlist",data:g}),children:(0,C.jsx)(Ot.A,{sx:{color:"#1C1F40",fontSize:"1.2rem"}})})}),(0,C.jsx)(K.A,{sx:{border:"1px solid #1C1F40",borderRadius:"50%",width:"2rem",height:"2rem",display:"flex",justifyContent:"center",alignItems:"center",minWidth:0},onClick:()=>N({name:"cart",data:g}),children:(0,C.jsx)(re.A,{sx:{fontSize:"1.25rem",color:"#1C1F40"}})}),(0,C.jsx)(a.A,{sx:{},children:!0===g.notInterested?"":(0,C.jsx)(h.A,{slotProps:{tooltip:{sx:{color:"#fff",boxShadow:1,"&.MuiTooltip-tooltip":{marginTop:"-5px !important"}}}},title:"Not interested",placement:"bottom",children:(0,C.jsx)(a.A,{sx:{border:"1px solid #3B3F76",borderRadius:"50%",p:1,display:"flex",justifyContent:"center",alignItems:"center",width:"1rem",height:"1rem"},children:(0,C.jsx)(qt.A,{sx:{fontSize:"1.1rem",color:"#3b3f76"},onClick:()=>(e=>{I(!0),F(e)})(g._id)})})})})]})})]}),(0,C.jsx)($.A,{open:k,handleClose:()=>I(!1),additionalData:{onSubmit:()=>N({name:"hideRecommendation",data:z}),title:"Are you sure you want to make this course as not interested ?",content:""}})]})};(0,n.useEffect)((()=>{(async()=>{Y(!0),await new Promise((e=>setTimeout(e,1e3))),Y(!1)})()}),[]);const H=e=>null===e||void 0===e?void 0:e.filter((e=>"interested"===_?!e.notInterested:e.notInterested)),Q=[{label:"Safe (".concat(R&&H(R).length,")"),Component:(0,C.jsx)(a.A,{className:"recommended-card-list",children:(0,C.jsx)(M.Ay,{container:!0,spacing:3,sx:{overflowY:"scroll"},children:R&&H(R).map(((e,t)=>(0,C.jsx)(M.Ay,{item:!0,xs:12,sm:6,lg:4,children:(0,C.jsx)(U,{data:e,i:t})},t)))})}),value:"Safe"},{label:"Moderate (".concat(T&&H(T).length,")"),Component:(0,C.jsx)(a.A,{className:"recommended-card-list",children:(0,C.jsx)(M.Ay,{container:!0,spacing:3,sx:{overflowY:"scroll"},children:T&&H(T).map(((e,t)=>(0,C.jsx)(M.Ay,{item:!0,xs:12,sm:6,lg:4,children:(0,C.jsx)(U,{data:e,i:t},e._id)},t)))})}),value:"Moderate"},{label:"Ambitious (".concat(P&&H(P).length,")"),Component:(0,C.jsx)(a.A,{children:(0,C.jsx)(M.Ay,{container:!0,spacing:3,sx:{overflowY:"scroll"},children:P&&H(P).map(((e,t)=>(0,C.jsx)(M.Ay,{item:!0,xs:12,sm:6,lg:4,children:(0,C.jsx)(U,{data:e,i:t},e._id)},t)))})}),value:"Ambitious"}],J=(0,S.j)(),X=async()=>{Y(!0);try{const e=await(0,A.Dz)({});e&&J((0,Yt.M2)(e.data))}catch(e){}finally{Y(!1)}};return(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(a.A,{children:q?(0,C.jsx)(a.A,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"500px"},children:(0,C.jsx)(p.A,{textAlign:"center",children:"Loading..."})}):null!==k&&void 0!==k&&k.data&&(null===k||void 0===k||null===(g=k.data)||void 0===g||null===(j=g.data)||void 0===j?void 0:j.length)>0?(0,C.jsxs)(C.Fragment,{children:[!W&&(0,C.jsx)(K.A,{onClick:X,sx:G.zr,children:q?(0,C.jsx)("img",{src:f.A.standardLoader,alt:"load",style:{width:"1rem"}}):"Regenerate"}),(0,C.jsxs)(M.Ay,{container:!0,spacing:2,children:[(0,C.jsx)(M.Ay,{item:!0,xs:9}),(0,C.jsx)(M.Ay,{item:!0,xs:3,children:(0,C.jsx)(Fe.A,{control:(0,C.jsx)(Lt.A,{checked:"interested"===_,onChange:e=>{V(e.target.checked?"interested":"notInterested")},sx:{"& .MuiSwitch-switchBase":{color:"#3b3f76","&.Mui-checked":{color:"#3b3f76"},"&.Mui-checked + .MuiSwitch-track":{backgroundColor:"#3b3f76"}},"& .MuiSwitch-track":{backgroundColor:"#e0e0e0"}}}),label:"interested"===_?"Interested":"Not Interested",sx:{".MuiFormControlLabel-label":{width:"100%",textAlign:"center",color:"#3b3f76",fontWeight:"400",textTransform:"capitalize",borderRadius:"8px",padding:"8px",transition:"background-color 0.3s"}}})})]}),(0,C.jsx)(a.A,{sx:{display:"flex",gap:"1rem",mb:2},children:Q.map((e=>(0,C.jsx)(K.A,{onClick:()=>D(e.value),sx:{borderBottom:e.value===w?"2px solid #3b3f76":"none",textTransform:"none",borderRadius:"0",color:e.value===w?"#3b3f76":"#3b3f7699",display:"flex",justifyContent:"space-between",p:1,px:2,"&:hover":{color:"#3b3f76"}},children:e.label},e.label)))}),null===(y=Q.find((e=>e.value===w)))||void 0===y?void 0:y.Component]}):(0,C.jsxs)(a.A,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"500px",px:{xs:3,md:10},gap:"1rem"},children:[(0,C.jsxs)(p.A,{sx:{fontSize:{xs:"1.5rem",md:"2rem"},fontWeight:"500",color:"#3B3F76"},children:["AI Recommended ",(0,C.jsx)("span",{style:{color:"rgba(48, 51, 99, 0.5)"},children:"Course finder"})]}),(0,C.jsx)(p.A,{textAlign:"center",sx:{fontSize:{xs:"0.85rem",md:"1rem"}},children:"Considering studying abroad but unsure about the best universities and courses for your needs? Give our AI-powered University Course Finder a try. Input your preferences, and let the AI analyze millions of data points to provide you with the information you need, saving you hours of research."}),(0,C.jsx)(Oe.S,{width:"150px",handleSubmit:async()=>{var e;O&&void 0!==(null===F||void 0===F||null===(e=F.data)||void 0===e?void 0:e.underGraduation)&&E?X():J((0,B.DE)({show:!0,data:{container:{name:"qasection",dimensions:{width:"70%",height:"90%"}},type:"custom"}}))},children:"Generate"})]})})})},Vt=()=>{var e,t,i,n;const o=(0,S.G)((e=>e.preferences)),s=(0,S.G)((e=>e.advisor)),l=(0,S.j)(),r=(null===s||void 0===s||null===(e=s.data)||void 0===e?void 0:e.flatMap((e=>e.assignedCountries)))||[],d=null===o||void 0===o||null===(t=o.data)||void 0===t||null===(i=t.country)||void 0===i?void 0:i.filter((e=>!r.includes(e)));return(0,C.jsxs)("div",{children:[(0,C.jsx)(p.A,{color:"#3B3F76",gutterBottom:!0,fontSize:"1.2rem",children:"Advisors"}),(0,C.jsx)(a.A,{sx:{borderRadius:"1rem"},children:(0,C.jsxs)(M.Ay,{container:!0,spacing:3,children:[null===s||void 0===s||null===(n=s.data)||void 0===n?void 0:n.map(((e,t)=>{var i,n,o,s,r,d;return(0,C.jsx)(M.Ay,{item:!0,xs:12,sm:6,lg:4,sx:{cursor:"pointer"},onClick:()=>l((0,B.DE)({show:!0,data:{container:{name:"advisor",data:e,dimensions:{width:"900px",height:"85%"}},type:"custom"}})),children:(0,C.jsx)(oe.A,{title:(0,ue.Tl)(null===e||void 0===e||null===(i=e.info)||void 0===i?void 0:i.role),i:t,children:(0,C.jsxs)(a.A,{sx:{px:2,pb:2,borderRadius:"1rem",display:"flex",gap:"1rem",position:"relative",height:"100px"},children:[(0,C.jsx)(m.A,{src:null===e||void 0===e||null===(n=e.info)||void 0===n?void 0:n.displayPicSrc,alt:""}),(0,C.jsxs)("div",{style:{width:"100%"},children:[(0,C.jsx)(p.A,{gutterBottom:!0,fontSize:"1.2rem",children:(0,ue.r0)(null===e||void 0===e||null===(o=e.info)||void 0===o?void 0:o.firstName)}),"remoteStudentAdvisor"===(null===e||void 0===e||null===(s=e.info)||void 0===s?void 0:s.role)?(0,C.jsxs)(p.A,{fontSize:"0.9rem",sx:{mt:1},children:["Specialist in : "," ",(0,C.jsx)("span",{style:{color:"#00000066",fontWeight:"500"},children:"Providing academic guidance and career support"})]}):"",(null===e||void 0===e||null===(r=e.assignedCountries)||void 0===r?void 0:r.length)>0?(0,C.jsxs)(p.A,{fontSize:"0.9rem",sx:{mt:1},children:["Specialist in : "," ",null===e||void 0===e||null===(d=e.assignedCountries)||void 0===d?void 0:d.map(((t,i)=>{var a;return(0,C.jsxs)("span",{style:{color:"#00000066",fontWeight:"500"},children:[t,i<(null===e||void 0===e||null===(a=e.assignedCountries)||void 0===a?void 0:a.length)-1&&", "]},i)}))]}):""]})]})})},t)})),null===d||void 0===d?void 0:d.map(((e,t)=>(0,C.jsx)(M.Ay,{item:!0,xs:12,sm:6,lg:4,children:(0,C.jsxs)(a.A,{sx:{backgroundColor:"#EDEDFD",px:2,py:4,borderRadius:"1rem",display:"flex",gap:"1rem",position:"relative",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100px"},children:[(0,C.jsxs)(p.A,{color:"#3B3F76CC",fontSize:"14px",children:["Click below to get the advisor assigned for ",e]}),(0,C.jsx)(K.A,{onClick:()=>(async e=>{try{var t;const i=await(0,A.id)({country:e}),a=i.data.data.advisor,n=null===s||void 0===s||null===(t=s.data)||void 0===t?void 0:t.find((e=>e._id===a._id));l(n?(0,dt.UN)(a):(0,dt.S6)(a)),null!==i.data.data.chat&&l((0,ct.Nl)(i.data.data.chat))}catch(i){console.error(i)}})(e),sx:{border:"1px solid #3B3F76CC",borderRadius:"15px",p:.5,textTransform:"none",color:"#3B3F76CC"},children:"Request for advisor"})]})},t)))]})})]})};var Kt=i(19778),Ut=i(41190);const Ht=()=>{const e=(0,S.G)((e=>e.advisor)),t=(0,S.G)((e=>e.cart)),i=(0,S.G)((e=>e.orders)),o=(0,S.j)(),s=(0,d.Zp)(),[l,r]=(0,n.useState)(null),[c,u]=(0,n.useState)(!1),[m,x]=(0,n.useState)([]),[v,g]=(0,n.useState)(!0);(0,n.useEffect)((()=>{const e=m.length>0,i=m.some((e=>{const i=t.data.find((t=>t._id===e));return!!i&&j(i)}));g(!e||i)}),[m,t]);const j=e=>{var t;return null===i||void 0===i||null===(t=i.data)||void 0===t?void 0:t.some((t=>{var i;return null===(i=t.products)||void 0===i?void 0:i.some((t=>{var i,a;return(null===t||void 0===t||null===(i=t.course)||void 0===i?void 0:i._id)===(null===e||void 0===e||null===(a=e.course)||void 0===a?void 0:a._id)&&new Date(null===t||void 0===t?void 0:t.intake).getTime()===new Date(null===e||void 0===e?void 0:e.intake).getTime()}))}))},y=i.data.reduce(((e,t)=>{var i;return e+((null===(i=t.products)||void 0===i?void 0:i.filter((e=>"premium application"===e.category)))||[]).length}),0),b=e=>{m.includes(e._id)?x(m.filter((t=>t!==e._id))):x([...m,e._id])},w=e=>{u(!0),r(e)},D=e=>{const t=new Date(e),i=t.toLocaleString("default",{month:"short"}),a=t.getFullYear();return"".concat(i," ").concat(a)};return(0,C.jsxs)(a.A,{children:[(0,C.jsx)(a.A,{sx:{height:"65vh",overflowY:"scroll",p:1},children:(0,C.jsx)(M.Ay,{container:!0,spacing:3,children:t.data&&t.data.length>0?t.data.map(((e,t)=>{var i,n,s;const l=j(e),r=m.includes(e._id);return(0,C.jsx)(M.Ay,{item:!0,xs:12,sm:6,lg:4,sx:{paddingLeft:{xs:0,md:"1rem"}},children:(0,C.jsxs)(oe.A,{title:null===e||void 0===e||null===(i=e.course)||void 0===i||null===(n=i.university)||void 0===n||null===(s=n.location)||void 0===s?void 0:s.country,disabled:l,i:t,children:[(0,C.jsxs)(a.A,{sx:{display:"flex",gap:"10px"},onClick:()=>{o((0,B.DE)({show:!0,data:{container:{name:"mainPopup",data:e.course,dimensions:{width:"80%"}},type:"custom"}}))},children:[(0,C.jsx)("img",{src:e.course.university.logoSrc,alt:"logo",style:{width:"1.5rem",height:"1.5rem",borderRadius:"10px"}}),(0,C.jsxs)(a.A,{sx:{flex:1},children:[(0,C.jsx)(p.A,{fontSize:"0.9rem",fontWeight:"500",gutterBottom:!0,sx:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",mb:1.5,textTransform:"capitalize"},children:e.course.university.name}),(0,C.jsx)(h.A,{title:e.course.name,placement:"bottom",slotProps:{tooltip:{sx:{color:"#fff",backgroundColor:"#3B3F76",boxShadow:1,"&.MuiTooltip-tooltip":{marginTop:"-5px !important"}}}},children:(0,C.jsx)(p.A,{fontSize:"0.9rem",sx:{fontSize:{xs:"13px",lg:"14px"},fontWeight:500,textOverflow:"ellipsis ",lineClamp:1,height:"1.5rem",textTransform:"capitalize",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:"1",WebkitBoxOrient:"vertical"},children:e.course.name})}),(0,C.jsxs)(p.A,{component:"span",fontSize:"0.8rem",fontWeight:"500",sx:{display:"flex",alignItems:"center",whiteSpace:"nowrap",mt:1},children:[(0,C.jsx)(le.A,{sx:{fontSize:"1.25rem"}}),"\xa0 Start date:"," ",e.intake?D(e.intake):"N/A"]})]})]}),(0,C.jsxs)(M.Ay,{container:!0,spacing:2,sx:{mt:1,alignItems:"center"},children:[(0,C.jsx)(M.Ay,{item:!0,xs:6,sx:{display:"flex",justifyContent:"center"},children:!e.course.elite&&!l&&y<5&&(0,C.jsx)(K.A,{sx:{color:"#fff",background:"linear-gradient(90deg, #0252B2 0%, #561D6C 100%)",fontWeight:"500",fontSize:"10px",textTransform:"none",borderRadius:"15px",padding:"3px 0",width:"100px"},children:"Apply for free"})}),(0,C.jsx)(M.Ay,{item:!0,xs:6,sx:{display:"flex",justifyContent:"flex-end",alignItems:"center",gap:"8px"},children:l?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("img",{src:f.A.deleteIcon,alt:"delete",style:{width:"1.5rem",height:"1.5rem"},onClick:()=>w(e)}),(0,C.jsx)(Kt.A,{sx:{fontSize:"1.25rem",color:"#02b524"}}),(0,C.jsx)(p.A,{sx:{fontSize:"12px",color:"#02b524",textTransform:"capitalize",whiteSpace:"nowrap"},children:"Already placed"})]}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("img",{src:f.A.deleteIcon,alt:"delete",style:{width:"1.5rem",height:"1.5rem"},onClick:()=>w(e)}),r?(0,C.jsx)(Kt.A,{sx:{fontSize:"1.35rem",color:"#1C1F40"},onClick:()=>b(e)}):(0,C.jsx)(a.A,{sx:{width:"1.1rem",height:"1.1rem",borderRadius:"50%",border:"1px solid #000",marginTop:"3px",marginLeft:"5px"},onClick:()=>b(e)})]})})]})]})},e._id)})):(0,C.jsxs)(M.Ay,{item:!0,xs:12,sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px",flexDirection:"column"},children:[(0,C.jsx)("img",{src:f.A.noData,alt:"noData",style:{width:"70px",height:"70px",marginBottom:"1rem"}}),(0,C.jsx)(p.A,{sx:{mb:2},children:"Your cart is empty"}),(0,C.jsx)(K.A,{sx:[G.Q4,{width:"150px"}],onClick:()=>{const e="activeTab=".concat(encodeURIComponent(JSON.stringify("courses")),"&FilterData=").concat(encodeURIComponent(JSON.stringify([])),"&page=").concat(JSON.stringify(1),"&search=").concat(encodeURIComponent(JSON.stringify(""))),t=window.btoa(e);s("/explore?".concat(t))},children:"Add products"})]})})}),t.data&&t.data.length>0&&(0,C.jsxs)(a.A,{sx:{display:"flex",justifyContent:"center",flexDirection:{xs:"column",sm:"row"},gap:{xs:2,md:2},mb:2,p:1},children:[(0,C.jsx)(K.A,{sx:[G.zr,{width:"200px"}],onClick:()=>{var t;const i=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.filter((e=>"counsellor"===e.info.role));if(i&&i.length>0){const e=i[0];o((0,B.DE)({show:!0,data:{container:{name:"advisor",data:e,dimensions:{width:"900px",height:"85%"}},type:"custom"}}))}else s("/profile/advisors")},children:"Request a Quote"}),v?(0,C.jsx)(h.A,{slotProps:{tooltip:{sx:{color:"#fff",backgroundColor:"#3B3F76",boxShadow:1,"&.MuiTooltip-tooltip":{marginTop:"-5px !important"}}}},title:"Select courses to proceed",placement:"top",children:(0,C.jsx)("span",{style:{cursor:"pointer"},children:(0,C.jsx)(K.A,{sx:[G.Q4,{width:"200px",background:"#dfe1e6"}],disabled:!0,children:"Proceed to Checkout"})})}):(0,C.jsx)(K.A,{sx:[G.Q4,{width:"200px",background:"#3b3f76"}],onClick:()=>{const e=t.data.filter((e=>m.includes(e._id)));o((0,B.DE)({show:!0,data:{container:{name:"checkout",data:e,dimensions:{width:"90%",height:"90%"}},type:"custom"}}))},children:"Proceed to Checkout"})]}),(0,C.jsx)($.A,{open:c,handleClose:()=>u(!1),additionalData:{onSubmit:()=>(async e=>{if("cart"===e.name){try{var t,i,a,n,s;let l={action:"remove",category:null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&null!==(i=t.course)&&void 0!==i&&i.elite?"elite application":"premium application",courseId:null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.course._id,intake:null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.intake,itemId:null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s._id};const r=await(0,A.iH)(l);r.data.success?(o((0,Ut.Bo)(r.data.data)),o((0,B.DE)({show:!0,data:{container:{name:"success",data:"Product deleted successfully",dimensions:{width:"30%",height:"40%",show:"none"}},type:"custom"}}))):o((0,B.DE)({show:!0,data:{container:{name:"error",data:r.data.message,dimensions:{width:"30%",height:"40%",show:"none"}},type:"custom"}}))}catch(l){}u(!1)}})({name:"cart",data:l}),title:"Are you sure you want to delete this from your cart?",content:"You\u2019re just a few steps away from applying to universities."}})]})},Qt=()=>(0,C.jsx)("div",{children:(0,C.jsxs)(a.A,{children:[(0,C.jsx)(p.A,{color:"#3B3F76",sx:{fontSize:"1.2rem",fontWeight:"500",mb:2},children:"Products"}),(0,C.jsx)(a.A,{children:(0,C.jsx)(Ht,{})})]})});var Jt=i(39336),Zt=i(42904);const Xt=()=>{var e,t;const i=(0,S.G)((e=>e.orders));function o(e){const t=String(e.getDate()).padStart(2,"0"),i=String(e.getMonth()+1).padStart(2,"0"),a=e.getFullYear();return"".concat(t,"-").concat(i,"-").concat(a)}function s(e){return e.toLocaleString("default",{month:"short"})+" "+e.getFullYear()}return(0,C.jsxs)("div",{style:{padding:"2rem"},children:[(0,C.jsx)(p.A,{sx:{position:"relative",width:"1.5rem",height:"1.5rem",borderRadius:"50%",background:"#75ECE5",mb:2},children:(0,C.jsx)(p.A,{color:"#3b3f76",sx:{position:"absolute",top:"-4px",left:"14px",width:"200px"},fontWeight:"500",fontSize:"1.1rem",children:"Orders"})}),(0,C.jsx)(M.Ay,{container:!0,spacing:3,sx:{},children:(null===i||void 0===i||null===(e=i.data)||void 0===e?void 0:e.length)>0?null===i||void 0===i||null===(t=i.data)||void 0===t?void 0:t.map(((e,t)=>{var l,r,d,c,u,m,x,v,g;return(0,C.jsxs)(n.Fragment,{children:[(0,C.jsx)(M.Ay,{item:!0,xs:12,children:(0,C.jsxs)(a.A,{sx:{},children:[(0,C.jsx)(M.Ay,{container:!0,spacing:2,children:null===e||void 0===e||null===(l=e.products)||void 0===l?void 0:l.map(((e,t)=>{var i,n,o,l,r,d,c,u,m;return(0,C.jsx)(M.Ay,{item:!0,xs:12,md:6,lg:4,children:(0,C.jsx)(oe.A,{title:null===(i=e.course)||void 0===i||null===(n=i.university)||void 0===n||null===(o=n.location)||void 0===o?void 0:o.country,i:t,children:(0,C.jsxs)(a.A,{children:[!0===(null===e||void 0===e?void 0:e.cancellationRequest)?(0,C.jsx)("img",{src:f.A.cancelledIcon,alt:"cancelled",style:{position:"absolute",top:"-28px",right:"-26px"}}):"",(0,C.jsxs)(a.A,{sx:{display:"flex",gap:"10px",width:"100%"},children:[(0,C.jsx)("img",{src:(null===(l=e.course)||void 0===l||null===(r=l.university)||void 0===r?void 0:r.logoSrc)||f.A.establishedYear,alt:"logo",style:{width:"1.5rem",height:"1.5rem",marginRight:"5px",borderRadius:"10px"}}),(0,C.jsxs)("div",{style:{flex:1},children:[(0,C.jsx)(h.A,{slotProps:{tooltip:{sx:{color:"#fff",backgroundColor:"#3B3F76",boxShadow:1,"&.MuiTooltip-tooltip":{marginTop:"-5px !important"}}}},title:null===e||void 0===e||null===(d=e.course)||void 0===d?void 0:d.name,placement:"bottom",children:(0,C.jsx)(p.A,{fontSize:"0.9rem",sx:{fontSize:{xs:"13px",lg:"14px"},fontWeight:500,textOverflow:"ellipsis ",lineClamp:1,height:"1.5rem",textTransform:"capitalize",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:"1",WebkitBoxOrient:"vertical"},children:null===e||void 0===e||null===(c=e.course)||void 0===c?void 0:c.name})}),(0,C.jsx)(p.A,{fontSize:"0.9rem",sx:{fontSize:{xs:"12px",lg:"12px"},height:"1.5rem",textTransform:"capitalize",display:"-webkit-box",WebkitBoxOrient:"vertical",my:1},children:null===(u=e.course)||void 0===u||null===(m=u.university)||void 0===m?void 0:m.name})]})]}),(0,C.jsx)(L.A,{direction:"row",justifyContent:"end",spacing:1,sx:{mt:1},children:(0,C.jsxs)(p.A,{component:"span",fontSize:"0.8rem",fontWeight:"500",sx:{display:"flex",alignItems:"center",whiteSpace:"nowrap"},children:[(0,C.jsx)(le.A,{sx:{fontSize:"1.25rem"}}),"\xa0 Start date :",null!==e&&void 0!==e&&e.intake?s(new Date(null===e||void 0===e?void 0:e.intake)):null]})})]})})},t)}))}),(0,C.jsxs)(a.A,{sx:{mt:2,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,C.jsx)(a.A,{children:"paid"!==(null===e||void 0===e||null===(r=e.paymentDetails)||void 0===r?void 0:r.paymentStatus)?(0,C.jsx)(Zt.A,{data:null===e||void 0===e?void 0:e._id,total:Math.floor((null===e||void 0===e||null===(d=e.paymentDetails)||void 0===d?void 0:d.amount)/100).toLocaleString("en-US"),type:"reorder"}):""}),(0,C.jsxs)(a.A,{sx:{float:"right"},children:[(0,C.jsxs)(p.A,{fontSize:"0.9rem",color:"#8D8B8B",children:["Order total:",null===e||void 0===e||null===(c=e.paymentDetails)||void 0===c?void 0:c.currency," ",Math.floor((null===e||void 0===e||null===(u=e.paymentDetails)||void 0===u?void 0:u.amount)/100).toLocaleString("en-US")]}),(0,C.jsxs)(p.A,{fontSize:"0.9rem",color:"#8D8B8B",sx:{color:"paid"===(null===e||void 0===e||null===(m=e.paymentDetails)||void 0===m?void 0:m.paymentStatus)?"green":"red"},children:["Status:",(0,ue.r0)(null===e||void 0===e||null===(x=e.paymentDetails)||void 0===x?void 0:x.paymentStatus)]}),(0,C.jsxs)(p.A,{fontSize:"0.9rem",color:"#8D8B8B",children:["Order placed: ",null!==e&&void 0!==e&&null!==(v=e.paymentDetails)&&void 0!==v&&v.created_at?o(new Date(null===e||void 0===e||null===(g=e.paymentDetails)||void 0===g?void 0:g.created_at)):"N/A"]})]})]})]})}),t<i.data.length-1&&(0,C.jsx)(M.Ay,{item:!0,xs:12,children:(0,C.jsx)(Jt.A,{})})]},t)})):(0,C.jsxs)(M.Ay,{item:!0,xs:12,sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh",flexDirection:"column"},children:[(0,C.jsx)("img",{src:f.A.noData,alt:"noData",style:{width:"70px",height:"70px"}}),(0,C.jsx)(p.A,{children:"No orders "})]})})]})},$t=()=>(0,C.jsxs)(d.BV,{children:[(0,C.jsx)(d.qh,{path:"dashboard",element:(0,C.jsx)(be,{})}),(0,C.jsx)(d.qh,{path:"applications",element:(0,C.jsx)(Mt,{})}),(0,C.jsx)(d.qh,{path:"shortlisted",element:(0,C.jsx)(ce,{})}),(0,C.jsx)(d.qh,{path:"personal",element:(0,C.jsx)(Tt,{})}),(0,C.jsx)(d.qh,{path:"recommendedCourses/:id",element:(0,C.jsx)(_t,{})}),(0,C.jsx)(d.qh,{path:"advisors",element:(0,C.jsx)(Vt,{})}),(0,C.jsx)(d.qh,{path:"documents",element:(0,C.jsx)(ne,{})}),(0,C.jsx)(d.qh,{path:"cart",element:(0,C.jsx)(Qt,{})}),(0,C.jsx)(d.qh,{path:"orders",element:(0,C.jsx)(Xt,{})})]}),ei=()=>(0,C.jsx)(a.A,{sx:{display:"flex",justifyContent:"center",width:"100%",height:"100vh"},children:(0,C.jsxs)(a.A,{sx:{display:"flex",width:"100%",maxWidth:"1440px",height:"100%"},children:[(0,C.jsx)(a.A,{sx:{width:{xs:"60px",md:"220px"},position:"fixed",height:"100vh",zIndex:10,paddingTop:"3rem"},children:(0,C.jsx)(I,{})}),(0,C.jsx)(a.A,{sx:{marginLeft:{xs:"60px",md:"220px"},flexGrow:1,p:2,backgroundColor:"#fff",marginTop:"5rem"},children:(0,C.jsx)($t,{})})]})})}}]);
//# sourceMappingURL=361.ff34961d.chunk.js.map